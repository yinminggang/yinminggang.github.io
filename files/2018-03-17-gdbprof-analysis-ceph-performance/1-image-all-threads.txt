Thread: 1===7922===ceph-osd

+ 100.00% main
  + 100.00% AsyncMessenger::wait
    + 100.00% Wait
      + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 2===21792===rokcsdb::bg0

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% None
      + 100.00% rocksdb::ThreadPoolImpl::Impl::BGThreadWrapper
        + 100.00% rocksdb::ThreadPoolImpl::Impl::BGThread
          + 69.00% rocksdb::DBImpl::BackgroundCallCompaction
          | + 69.00% rocksdb::DBImpl::BackgroundCompaction
          |   + 69.00% rocksdb::CompactionJob::Run
          |     + 69.00% rocksdb::CompactionJob::ProcessKeyValueCompaction
          |       + 56.80% rocksdb::CompactionIterator::Next
          |       | + 42.20% rocksdb::MergingIterator::Next
          |       | | + 42.00% Next
          |       | | | + 25.00% b::(anonymous namespace)::TwoLevelIterator::Next
          |       | | | | + 25.00% Next
          |       | | | |   + 24.40% b::(anonymous namespace)::TwoLevelIterator::SkipEmptyDataBlocksForward
          |       | | | |   | + 24.40% b::(anonymous namespace)::TwoLevelIterator::InitDataBlock
          |       | | | |   |   + 24.20% rocksdb::BlockBasedTable::BlockEntryIteratorState::NewSecondaryIterator
          |       | | | |   |   | + 24.20% rocksdb::BlockBasedTable::NewDataBlockIterator
          |       | | | |   |   |   + 23.60% b::(anonymous namespace)::ReadBlockFromFile
          |       | | | |   |   |   | + 23.40% rocksdb::ReadBlockContents
          |       | | | |   |   |   | | + 23.40% ReadBlock
          |       | | | |   |   |   | |   + 22.40% rocksdb::RandomAccessFileReader::Read
          |       | | | |   |   |   | |   | + 22.40% b::(anonymous namespace)::ReadaheadRandomAccessFile::Read
          |       | | | |   |   |   | |   |   + 22.40% ReadIntoBuffer
          |       | | | |   |   |   | |   |     + 22.40% BlueRocksRandomAccessFile::Read
          |       | | | |   |   |   | |   |       + 22.40% read_random
          |       | | | |   |   |   | |   |         + 22.40% BlueFS::_read_random
          |       | | | |   |   |   | |   |           + 22.40% KernelDevice::read_random
          |       | | | |   |   |   | |   |             + 22.40% pread
          |       | | | |   |   |   | |   |               + 22.40% pread64
          |       | | | |   |   |   | |   + 1.00% Value
          |       | | | |   |   |   | |     + 1.00% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       | | | |   |   |   | |       + 1.00% Fast_CRC32
          |       | | | |   |   |   | |         + 1.00% Slow_CRC32
          |       | | | |   |   |   | + 0.20% rocksdb::Block::Block(rocksdb::BlockContents&&, unsigned long, unsigned long, rocksdb::Statistics*)
          |       | | | |   |   |   |   + 0.20% BlockContents
          |       | | | |   |   |   |     + 0.20% operator=
          |       | | | |   |   |   + 0.40% rocksdb::BlockBasedTable::MaybeLoadDataBlockToCache
          |       | | | |   |   |     + 0.40% rocksdb::BlockBasedTable::GetDataBlockFromCache
          |       | | | |   |   |       + 0.40% b::(anonymous namespace)::GetEntryFromCache
          |       | | | |   |   |         + 0.40% rocksdb::ShardedCache::Lookup
          |       | | | |   |   |           + 0.20% rocksdb::LRUCache::GetShard
          |       | | | |   |   + 0.20% b::(anonymous namespace)::TwoLevelIterator::SetSecondLevelIterator
          |       | | | |   + 0.40% rocksdb::BlockIter::ParseNextKey
          |       | | | |   | + 0.20% TrimAppend
          |       | | | |   | | + 0.20% EnlargeBufferIfNeeded
          |       | | | |   | |   + 0.20% tc_newarray
          |       | | | |   | + 0.20% DecodeEntry
          |       | | | |   + 0.20% b::(anonymous namespace)::TwoLevelIterator::Next
          |       | | | |     + 0.20% Next
          |       | | | + 17.00% b::(anonymous namespace)::TwoLevelIterator::SkipEmptyDataBlocksForward
          |       | | |   + 17.00% b::(anonymous namespace)::TwoLevelIterator::InitDataBlock
          |       | | |     + 17.00% rocksdb::BlockBasedTable::BlockEntryIteratorState::NewSecondaryIterator
          |       | | |       + 17.00% rocksdb::BlockBasedTable::NewDataBlockIterator
          |       | | |         + 16.80% b::(anonymous namespace)::ReadBlockFromFile
          |       | | |           + 16.80% rocksdb::ReadBlockContents
          |       | | |             + 16.80% ReadBlock
          |       | | |               + 16.60% rocksdb::RandomAccessFileReader::Read
          |       | | |               | + 16.60% b::(anonymous namespace)::ReadaheadRandomAccessFile::Read
          |       | | |               |   + 16.40% ReadIntoBuffer
          |       | | |               |   | + 16.40% BlueRocksRandomAccessFile::Read
          |       | | |               |   |   + 16.40% read_random
          |       | | |               |   |     + 16.40% BlueFS::_read_random
          |       | | |               |   |       + 16.40% KernelDevice::read_random
          |       | | |               |   |         + 16.40% pread
          |       | | |               |   |           + 16.40% pread64
          |       | | |               |   + 0.20% TryReadFromCache
          |       | | |               |     + 0.20% memcpy
          |       | | |               |       + 0.20% __memcpy_ssse3_back
          |       | | |               + 0.20% Value
          |       | | |                 + 0.20% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       | | |                   + 0.20% Fast_CRC32
          |       | | |                     + 0.20% Slow_CRC32
          |       | | + 0.20% replace_top
          |       | |   + 0.20% downheap
          |       | |     + 0.20% operator()
          |       | + 14.60% rocksdb::CompactionIterator::NextFromInput
          |       |   + 13.20% rocksdb::MergingIterator::Next
          |       |   | + 12.80% Next
          |       |   | | + 9.40% b::(anonymous namespace)::TwoLevelIterator::Next
          |       |   | | | + 9.40% Next
          |       |   | | |   + 9.20% b::(anonymous namespace)::TwoLevelIterator::SkipEmptyDataBlocksForward
          |       |   | | |   | + 9.20% b::(anonymous namespace)::TwoLevelIterator::InitDataBlock
          |       |   | | |   |   + 9.20% rocksdb::BlockBasedTable::BlockEntryIteratorState::NewSecondaryIterator
          |       |   | | |   |     + 9.20% rocksdb::BlockBasedTable::NewDataBlockIterator
          |       |   | | |   |       + 9.20% b::(anonymous namespace)::ReadBlockFromFile
          |       |   | | |   |         + 9.20% rocksdb::ReadBlockContents
          |       |   | | |   |           + 9.20% ReadBlock
          |       |   | | |   |             + 8.40% rocksdb::RandomAccessFileReader::Read
          |       |   | | |   |             | + 8.40% b::(anonymous namespace)::ReadaheadRandomAccessFile::Read
          |       |   | | |   |             |   + 8.20% ReadIntoBuffer
          |       |   | | |   |             |   | + 8.20% BlueRocksRandomAccessFile::Read
          |       |   | | |   |             |   |   + 8.20% read_random
          |       |   | | |   |             |   |     + 8.20% BlueFS::_read_random
          |       |   | | |   |             |   |       + 8.20% KernelDevice::read_random
          |       |   | | |   |             |   |         + 8.20% pread
          |       |   | | |   |             |   |           + 8.20% pread64
          |       |   | | |   |             |   + 0.20% memcpy
          |       |   | | |   |             |     + 0.20% __memcpy_ssse3_back
          |       |   | | |   |             + 0.80% Value
          |       |   | | |   |               + 0.80% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       |   | | |   |                 + 0.80% Fast_CRC32
          |       |   | | |   |                   + 0.80% Slow_CRC32
          |       |   | | |   + 0.20% b::(anonymous namespace)::TwoLevelIterator::Next
          |       |   | | |     + 0.20% Next
          |       |   | | |       + 0.20% rocksdb::BlockIter::ParseNextKey
          |       |   | | |         + 0.20% TrimAppend
          |       |   | | |           + 0.20% memcpy
          |       |   | | |             + 0.20% __memcpy_ssse3_back
          |       |   | | + 3.40% b::(anonymous namespace)::TwoLevelIterator::SkipEmptyDataBlocksForward
          |       |   | |   + 3.40% b::(anonymous namespace)::TwoLevelIterator::InitDataBlock
          |       |   | |     + 3.40% rocksdb::BlockBasedTable::BlockEntryIteratorState::NewSecondaryIterator
          |       |   | |       + 3.40% rocksdb::BlockBasedTable::NewDataBlockIterator
          |       |   | |         + 3.40% b::(anonymous namespace)::ReadBlockFromFile
          |       |   | |           + 3.40% rocksdb::ReadBlockContents
          |       |   | |             + 3.40% ReadBlock
          |       |   | |               + 3.20% rocksdb::RandomAccessFileReader::Read
          |       |   | |               | + 3.20% b::(anonymous namespace)::ReadaheadRandomAccessFile::Read
          |       |   | |               |   + 3.20% ReadIntoBuffer
          |       |   | |               |     + 3.20% BlueRocksRandomAccessFile::Read
          |       |   | |               |       + 3.20% read_random
          |       |   | |               |         + 3.20% BlueFS::_read_random
          |       |   | |               |           + 3.20% KernelDevice::read_random
          |       |   | |               |             + 3.20% pread
          |       |   | |               |               + 3.20% pread64
          |       |   | |               + 0.20% Value
          |       |   | |                 + 0.20% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       |   | |                   + 0.20% Fast_CRC32
          |       |   | |                     + 0.20% Slow_CRC32
          |       |   | + 0.40% replace_top
          |       |   |   + 0.40% downheap
          |       |   |     + 0.40% operator()
          |       |   |       + 0.40% rocksdb::InternalKeyComparator::Compare
          |       |   |         + 0.20% b::(anonymous namespace)::BytewiseComparatorImpl::Compare
          |       |   |           + 0.20% compare
          |       |   + 0.40% SetInternalKey
          |       |   | + 0.40% SetInternalKey
          |       |   |   + 0.40% SetKeyImpl
          |       |   |     + 0.40% memcpy
          |       |   |       + 0.40% __memcpy_ssse3_back
          |       |   + 0.20% rocksdb::RangeDelAggregator::ShouldDelete
          |       |   | + 0.20% ParseInternalKey
          |       |   + 0.20% rocksdb::MergingIterator::value
          |       |   | + 0.20% value
          |       |   |   + 0.20% b::(anonymous namespace)::TwoLevelIterator::value
          |       |   + 0.20% rocksdb::MergingIterator::key
          |       |   + 0.20% b::(anonymous namespace)::BytewiseComparatorImpl::Equal
          |       + 9.80% rocksdb::BlockBasedTableBuilder::Add
          |       | + 6.60% rocksdb::BlockBasedTableBuilder::Flush
          |       | | + 4.20% rocksdb::BlockBasedTableBuilder::WriteBlock
          |       | | | + 4.00% rocksdb::BlockBasedTableBuilder::WriteBlock
          |       | | | | + 4.00% rocksdb::BlockBasedTableBuilder::WriteRawBlock
          |       | | | |   + 2.40% Value
          |       | | | |   | + 2.40% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       | | | |   |   + 2.20% Fast_CRC32
          |       | | | |   |     + 2.20% Slow_CRC32
          |       | | | |   + 1.60% rocksdb::WritableFileWriter::Append
          |       | | | |     + 1.60% rocksdb::WritableFileWriter::Flush
          |       | | | |       + 1.00% rocksdb::WritableFileWriter::WriteBuffered
          |       | | | |       | + 1.00% BlueRocksWritableFile::Append
          |       | | | |       |   + 1.00% append
          |       | | | |       |     + 1.00% append
          |       | | | |       |       + 1.00% memcpy
          |       | | | |       |         + 1.00% __memcpy_ssse3_back
          |       | | | |       + 0.60% BlueRocksWritableFile::Flush
          |       | | | |         + 0.60% flush
          |       | | | |           + 0.60% lock_guard
          |       | | | |             + 0.60% lock
          |       | | | |               + 0.60% __gthread_mutex_lock
          |       | | | |                 + 0.60% pthread_mutex_lock
          |       | | | |                   + 0.60% _L_lock_812
          |       | | | |                     + 0.60% __lll_lock_wait
          |       | | | + 0.20% rocksdb::BlockBuilder::Finish
          |       | | |   + 0.20% PutFixed32
          |       | | + 2.40% rocksdb::BlockBasedFilterBlockBuilder::StartBlock
          |       | |   + 2.40% rocksdb::BlockBasedFilterBlockBuilder::GenerateFilter
          |       | |     + 2.20% b::(anonymous namespace)::BloomFilterPolicy::CreateFilter
          |       | |     | + 0.80% rocksdb::Hash
          |       | |     + 0.20% push_back
          |       | |       + 0.20% std::vector<unsigned int, std::allocator<unsigned int> >::emplace_back<unsigned int>(unsigned int&&)
          |       | |         + 0.20% construct<unsigned int, unsigned int>
          |       | |           + 0.20% _S_construct<unsigned int, unsigned int>
          |       | |             + 0.20% construct<unsigned int, unsigned int>
          |       | + 1.20% rocksdb::BlockBuilder::Add
          |       | | + 0.80% std::string::append(char const*, unsigned long)
          |       | | | + 0.80% __memcpy_ssse3_back
          |       | | + 0.20% std::string::_M_replace_safe(unsigned long, unsigned long, char const*, unsigned long)
          |       | | | + 0.20% std::string::_M_mutate(unsigned long, unsigned long, unsigned long)
          |       | | + 0.20% difference_offset
          |       | + 1.00% rocksdb::NotifyCollectTableCollectorsOnAdd
          |       | | + 0.40% rocksdb::InternalKeyPropertiesCollector::InternalAdd
          |       | | | + 0.20% ParseInternalKey
          |       | | |   + 0.20% IsExtendedValueType
          |       | | |     + 0.20% IsValueType
          |       | | + 0.20% ~Status
          |       | + 0.80% rocksdb::ShortenedIndexBuilder::AddIndexEntry
          |       | | + 0.40% rocksdb::InternalKeyComparator::FindShortestSeparator
          |       | | | + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, unsigned long, std::allocator<char> const&)
          |       | | | | + 0.20% char* std::string::_S_construct<char const*>(char const*, char const*, std::allocator<char> const&, std::forward_iterator_tag)
          |       | | | + 0.20% PutFixed64
          |       | | |   + 0.20% std::string::append(char const*, unsigned long)
          |       | | |     + 0.20% std::string::reserve(unsigned long)
          |       | | |       + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          |       | | |         + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          |       | | |           + 0.20% tc_new
          |       | | + 0.20% ~basic_string
          |       | | | + 0.20% _M_dispose
          |       | | |   + 0.20% tc_delete
          |       | | + 0.20% rocksdb::BlockBuilder::Add
          |       | |   + 0.20% std::string::append(char const*, unsigned long)
          |       | |     + 0.20% __memcpy_ssse3_back
          |       | + 0.20% ok
          |       |   + 0.20% rocksdb::BlockBasedTableBuilder::status
          |       + 0.60% rocksdb::CompactionJob::FinishCompactionOutputFile
          |       | + 0.60% rocksdb::WritableFileWriter::Sync
          |       |   + 0.40% rocksdb::WritableFileWriter::SyncInternal
          |       |   | + 0.40% BlueRocksWritableFile::Sync
          |       |   |   + 0.40% fsync
          |       |   |     + 0.40% BlueFS::_fsync
          |       |   |       + 0.40% BlueFS::_flush_bdev_safely
          |       |   |         + 0.20% clear
          |       |   |         | + 0.20% std::_List_base<aio_t, std::allocator<aio_t> >::_M_clear
          |       |   |         |   + 0.20% destroy<std::_List_node<aio_t> >
          |       |   |         |     + 0.20% ~_List_node
          |       |   |         |       + 0.20% ~aio_t
          |       |   |         |         + 0.20% ~list
          |       |   |         |           + 0.20% ~list
          |       |   |         |             + 0.20% ~_List_base
          |       |   |         |               + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |       |   |         |                 + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |       |   |         |                   + 0.20% ~_List_node
          |       |   |         |                     + 0.20% ~ptr
          |       |   |         |                       + 0.20% ceph::buffer::ptr::release
          |       |   |         |                         + 0.20% ceph::buffer::raw_posix_aligned::~raw_posix_aligned
          |       |   |         |                           + 0.20% ~raw_posix_aligned
          |       |   |         |                             + 0.20% tc_free
          |       |   |         |                               + 0.20% tcmalloc::PageHeap::Delete(tcmalloc::Span*)
          |       |   |         |                                 + 0.20% tcmalloc::PageHeap::MergeIntoFreeList(tcmalloc::Span*)
          |       |   |         |                                   + 0.20% tcmalloc::PageHeap::DecommitSpan(tcmalloc::Span*)
          |       |   |         |                                     + 0.20% TCMalloc_SystemRelease(void*, unsigned long)
          |       |   |         |                                       + 0.20% madvise
          |       |   |         + 0.20% BlueFS::wait_for_aio
          |       |   |           + 0.20% IOContext::aio_wait
          |       |   |             + 0.20% std::condition_variable::wait(std::unique_lock<std::mutex>&)
          |       |   |               + 0.20% pthread_cond_wait@@GLIBC_2.3.2
          |       |   + 0.20% rocksdb::WritableFileWriter::Flush
          |       |     + 0.20% BlueRocksWritableFile::Flush
          |       |       + 0.20% flush
          |       |         + 0.20% BlueFS::_flush
          |       |           + 0.20% BlueFS::_flush_range
          |       |             + 0.20% IOContext::aio_wait
          |       |               + 0.20% std::condition_variable::wait(std::unique_lock<std::mutex>&)
          |       |                 + 0.20% pthread_cond_wait@@GLIBC_2.3.2
          |       + 0.40% rocksdb::MergingIterator::SeekToFirst
          |       | + 0.40% SeekToFirst
          |       |   + 0.40% b::(anonymous namespace)::TwoLevelIterator::SeekToFirst
          |       |     + 0.40% b::(anonymous namespace)::TwoLevelIterator::InitDataBlock
          |       |       + 0.40% b::(anonymous namespace)::LevelFileIteratorState::NewSecondaryIterator
          |       |         + 0.40% rocksdb::TableCache::NewIterator
          |       |           + 0.40% rocksdb::TableCache::GetTableReader
          |       |             + 0.40% rocksdb::BlockBasedTableFactory::NewTableReader(rocksdb::TableReaderOptions const&, std::unique_ptr<rocksdb::RandomAccessFileReader, std::default_delete<rocksdb::RandomAccessFileReader> >&&, unsigned long, std::unique_ptr<rocksdb::TableReader, std::default_delete<rocksdb::TableReader> >*, bool) const
          |       |               + 0.40% rocksdb::BlockBasedTable::Open(rocksdb::ImmutableCFOptions const&, rocksdb::EnvOptions const&, rocksdb::BlockBasedTableOptions const&, rocksdb::InternalKeyComparator const&, std::unique_ptr<rocksdb::RandomAccessFileReader, std::default_delete<rocksdb::RandomAccessFileReader> >&&, unsigned long, std::unique_ptr<rocksdb::TableReader, std::default_delete<rocksdb::TableReader> >*, bool, bool, int)
          |       |                 + 0.20% rocksdb::BlockBasedTable::NewIndexIterator
          |       |                 | + 0.20% rocksdb::BlockBasedTable::CreateIndexReader
          |       |                 |   + 0.20% Create
          |       |                 |     + 0.20% b::(anonymous namespace)::ReadBlockFromFile
          |       |                 |       + 0.20% rocksdb::ReadBlockContents
          |       |                 |         + 0.20% ReadBlock
          |       |                 |           + 0.20% Value
          |       |                 |             + 0.20% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       |                 |               + 0.20% Fast_CRC32
          |       |                 |                 + 0.20% Slow_CRC32
          |       |                 + 0.20% Prefetch
          |       |                   + 0.20% b::(anonymous namespace)::ReadaheadRandomAccessFile::Prefetch
          |       |                     + 0.20% ReadIntoBuffer
          |       |                       + 0.20% BlueRocksRandomAccessFile::Read
          |       |                         + 0.20% read_random
          |       |                           + 0.20% BlueFS::_read_random
          |       |                             + 0.20% KernelDevice::read_random
          |       |                               + 0.20% pread
          |       |                                 + 0.20% pread64
          |       + 0.40% rocksdb::CompactionJob::SubcompactionState::ShouldStopBefore
          |       + 0.40% UpdateBoundaries
          |       | + 0.40% DecodeFrom
          |       |   + 0.40% std::string::_M_replace_safe(unsigned long, unsigned long, char const*, unsigned long)
          |       |     + 0.20% std::string::_M_mutate(unsigned long, unsigned long, unsigned long)
          |       |     + 0.20% __memcpy_ssse3_back
          |       + 0.20% rocksdb::VersionSet::MakeInputIterator
          |       | + 0.20% rocksdb::TableCache::NewIterator
          |       |   + 0.20% rocksdb::TableCache::GetTableReader
          |       |     + 0.20% rocksdb::BlockBasedTableFactory::NewTableReader(rocksdb::TableReaderOptions const&, std::unique_ptr<rocksdb::RandomAccessFileReader, std::default_delete<rocksdb::RandomAccessFileReader> >&&, unsigned long, std::unique_ptr<rocksdb::TableReader, std::default_delete<rocksdb::TableReader> >*, bool) const
          |       |       + 0.20% rocksdb::BlockBasedTable::Open(rocksdb::ImmutableCFOptions const&, rocksdb::EnvOptions const&, rocksdb::BlockBasedTableOptions const&, rocksdb::InternalKeyComparator const&, std::unique_ptr<rocksdb::RandomAccessFileReader, std::default_delete<rocksdb::RandomAccessFileReader> >&&, unsigned long, std::unique_ptr<rocksdb::TableReader, std::default_delete<rocksdb::TableReader> >*, bool, bool, int)
          |       |         + 0.20% rocksdb::BlockBasedTable::NewIndexIterator
          |       |           + 0.20% rocksdb::BlockBasedTable::CreateIndexReader
          |       |             + 0.20% Create
          |       |               + 0.20% b::(anonymous namespace)::ReadBlockFromFile
          |       |                 + 0.20% rocksdb::ReadBlockContents
          |       |                   + 0.20% ReadBlock
          |       |                     + 0.20% Value
          |       |                       + 0.20% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
          |       |                         + 0.20% Fast_CRC32
          |       |                           + 0.20% Slow_CRC32
          |       + 0.20% rocksdb::BlockBasedTableBuilder::FileSize
          |       + 0.20% reset
          |         + 0.20% operator()
          |           + 0.20% rocksdb::MergingIterator::~MergingIterator
          |             + 0.20% ~MergingIterator
          |               + 0.20% DeleteIter
          |                 + 0.20% b::(anonymous namespace)::TwoLevelIterator::~TwoLevelIterator
          |                   + 0.20% ~TwoLevelIterator
          |                     + 0.20% ~InternalIterator
          |                       + 0.20% rocksdb::Cleanable::~Cleanable
          |                         + 0.20% DoCleanup
          |                           + 0.20% rocksdb::BlockBasedTable::~BlockBasedTable
          |                             + 0.20% rocksdb::BlockBasedTable::~BlockBasedTable
          |                               + 0.20% rocksdb::BlockBasedTable::Close
          |                                 + 0.20% rocksdb::LRUCacheShard::Erase
          |                                   + 0.20% Free
          |                                     + 0.20% rocksdb::BinarySearchIndexReader::~BinarySearchIndexReader
          |                                       + 0.20% ~BinarySearchIndexReader
          |                                         + 0.20% ~unique_ptr
          |                                           + 0.20% operator()
          |                                             + 0.20% ~Block
          |                                               + 0.20% ~BlockContents
          |                                                 + 0.20% ~unique_ptr
          |                                                   + 0.20% operator()
          |                                                     + 0.20% tc_deletearray
          |                                                       + 0.20% tcmalloc::PageHeap::Delete(tcmalloc::Span*)
          |                                                         + 0.20% tcmalloc::PageHeap::MergeIntoFreeList(tcmalloc::Span*)
          |                                                           + 0.20% tcmalloc::PageHeap::DecommitSpan(tcmalloc::Span*)
          |                                                             + 0.20% TCMalloc_SystemRelease(void*, unsigned long)
          |                                                               + 0.20% madvise
          + 31.00% std::condition_variable::wait(std::unique_lock<std::mutex>&)
            + 31.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 3===21297===rocksdb::bg0

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% None
      + 100.00% rocksdb::ThreadPoolImpl::Impl::BGThreadWrapper
        + 100.00% rocksdb::ThreadPoolImpl::Impl::BGThread
          + 90.80% std::condition_variable::wait(std::unique_lock<std::mutex>&)
          | + 90.80% pthread_cond_wait@@GLIBC_2.3.2
          + 9.20% rocksdb::DBImpl::BackgroundCallFlush
            + 9.20% rocksdb::DBImpl::BackgroundFlush
              + 9.20% rocksdb::DBImpl::FlushMemTableToOutputFile
                + 9.20% rocksdb::FlushJob::Run
                  + 9.20% rocksdb::FlushJob::WriteLevel0Table
                    + 9.20% rocksdb::BuildTable
                      + 5.00% rocksdb::BlockBasedTableBuilder::Add
                      | + 4.00% rocksdb::BlockBasedTableBuilder::Flush
                      | | + 3.80% rocksdb::BlockBasedTableBuilder::WriteBlock
                      | | | + 3.80% rocksdb::BlockBasedTableBuilder::WriteBlock
                      | | |   + 3.80% rocksdb::BlockBasedTableBuilder::WriteRawBlock
                      | | |     + 3.00% rocksdb::WritableFileWriter::Append
                      | | |     | + 3.00% rocksdb::WritableFileWriter::Flush
                      | | |     |   + 2.80% BlueRocksWritableFile::Flush
                      | | |     |   | + 2.80% flush
                      | | |     |   |   + 2.80% BlueFS::_flush
                      | | |     |   |     + 2.80% BlueFS::_flush_range
                      | | |     |   |       + 2.80% IOContext::aio_wait
                      | | |     |   |         + 2.80% std::condition_variable::wait(std::unique_lock<std::mutex>&)
                      | | |     |   |           + 2.80% pthread_cond_wait@@GLIBC_2.3.2
                      | | |     |   + 0.20% rocksdb::WritableFileWriter::WriteBuffered
                      | | |     |     + 0.20% BlueRocksWritableFile::Append
                      | | |     |       + 0.20% append
                      | | |     |         + 0.20% append
                      | | |     |           + 0.20% memcpy
                      | | |     |             + 0.20% __memcpy_ssse3_back
                      | | |     + 0.80% Value
                      | | |       + 0.80% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
                      | | |         + 0.80% Fast_CRC32
                      | | |           + 0.80% Slow_CRC32
                      | | + 0.20% rocksdb::BlockBasedFilterBlockBuilder::StartBlock
                      | |   + 0.20% rocksdb::BlockBasedFilterBlockBuilder::GenerateFilter
                      | |     + 0.20% b::(anonymous namespace)::BloomFilterPolicy::CreateFilter
                      | + 0.80% rocksdb::BlockBuilder::Add
                      |   + 0.40% std::string::append(char const*, unsigned long)
                      |   | + 0.40% __memcpy_ssse3_back
                      |   + 0.40% PutVarint32Varint32Varint32
                      |     + 0.20% std::string::append(char const*, unsigned long)
                      |     | + 0.20% __memcpy_ssse3_back
                      |     + 0.20% rocksdb::EncodeVarint32
                      + 3.20% rocksdb::CompactionIterator::Next
                      | + 2.00% rocksdb::CompactionIterator::NextFromInput
                      | | + 1.20% rocksdb::MergingIterator::Next
                      | | | + 1.20% Next
                      | | |   + 1.20% Update
                      | | |     + 1.20% rocksdb::MemTableIterator::key
                      | | |       + 1.00% GetLengthPrefixedSlice
                      | | |         + 1.00% GetVarint32Ptr
                      | | + 0.20% rocksdb::RangeDelAggregator::ShouldDelete
                      | | | + 0.20% rocksdb::RangeDelAggregator::ShouldDelete
                      | | + 0.20% rocksdb::MergingIterator::value
                      | | | + 0.20% value
                      | | |   + 0.20% rocksdb::MemTableIterator::value
                      | | |     + 0.20% GetLengthPrefixedSlice
                      | | |       + 0.20% GetVarint32Ptr
                      | | |         + 0.20% rocksdb::GetVarint32PtrFallback
                      | | + 0.20% b::(anonymous namespace)::BytewiseComparatorImpl::Equal
                      | |   + 0.20% operator==
                      | |     + 0.20% __memcmp_sse4_1
                      | + 1.20% rocksdb::MergingIterator::Next
                      |   + 1.00% Next
                      |   | + 0.80% Update
                      |   | | + 0.80% rocksdb::MemTableIterator::key
                      |   | |   + 0.80% GetLengthPrefixedSlice
                      |   | |     + 0.80% GetVarint32Ptr
                      |   | + 0.20% rocksdb::MemTableIterator::Next
                      |   |   + 0.20% b::(anonymous namespace)::SkipListRep::Iterator::Next
                      |   |     + 0.20% Next
                      |   + 0.20% replace_top
                      |     + 0.20% downheap
                      |       + 0.20% operator()
                      |         + 0.20% rocksdb::InternalKeyComparator::Compare
                      |           + 0.20% b::(anonymous namespace)::BytewiseComparatorImpl::Compare
                      |             + 0.20% compare
                      |               + 0.20% __memcmp_sse4_1
                      + 0.60% rocksdb::TableCache::NewIterator
                      | + 0.60% rocksdb::TableCache::FindTable
                      |   + 0.60% rocksdb::TableCache::GetTableReader
                      |     + 0.60% rocksdb::BlockBasedTableFactory::NewTableReader(rocksdb::TableReaderOptions const&, std::unique_ptr<rocksdb::RandomAccessFileReader, std::default_delete<rocksdb::RandomAccessFileReader> >&&, unsigned long, std::unique_ptr<rocksdb::TableReader, std::default_delete<rocksdb::TableReader> >*, bool) const
                      |       + 0.60% rocksdb::BlockBasedTable::Open(rocksdb::ImmutableCFOptions const&, rocksdb::EnvOptions const&, rocksdb::BlockBasedTableOptions const&, rocksdb::InternalKeyComparator const&, std::unique_ptr<rocksdb::RandomAccessFileReader, std::default_delete<rocksdb::RandomAccessFileReader> >&&, unsigned long, std::unique_ptr<rocksdb::TableReader, std::default_delete<rocksdb::TableReader> >*, bool, bool, int)
                      |         + 0.60% rocksdb::BlockBasedTable::GetFilter
                      |           + 0.60% rocksdb::BlockBasedTable::GetFilter
                      |             + 0.60% rocksdb::BlockBasedTable::ReadFilter
                      |               + 0.60% rocksdb::ReadBlockContents
                      |                 + 0.60% ReadBlock
                      |                   + 0.40% Value
                      |                   | + 0.40% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
                      |                   |   + 0.40% Fast_CRC32
                      |                   |     + 0.40% Slow_CRC32
                      |                   + 0.20% rocksdb::RandomAccessFileReader::Read
                      |                     + 0.20% BlueRocksRandomAccessFile::Read
                      |                       + 0.20% read_random
                      |                         + 0.20% BlueFS::_read_random
                      |                           + 0.20% KernelDevice::read_random
                      |                             + 0.20% KernelDevice::direct_read_unaligned
                      |                               + 0.20% pread
                      |                                 + 0.20% pread64
                      + 0.20% rocksdb::ThreadStatusUtil::SetThreadOperationProperty
                      | + 0.20% rocksdb::ThreadStatusUpdater::SetThreadOperationProperty
                      |   + 0.20% rocksdb::ThreadStatusUpdater::GetLocalThreadStatus
                      + 0.20% rocksdb::BlockBasedTableBuilder::Finish
                        + 0.20% rocksdb::BlockBasedTableBuilder::WriteRawBlock
                          + 0.20% Value
                            + 0.20% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
                              + 0.20% Fast_CRC32
                                + 0.20% Slow_CRC32

Thread: 4===8133===singal_handler

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SignalHandler::entry
      + 100.00% poll
        + 100.00% poll

Thread: 5===8132===osd_srv_agent

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% OSDService::AgentThread::entry
      + 100.00% OSDService::agent_entry
        + 100.00% Cond::Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 6===8131===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 7===8130===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 8===8129===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 9===8128===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 10===8127===fn_anonymous

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% Finisher::finisher_thread_entry
      + 100.00% Wait
        + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 11===8126===fn_anonymous

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% Finisher::finisher_thread_entry
      + 100.00% Wait
        + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 12===8125===osd_srv_heartbt

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% OSD::T_Heartbeat::entry
      + 100.00% OSD::heartbeat_entry
        + 100.00% WaitInterval
          + 100.00% WaitUntil
            + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 13===8124===tp_osd_cmd

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ThreadPool::WorkThread::entry
      + 100.00% ThreadPool::worker
        + 100.00% WaitInterval
          + 100.00% WaitUntil
            + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 14===8123===tp_osd_disk

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ThreadPool::WorkThread::entry
      + 100.00% ThreadPool::worker
        + 100.00% WaitInterval
          + 100.00% WaitUntil
            + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 15===8122===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 96.40% WaitInterval
          | + 96.40% WaitUntil
          |   + 96.40% pthread_cond_timedwait@@GLIBC_2.3.2
          + 3.40% run
          | + 3.40% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 3.40% apply_visitor<PGQueueable::RunVis>
          |     + 3.40% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 3.40% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 3.40% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 3.40% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 3.40% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 3.40% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 3.40% PGQueueable::RunVis::operator()
          |                   + 3.40% OSD::dequeue_op
          |                     + 3.40% PrimaryLogPG::do_request
          |                       + 2.00% PrimaryLogPG::do_op
          |                       | + 2.00% PrimaryLogPG::execute_ctx
          |                       |   + 2.00% PrimaryLogPG::issue_repop
          |                       |     + 2.00% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       |       + 1.20% PrimaryLogPG::queue_transactions
          |                       |       | + 1.20% queue_transactions
          |                       |       |   + 1.20% BlueStore::queue_transactions
          |                       |       |     + 1.00% BlueStore::_txc_add_transaction
          |                       |       |     | + 0.40% begin
          |                       |       |     | | + 0.40% iterator
          |                       |       |     | |   + 0.40% ceph::buffer::list::get_contiguous
          |                       |       |     | |     + 0.40% ceph::buffer::list::rebuild
          |                       |       |     | |       + 0.20% ceph::buffer::ptr::operator=(ceph::buffer::ptr&&)
          |                       |       |     | |       | + 0.20% ceph::buffer::ptr::release
          |                       |       |     | |       + 0.20% ceph::buffer::list::rebuild
          |                       |       |     | |         + 0.20% clear
          |                       |       |     | |           + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                       |       |     | |             + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |                       |       |     | |               + 0.20% ~_List_node
          |                       |       |     | |                 + 0.20% ~ptr
          |                       |       |     | |                   + 0.20% ceph::buffer::ptr::release
          |                       |       |     | + 0.20% BlueStore::_omap_setkeys
          |                       |       |     | | + 0.20% operator+=
          |                       |       |     | |   + 0.20% std::string::append(std::string const&)
          |                       |       |     | |     + 0.20% std::string::reserve(unsigned long)
          |                       |       |     | |       + 0.20% tc_delete
          |                       |       |     | + 0.20% BlueStore::_omap_rmkeys
          |                       |       |     | | + 0.20% RocksDBStore::RocksDBTransactionImpl::rmkey
          |                       |       |     | |   + 0.20% combine_strings
          |                       |       |     | |     + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
          |                       |       |     | + 0.20% BlueStore::Collection::get_onode
          |                       |       |     |   + 0.20% BlueStore::OnodeSpace::lookup
          |                       |       |     |     + 0.20% find
          |                       |       |     |       + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::find
          |                       |       |     |         + 0.20% _M_find_node
          |                       |       |     |           + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                       |       |     |             + 0.20% _M_bucket_index
          |                       |       |     |               + 0.20% _M_bucket_index
          |                       |       |     |                 + 0.20% operator()
          |                       |       |     + 0.20% BlueStore::_txc_write_nodes
          |                       |       |       + 0.20% ~intrusive_ptr
          |                       |       |         + 0.20% intrusive_ptr_release
          |                       |       |           + 0.20% BlueStore::Onode::put
          |                       |       + 0.40% ReplicatedBackend::issue_op
          |                       |       | + 0.40% OSDService::send_message_osd_cluster
          |                       |       |   + 0.40% AsyncConnection::send_message
          |                       |       |     + 0.20% lock_guard
          |                       |       |     | + 0.20% lock
          |                       |       |     |   + 0.20% __gthread_mutex_lock
          |                       |       |     |     + 0.20% pthread_mutex_lock
          |                       |       |     |       + 0.20% _L_lock_812
          |                       |       |     |         + 0.20% __lll_lock_wait
          |                       |       |     + 0.20% ceph::logging::Log::submit_entry
          |                       |       |       + 0.20% pthread_mutex_lock
          |                       |       |         + 0.20% _L_lock_812
          |                       |       |           + 0.20% __lll_lock_wait
          |                       |       + 0.20% ~unique_ptr
          |                       |       | + 0.20% operator()
          |                       |       |   + 0.20% ~PGTransaction
          |                       |       |     + 0.20% ~map
          |                       |       |       + 0.20% ~_Rb_tree
          |                       |       |         + 0.20% std::_Rb_tree<hobject_t, std::pair<hobject_t const, PGTransaction::ObjectOperation>, std::_Select1st<std::pair<hobject_t const, PGTransaction::ObjectOperation> >, std::less<hobject_t>, std::allocator<std::pair<hobject_t const, PGTransaction::ObjectOperation> > >::_M_erase
          |                       |       |           + 0.20% _M_destroy_node
          |                       |       |             + 0.20% destroy<std::_Rb_tree_node<std::pair<hobject_t const, PGTransaction::ObjectOperation> > >
          |                       |       |               + 0.20% ~_Rb_tree_node
          |                       |       |                 + 0.20% ~pair
          |                       |       |                   + 0.20% ~ObjectOperation
          |                       |       |                     + 0.20% ~interval_map
          |                       |       |                       + 0.20% ~map
          |                       |       |                         + 0.20% ~_Rb_tree
          |                       |       |                           + 0.20% std::_Rb_tree<unsigned long, std::pair<unsigned long const, std::pair<unsigned long, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange> > >, std::_Select1st<std::pair<unsigned long const, std::pair<unsigned long, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange> > > >, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, std::pair<unsigned long, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange> > > > >::_M_erase
          |                       |       |                             + 0.20% _M_destroy_node
          |                       |       |                               + 0.20% destroy<std::_Rb_tree_node<std::pair<unsigned long const, std::pair<unsigned long, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange> > > > >
          |                       |       |                                 + 0.20% ~_Rb_tree_node
          |                       |       |                                   + 0.20% ~pair
          |                       |       |                                     + 0.20% ~pair
          |                       |       |                                       + 0.20% ~variant
          |                       |       |                                         + 0.20% destroy_content
          |                       |       |                                           + 0.20% internal_apply_visitor<boost::detail::variant::destroyer>
          |                       |       |                                             + 0.20% internal_apply_visitor_impl<boost::detail::variant::destroyer, void*>
          |                       |       |                                               + 0.20% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<3l>, PGTransaction::ObjectOperation::BufferUpdate::Write, boost::mpl::l_item<mpl_::long_<2l>, PGTransaction::ObjectOperation::BufferUpdate::Zero, boost::mpl::l_item<mpl_::long_<1l>, PGTransaction::ObjectOperation::BufferUpdate::CloneRange, boost::mpl::l_end> > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::destroyer, void*, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange>::has_fallback_type_>
          |                       |       |                                                 + 0.20% visitation_impl_invoke<boost::detail::variant::destroyer, void*, PGTransaction::ObjectOperation::BufferUpdate::Write, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange>::has_fallback_type_>
          |                       |       |                                                   + 0.20% visitation_impl_invoke_impl<boost::detail::variant::destroyer, void*, PGTransaction::ObjectOperation::BufferUpdate::Write>
          |                       |       |                                                     + 0.20% internal_visit<PGTransaction::ObjectOperation::BufferUpdate::Write>
          |                       |       |                                                       + 0.20% ~Write
          |                       |       |                                                         + 0.20% ~list
          |                       |       |                                                           + 0.20% ~list
          |                       |       |                                                             + 0.20% ~_List_base
          |                       |       |                                                               + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                       |       |                                                                 + 0.20% _M_put_node
          |                       |       |                                                                   + 0.20% deallocate
          |                       |       |                                                                     + 0.20% tc_delete
          |                       |       + 0.20% PrimaryLogPG::log_operation
          |                       |         + 0.20% PG::append_log
          |                       |           + 0.20% PG::write_if_dirty
          |                       |             + 0.20% PGLog::write_log_and_missing
          |                       |               + 0.20% std::basic_ostream<char, std::char_traits<char> >::basic_ostream(std::basic_streambuf<char, std::char_traits<char> >*)
          |                       |                 + 0.20% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
          |                       |                   + 0.20% std::basic_ios<char, std::char_traits<char> >::_M_cache_locale(std::locale const&)
          |                       |                     + 0.20% bool std::has_facet<std::ctype<char> >(std::locale const&)
          |                       |                       + 0.20% __dynamic_cast
          |                       |                         + 0.20% __cxxabiv1::__vmi_class_type_info::__do_dyncast(long, __cxxabiv1::__class_type_info::__sub_kind, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info::__dyncast_result&) const
          |                       |                           + 0.20% __strcmp_sse42
          |                       + 1.40% PGBackend::handle_message
          |                         + 1.40% ReplicatedBackend::_handle_message
          |                           + 1.20% ReplicatedBackend::do_repop
          |                           | + 1.00% PrimaryLogPG::log_operation
          |                           | | + 1.00% PG::append_log
          |                           | |   + 0.80% PG::write_if_dirty
          |                           | |   | + 0.40% PGLog::write_log_and_missing
          |                           | |   | | + 0.40% PGLog::_write_log_and_missing
          |                           | |   | |   + 0.20% encode
          |                           | |   | |   | + 0.20% pg_log_dup_t::encode
          |                           | |   | |   |   + 0.20% encode
          |                           | |   | |   |     + 0.20% encode_raw<unsigned char>
          |                           | |   | |   |       + 0.20% ceph::buffer::list::append
          |                           | |   | |   |         + 0.20% create
          |                           | |   | |   |           + 0.20% tc_posix_memalign
          |                           | |   | |   |             + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                           | |   | |   |               + 0.20% tcmalloc::AlignmentForSize(unsigned long)
          |                           | |   | |   + 0.20% ceph::buffer::list::claim
          |                           | |   | |     + 0.20% ceph::buffer::list::claim_append
          |                           | |   | |       + 0.20% make_shareable
          |                           | |   | |         + 0.20% ceph::buffer::ptr::make_shareable
          |                           | |   | + 0.20% omap_setkeys
          |                           | |   | | + 0.20% encode<std::map<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::map<std::basic_string<char>, ceph::buffer::list>, void> >
          |                           | |   | |   + 0.20% encode<std::pair<std::basic_string<char>, ceph::buffer::list> >
          |                           | |   | |     + 0.20% encode_nohead<std::pair<std::basic_string<char>, ceph::buffer::list> >
          |                           | |   | |       + 0.20% denc<std::pair<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::pair<std::basic_string<char>, ceph::buffer::list>, void> >
          |                           | |   | |         + 0.20% encode<std::basic_string<char> >
          |                           | |   | |           + 0.20% denc<ceph::buffer::list, denc_traits<ceph::buffer::list> >
          |                           | |   | |             + 0.20% encode
          |                           | |   | |               + 0.20% append
          |                           | |   | |                 + 0.20% flush_and_continue
          |                           | |   | |                   + 0.20% ceph::buffer::list::append(ceph::buffer::ptr&&)
          |                           | |   | |                     + 0.20% push_back
          |                           | |   | |                       + 0.20% push_back
          |                           | |   | |                         + 0.20% _M_insert<ceph::buffer::ptr>
          |                           | |   | |                           + 0.20% _M_create_node<ceph::buffer::ptr>
          |                           | |   | |                             + 0.20% _M_get_node
          |                           | |   | |                               + 0.20% allocate
          |                           | |   | |                                 + 0.20% tc_new
          |                           | |   | + 0.20% PG::prepare_write_info
          |                           | |   |   + 0.20% PG::_prepare_write_info
          |                           | |   |     + 0.20% encode
          |                           | |   |       + 0.20% pg_info_t::encode
          |                           | |   |         + 0.20% encode
          |                           | |   |           + 0.20% hobject_t::encode
          |                           | |   |             + 0.20% ceph::buffer::list::iterator::copy_in
          |                           | |   + 0.20% PGLog::trim
          |                           | |     + 0.20% PGLog::IndexedLog::trim
          |                           | |       + 0.20% pop_front
          |                           | |         + 0.20% _M_erase
          |                           | |           + 0.20% std::__detail::_List_node_base::_M_unhook()
          |                           | + 0.20% PrimaryLogPG::queue_transactions
          |                           |   + 0.20% queue_transactions
          |                           |     + 0.20% BlueStore::queue_transactions
          |                           |       + 0.20% BlueStore::_txc_add_transaction
          |                           |         + 0.20% decode_attrset_bl
          |                           |           + 0.20% decode_str_str_map_to_bl
          |                           |             + 0.20% ceph::buffer::list::iterator::copy
          |                           |               + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          |                           |                 + 0.20% ceph::buffer::list::append
          |                           |                   + 0.20% ceph::buffer::ptr::ptr
          |                           + 0.20% ReplicatedBackend::do_repop_reply
          |                             + 0.20% Context::complete
          |                               + 0.20% PrimaryLogPG::repop_all_committed
          |                                 + 0.20% PrimaryLogPG::eval_repop
          |                                   + 0.20% PrimaryLogPG::__lambda34::operator()
          |                                     + 0.20% send_message_osd_client
          |                                       + 0.20% AsyncConnection::send_message
          |                                         + 0.20% ceph::logging::Log::submit_entry
          |                                           + 0.20% pthread_mutex_lock
          |                                             + 0.20% _L_lock_812
          |                                               + 0.20% __lll_lock_wait
          + 0.20% Mutex::Lock
            + 0.20% pthread_mutex_lock
              + 0.20% _L_lock_812
                + 0.20% __lll_lock_wait

Thread: 16===8121===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 97.00% WaitInterval
          | + 97.00% WaitUntil
          |   + 97.00% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 3.00% run
            + 3.00% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
              + 3.00% apply_visitor<PGQueueable::RunVis>
                + 3.00% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
                  + 3.00% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
                    + 3.00% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                      + 3.00% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                        + 3.00% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
                          + 3.00% internal_visit<boost::intrusive_ptr<OpRequest> >
                            + 3.00% PGQueueable::RunVis::operator()
                              + 3.00% OSD::dequeue_op
                                + 3.00% PrimaryLogPG::do_request
                                  + 2.00% PrimaryLogPG::do_op
                                  | + 2.00% PrimaryLogPG::execute_ctx
                                  |   + 2.00% PrimaryLogPG::issue_repop
                                  |     + 2.00% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
                                  |       + 1.40% ReplicatedBackend::issue_op
                                  |       | + 1.40% OSDService::send_message_osd_cluster
                                  |       |   + 1.40% AsyncConnection::send_message
                                  |       |     + 1.00% lock_guard
                                  |       |     | + 1.00% lock
                                  |       |     |   + 1.00% __gthread_mutex_lock
                                  |       |     |     + 1.00% pthread_mutex_lock
                                  |       |     |       + 1.00% _L_lock_812
                                  |       |     |         + 1.00% __lll_lock_wait
                                  |       |     + 0.20% ceph::logging::Log::submit_entry
                                  |       |     | + 0.20% pthread_mutex_lock
                                  |       |     |   + 0.20% _L_lock_812
                                  |       |     |     + 0.20% __lll_lock_wait
                                  |       |     + 0.20% AsyncConnection::prepare_send_message
                                  |       |       + 0.20% Message::encode
                                  |       |         + 0.20% MOSDRepOp::encode_payload
                                  |       |           + 0.20% encode
                                  |       |             + 0.20% pg_stat_t::encode
                                  |       |               + 0.20% encode
                                  |       |                 + 0.20% object_stat_collection_t::encode
                                  |       |                   + 0.20% encode
                                  |       |                     + 0.20% object_stat_sum_t::encode
                                  |       |                       + 0.20% ceph::buffer::list::append
                                  |       |                         + 0.20% ceph::buffer::ptr::append
                                  |       |                           + 0.20% maybe_inline_memcpy
                                  |       |                             + 0.20% memcpy
                                  |       |                               + 0.20% __memcpy_ssse3_back
                                  |       + 0.20% generate_transaction
                                  |       | + 0.20% PGTransaction::safe_create_traverse<generate_transaction(PGTransactionUPtr&, const coll_t&, bool, std::vector<pg_log_entry_t>&, ObjectStore::Transaction*, std::set<hobject_t>*, std::set<hobject_t>*)::__lambda34>(<unknown type in /usr/lib/debug/usr/bin/ceph-osd.debug, CU 0x32c78ac, DIE 0x35f8ee9>)
                                  |       |   + 0.20% operator()
                                  |       |     + 0.20% ObjectStore::Transaction::setattrs
                                  |       |       + 0.20% ObjectStore::Transaction::_get_next_op
                                  |       |         + 0.20% ceph::buffer::ptr::ptr
                                  |       + 0.20% count
                                  |       | + 0.20% std::_Rb_tree<unsigned long, std::pair<unsigned long const, ReplicatedBackend::InProgressOp>, std::_Select1st<std::pair<unsigned long const, ReplicatedBackend::InProgressOp> >, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, ReplicatedBackend::InProgressOp> > >::find
                                  |       + 0.20% PrimaryLogPG::queue_transactions
                                  |         + 0.20% queue_transactions
                                  |           + 0.20% BlueStore::queue_transactions
                                  |             + 0.20% BlueStore::_txc_write_nodes
                                  |               + 0.20% ~list
                                  |                 + 0.20% ~list
                                  |                   + 0.20% ~_List_base
                                  |                     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
                                  |                       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
                                  |                         + 0.20% ~_List_node
                                  |                           + 0.20% ~ptr
                                  |                             + 0.20% ceph::buffer::ptr::release
                                  |                               + 0.20% ceph::buffer::raw_combined::~raw_combined
                                  |                                 + 0.20% ~raw_combined
                                  |                                   + 0.20% ~raw
                                  |                                     + 0.20% mempool::get_pool
                                  + 1.00% PGBackend::handle_message
                                    + 1.00% ReplicatedBackend::_handle_message
                                      + 1.00% ReplicatedBackend::do_repop
                                        + 0.80% PrimaryLogPG::log_operation
                                        | + 0.80% PG::append_log
                                        |   + 0.60% PG::write_if_dirty
                                        |   | + 0.60% PGLog::write_log_and_missing
                                        |   |   + 0.20% undirty
                                        |   |   | + 0.20% clear
                                        |   |   |   + 0.20% clear
                                        |   |   |     + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_erase
                                        |   |   |       + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_erase
                                        |   |   |         + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_erase
                                        |   |   |           + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_erase
                                        |   |   |             + 0.20% _M_destroy_node
                                        |   |   |               + 0.20% destroy<std::_Rb_tree_node<std::basic_string<char> > >
                                        |   |   |                 + 0.20% ~_Rb_tree_node
                                        |   |   |                   + 0.20% ~basic_string
                                        |   |   |                     + 0.20% None
                                        |   |   + 0.20% operator<< <eversion_t, std::less<eversion_t>, std::allocator<eversion_t> >
                                        |   |   | + 0.20% operator<<
                                        |   |   |   + 0.20% operator<<
                                        |   |   |     + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
                                        |   |   + 0.20% PGLog::_write_log_and_missing
                                        |   |     + 0.20% insert
                                        |   |       + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
                                        |   |         + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_get_insert_unique_pos
                                        |   |           + 0.20% operator()
                                        |   |             + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
                                        |   |               + 0.20% std::string::compare(std::string const&) const
                                        |   |                 + 0.20% __memcmp_sse4_1
                                        |   + 0.20% PGLog::trim
                                        |     + 0.20% PGLog::IndexedLog::trim
                                        |       + 0.20% erase
                                        |         + 0.20% erase
                                        |           + 0.20% _M_erase
                                        |             + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_erase
                                        |               + 0.20% _M_bucket_index
                                        |                 + 0.20% _M_bucket_index
                                        |                   + 0.20% operator()
                                        + 0.20% PrimaryLogPG::queue_transactions
                                          + 0.20% queue_transactions
                                            + 0.20% BlueStore::queue_transactions
                                              + 0.20% BlueStore::_txc_add_transaction
                                                + 0.20% BlueStore::_write
                                                  + 0.20% BlueStore::_do_write
                                                    + 0.20% BlueStore::ExtentMap::compress_extent_map
                                                      + 0.20% operator++
                                                        + 0.20% boost::intrusive::bstree_algorithms_base<boost::intrusive::rbtree_node_traits<void*, true> >::next_node
                                                          + 0.20% get_parent
                                                            + 0.20% get_pointer

Thread: 17===8120===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 94.80% WaitInterval
          | + 94.80% WaitUntil
          |   + 94.80% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 5.00% run
          | + 5.00% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 5.00% apply_visitor<PGQueueable::RunVis>
          |     + 5.00% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 5.00% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 5.00% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 5.00% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 5.00% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 5.00% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 5.00% PGQueueable::RunVis::operator()
          |                   + 5.00% OSD::dequeue_op
          |                     + 5.00% PrimaryLogPG::do_request
          |                       + 5.00% PrimaryLogPG::do_op
          |                         + 4.80% PrimaryLogPG::execute_ctx
          |                         | + 4.20% PrimaryLogPG::issue_repop
          |                         | | + 4.20% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                         | |   + 1.80% ReplicatedBackend::issue_op
          |                         | |   | + 1.60% OSDService::send_message_osd_cluster
          |                         | |   | | + 1.60% AsyncConnection::send_message
          |                         | |   | |   + 0.60% lock_guard
          |                         | |   | |   | + 0.60% lock
          |                         | |   | |   |   + 0.60% __gthread_mutex_lock
          |                         | |   | |   |     + 0.60% pthread_mutex_lock
          |                         | |   | |   |       + 0.60% _L_lock_812
          |                         | |   | |   |         + 0.60% __lll_lock_wait
          |                         | |   | |   + 0.40% ceph::logging::Log::submit_entry
          |                         | |   | |   | + 0.40% pthread_mutex_lock
          |                         | |   | |   |   + 0.40% _L_lock_812
          |                         | |   | |   |     + 0.40% __lll_lock_wait
          |                         | |   | |   + 0.40% AsyncConnection::prepare_send_message
          |                         | |   | |   | + 0.40% Message::encode
          |                         | |   | |   |   + 0.20% calc_front_crc
          |                         | |   | |   |   | + 0.20% ceph::buffer::list::crc32c
          |                         | |   | |   |   |   + 0.20% ceph_crc32c
          |                         | |   | |   |   |     + 0.20% ceph_crc32c_intel_fast
          |                         | |   | |   |   |       + 0.20% None
          |                         | |   | |   |   |         + 0.20% None
          |                         | |   | |   |   |           + 0.20% crc32_iscsi_00
          |                         | |   | |   |   + 0.20% MOSDRepOp::encode_payload
          |                         | |   | |   |     + 0.20% encode
          |                         | |   | |   |       + 0.20% pg_stat_t::encode
          |                         | |   | |   |         + 0.20% encode
          |                         | |   | |   |           + 0.20% encode_raw<ceph_le<unsigned int> >
          |                         | |   | |   |             + 0.20% ceph::buffer::list::append
          |                         | |   | |   + 0.20% ceph::logging::Log::create_entry
          |                         | |   | |     + 0.20% ceph_clock_now
          |                         | |   | |       + 0.20% clock_gettime
          |                         | |   | + 0.20% ReplicatedBackend::generate_subop
          |                         | |   |   + 0.20% encode<pg_log_entry_t, std::allocator<pg_log_entry_t>, denc_traits<pg_log_entry_t, void> >
          |                         | |   |     + 0.20% encode
          |                         | |   |       + 0.20% pg_log_entry_t::encode
          |                         | |   |         + 0.20% encode
          |                         | |   |           + 0.20% hobject_t::encode
          |                         | |   |             + 0.20% ceph::buffer::list::iterator_impl<false>::advance
          |                         | |   + 1.00% PrimaryLogPG::queue_transactions
          |                         | |   | + 1.00% queue_transactions
          |                         | |   |   + 1.00% BlueStore::queue_transactions
          |                         | |   |     + 0.40% RocksDBStore::RocksDBTransactionImpl::set
          |                         | |   |     | + 0.40% rocksdb::WriteBatch::Put
          |                         | |   |     |   + 0.40% rocksdb::WriteBatchInternal::Put
          |                         | |   |     |     + 0.40% PutLengthPrefixedSliceParts
          |                         | |   |     |       + 0.40% std::string::append(char const*, unsigned long)
          |                         | |   |     |         + 0.20% std::string::reserve(unsigned long)
          |                         | |   |     |         | + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          |                         | |   |     |         |   + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          |                         | |   |     |         |     + 0.20% tc_new
          |                         | |   |     |         + 0.20% __memcpy_ssse3_back
          |                         | |   |     + 0.40% BlueStore::_txc_add_transaction
          |                         | |   |     | + 0.40% BlueStore::Collection::get_onode
          |                         | |   |     |   + 0.40% BlueStore::OnodeSpace::lookup
          |                         | |   |     |     + 0.20% find
          |                         | |   |     |     | + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::find
          |                         | |   |     |     |   + 0.20% _M_hash_code
          |                         | |   |     |     |     + 0.20% operator()
          |                         | |   |     |     |       + 0.20% operator uint64_t
          |                         | |   |     |     + 0.20% PerfCounters::inc
          |                         | |   |     + 0.20% BlueStore::_txc_finalize_kv
          |                         | |   + 1.00% PrimaryLogPG::log_operation
          |                         | |   | + 1.00% PG::append_log
          |                         | |   |   + 0.60% PG::write_if_dirty
          |                         | |   |   | + 0.40% PGLog::write_log_and_missing
          |                         | |   |   | | + 0.20% undirty
          |                         | |   |   | | | + 0.20% clear
          |                         | |   |   | | |   + 0.20% clear
          |                         | |   |   | | |     + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_erase
          |                         | |   |   | | |       + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_erase
          |                         | |   |   | | |         + 0.20% _M_destroy_node
          |                         | |   |   | | |           + 0.20% destroy<std::_Rb_tree_node<std::basic_string<char> > >
          |                         | |   |   | | |             + 0.20% ~_Rb_tree_node
          |                         | |   |   | | |               + 0.20% ~basic_string
          |                         | |   |   | | |                 + 0.20% tc_delete
          |                         | |   |   | | + 0.20% PGLog::_write_log_and_missing
          |                         | |   |   | |   + 0.20% pg_log_entry_t::encode_with_checksum
          |                         | |   |   | |     + 0.20% ceph::buffer::list::crc32c
          |                         | |   |   | |       + 0.20% set_crc
          |                         | |   |   | |         + 0.20% operator[]
          |                         | |   |   | |           + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>&&, std::tuple<>&&)
          |                         | |   |   | |             + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_get_insert_hint_unique_pos
          |                         | |   |   | |               + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_get_insert_unique_pos
          |                         | |   |   | + 0.20% omap_setkeys
          |                         | |   |   |   + 0.20% encode<std::map<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::map<std::basic_string<char>, ceph::buffer::list>, void> >
          |                         | |   |   |     + 0.20% bound_encode<std::pair<std::basic_string<char>, ceph::buffer::list> >
          |                         | |   |   |       + 0.20% pair<std::basic_string<char> const, ceph::buffer::list, void>
          |                         | |   |   |         + 0.20% ceph::buffer::list::list
          |                         | |   |   |           + 0.20% list
          |                         | |   |   |             + 0.20% _M_initialize_dispatch<std::_List_const_iterator<ceph::buffer::ptr> >
          |                         | |   |   |               + 0.20% emplace_back<ceph::buffer::ptr const&>
          |                         | |   |   |                 + 0.20% _M_insert<ceph::buffer::ptr const&>
          |                         | |   |   |                   + 0.20% _M_create_node<ceph::buffer::ptr const&>
          |                         | |   |   |                     + 0.20% _M_get_node
          |                         | |   |   |                       + 0.20% allocate
          |                         | |   |   |                         + 0.20% tc_new
          |                         | |   |   + 0.20% PGLog::trim
          |                         | |   |   | + 0.20% PGLog::IndexedLog::trim
          |                         | |   |   |   + 0.20% erase
          |                         | |   |   |     + 0.20% erase
          |                         | |   |   |       + 0.20% _M_erase
          |                         | |   |   |         + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                         | |   |   + 0.20% PG::add_log_entry
          |                         | |   |     + 0.20% add
          |                         | |   |       + 0.20% PGLog::IndexedLog::add
          |                         | |   |         + 0.20% push_back
          |                         | |   |           + 0.20% _M_insert<pg_log_entry_t const&>
          |                         | |   |             + 0.20% _M_create_node<pg_log_entry_t const&>
          |                         | |   |               + 0.20% construct<std::_List_node<pg_log_entry_t>, pg_log_entry_t const&>
          |                         | |   |                 + 0.20% _List_node<pg_log_entry_t const&>
          |                         | |   |                   + 0.20% pg_log_entry_t::pg_log_entry_t
          |                         | |   |                     + 0.20% hobject_t::hobject_t
          |                         | |   |                       + 0.20% object_t
          |                         | |   |                         + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
          |                         | |   + 0.20% ~unique_ptr
          |                         | |   | + 0.20% operator()
          |                         | |   |   + 0.20% ~PGTransaction
          |                         | |   |     + 0.20% ~map
          |                         | |   |       + 0.20% ~_Rb_tree
          |                         | |   |         + 0.20% std::_Rb_tree<hobject_t, std::pair<hobject_t const, std::shared_ptr<ObjectContext> >, std::_Select1st<std::pair<hobject_t const, std::shared_ptr<ObjectContext> > >, std::less<hobject_t>, std::allocator<std::pair<hobject_t const, std::shared_ptr<ObjectContext> > > >::_M_erase
          |                         | |   + 0.20% generate_transaction
          |                         | |     + 0.20% PGTransaction::safe_create_traverse<generate_transaction(PGTransactionUPtr&, const coll_t&, bool, std::vector<pg_log_entry_t>&, ObjectStore::Transaction*, std::set<hobject_t>*, std::set<hobject_t>*)::__lambda34>(<unknown type in /usr/lib/debug/usr/bin/ceph-osd.debug, CU 0x32c78ac, DIE 0x35f8ee9>)
          |                         | |       + 0.20% operator()
          |                         | |         + 0.20% std::map<std::string, ceph::buffer::list, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::operator[]
          |                         | |           + 0.20% std::_Rb_tree<std::string, std::pair<std::string const, ceph::buffer::list>, std::_Select1st<std::pair<std::string const, ceph::buffer::list> >, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::string const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::string const, ceph::buffer::list> >, std::piecewise_construct_t const&, std::tuple<std::string const&>&&, std::tuple<>&&)
          |                         | |             + 0.20% _M_create_node<const std::piecewise_construct_t&, std::tuple<const std::basic_string<char, std::char_traits<char>, std::allocator<char> >&>, std::tuple<> >
          |                         | |               + 0.20% construct<std::_Rb_tree_node<std::pair<const std::basic_string<char>, ceph::buffer::list> >, const std::piecewise_construct_t&, std::tuple<const std::basic_string<char, std::char_traits<char>, std::allocator<char> >&>, std::tuple<> >
          |                         | |                 + 0.20% _S_construct<std::_Rb_tree_node<std::pair<const std::basic_string<char>, ceph::buffer::list> >, const std::piecewise_construct_t&, std::tuple<const std::basic_string<char, std::char_traits<char>, std::allocator<char> >&>, std::tuple<> >
          |                         | |                   + 0.20% construct<std::_Rb_tree_node<std::pair<const std::basic_string<char>, ceph::buffer::list> >, const std::piecewise_construct_t&, std::tuple<const std::basic_string<char, std::char_traits<char>, std::allocator<char> >&>, std::tuple<> >
          |                         | |                     + 0.20% _Rb_tree_node<const std::piecewise_construct_t&, std::tuple<const std::basic_string<char, std::char_traits<char>, std::allocator<char> >&>, std::tuple<> >
          |                         | |                       + 0.20% pair<std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&>
          |                         | |                         + 0.20% pair<std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, 0ul>
          |                         | |                           + 0.20% list
          |                         | |                             + 0.20% ceph::buffer::list::iterator_impl<false>::iterator_impl
          |                         | + 0.40% PrimaryLogPG::prepare_transaction
          |                         | | + 0.20% PrimaryLogPG::make_writeable
          |                         | | | + 0.20% ceph::logging::SubsystemMap::should_gather
          |                         | | + 0.20% PrimaryLogPG::do_osd_ops
          |                         | |   + 0.20% PGTransaction::write
          |                         | |     + 0.20% ~variant
          |                         | |       + 0.20% destroy_content
          |                         | |         + 0.20% boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange>::internal_apply_visitor<boost::detail::variant::destroyer>
          |                         | |           + 0.20% internal_apply_visitor_impl<boost::detail::variant::destroyer, void*>
          |                         | |             + 0.20% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<3l>, PGTransaction::ObjectOperation::BufferUpdate::Write, boost::mpl::l_item<mpl_::long_<2l>, PGTransaction::ObjectOperation::BufferUpdate::Zero, boost::mpl::l_item<mpl_::long_<1l>, PGTransaction::ObjectOperation::BufferUpdate::CloneRange, boost::mpl::l_end> > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::destroyer, void*, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange>::has_fallback_type_>
          |                         | |               + 0.20% visitation_impl_invoke<boost::detail::variant::destroyer, void*, PGTransaction::ObjectOperation::BufferUpdate::Write, boost::variant<PGTransaction::ObjectOperation::BufferUpdate::Write, PGTransaction::ObjectOperation::BufferUpdate::Zero, PGTransaction::ObjectOperation::BufferUpdate::CloneRange>::has_fallback_type_>
          |                         | |                 + 0.20% visitation_impl_invoke_impl<boost::detail::variant::destroyer, void*, PGTransaction::ObjectOperation::BufferUpdate::Write>
          |                         | |                   + 0.20% internal_visit<PGTransaction::ObjectOperation::BufferUpdate::Write>
          |                         | |                     + 0.20% ~Write
          |                         | |                       + 0.20% ~list
          |                         | |                         + 0.20% ~ptr
          |                         | |                           + 0.20% ceph::buffer::ptr::release
          |                         | + 0.20% tc_new
          |                         + 0.20% mark_started
          |                           + 0.20% OpRequest::mark_flag_point
          |                             + 0.20% ceph_clock_now
          |                               + 0.20% clock_gettime
          + 0.20% PG::lock
            + 0.20% Mutex::Lock
              + 0.20% pthread_mutex_lock
                + 0.20% _L_lock_812
                  + 0.20% __lll_lock_wait

Thread: 18===8119===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 94.60% WaitInterval
          | + 94.60% WaitUntil
          |   + 94.60% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.40% __pthread_mutex_cond_lock
          |       + 0.40% _L_cond_lock_789
          |         + 0.40% __lll_lock_wait
          + 4.20% run
          | + 4.20% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 4.20% apply_visitor<PGQueueable::RunVis>
          |     + 4.20% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 4.20% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 4.20% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 4.20% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 4.20% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 4.20% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 4.20% PGQueueable::RunVis::operator()
          |                   + 4.20% OSD::dequeue_op
          |                     + 4.20% PrimaryLogPG::do_request
          |                       + 3.00% PrimaryLogPG::do_op
          |                       | + 2.80% PrimaryLogPG::execute_ctx
          |                       | | + 2.80% PrimaryLogPG::issue_repop
          |                       | |   + 2.80% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       | |     + 1.20% ReplicatedBackend::issue_op
          |                       | |     | + 1.20% OSDService::send_message_osd_cluster
          |                       | |     |   + 1.20% AsyncConnection::send_message
          |                       | |     |     + 0.60% lock_guard
          |                       | |     |     | + 0.60% lock
          |                       | |     |     |   + 0.60% __gthread_mutex_lock
          |                       | |     |     |     + 0.60% pthread_mutex_lock
          |                       | |     |     |       + 0.60% _L_lock_812
          |                       | |     |     |         + 0.60% __lll_lock_wait
          |                       | |     |     + 0.40% AsyncConnection::prepare_send_message
          |                       | |     |     | + 0.40% Message::encode
          |                       | |     |     |   + 0.40% MOSDRepOp::encode_payload
          |                       | |     |     |     + 0.40% encode
          |                       | |     |     |       + 0.20% spg_t::encode
          |                       | |     |     |       | + 0.20% ceph::buffer::list::iterator_impl<false>::advance
          |                       | |     |     |       + 0.20% pg_stat_t::encode
          |                       | |     |     |         + 0.20% encode
          |                       | |     |     |           + 0.20% encode
          |                       | |     |     |             + 0.20% ceph::buffer::list::append
          |                       | |     |     |               + 0.20% ceph::buffer::list::append
          |                       | |     |     + 0.20% ceph::logging::Log::submit_entry
          |                       | |     |       + 0.20% pthread_mutex_lock
          |                       | |     |         + 0.20% _L_lock_812
          |                       | |     |           + 0.20% __lll_lock_wait
          |                       | |     + 1.00% PrimaryLogPG::queue_transactions
          |                       | |     | + 1.00% queue_transactions
          |                       | |     |   + 1.00% BlueStore::queue_transactions
          |                       | |     |     + 0.20% Throttle::get
          |                       | |     |     | + 0.20% ~Locker
          |                       | |     |     + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       | |     |     | + 0.20% rocksdb::WriteBatch::Put
          |                       | |     |     |   + 0.20% rocksdb::WriteBatchInternal::Put
          |                       | |     |     |     + 0.20% PutLengthPrefixedSliceParts
          |                       | |     |     |       + 0.20% std::string::append(char const*, unsigned long)
          |                       | |     |     |         + 0.20% std::string::reserve(unsigned long)
          |                       | |     |     |           + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          |                       | |     |     |             + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          |                       | |     |     |               + 0.20% tc_new
          |                       | |     |     |                 + 0.20% tcmalloc::ThreadCache::FetchFromCentralCache(unsigned long, unsigned long)
          |                       | |     |     |                   + 0.20% tcmalloc::CentralFreeList::RemoveRange(void**, void**, int)
          |                       | |     |     |                     + 0.20% tcmalloc::CentralFreeList::FetchFromOneSpansSafe(int, void**, void**)
          |                       | |     |     |                       + 0.20% tcmalloc::CentralFreeList::Populate()
          |                       | |     |     |                         + 0.20% SpinLock::SlowLock()
          |                       | |     |     |                           + 0.20% base::internal::SpinLockDelay(int volatile*, int, int)
          |                       | |     |     + 0.20% BlueStore::_txc_write_nodes
          |                       | |     |     | + 0.20% BlueStore::ExtentMap::update
          |                       | |     |     |   + 0.20% BlueStore::ExtentMap::encode_some
          |                       | |     |     |     + 0.20% get_contiguous_appender
          |                       | |     |     |       + 0.20% ceph::buffer::list::contiguous_appender::contiguous_appender
          |                       | |     |     |         + 0.20% ceph::buffer::create
          |                       | |     |     |           + 0.20% ceph::buffer::create_aligned
          |                       | |     |     |             + 0.20% ceph::buffer::create_aligned_in_mempool
          |                       | |     |     |               + 0.20% create
          |                       | |     |     |                 + 0.20% tc_posix_memalign
          |                       | |     |     |                   + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                       | |     |     |                     + 0.20% tcmalloc::AlignmentForSize(unsigned long)
          |                       | |     |     + 0.20% BlueStore::_txc_create
          |                       | |     |     | + 0.20% queue_new
          |                       | |     |     |   + 0.20% lock_guard
          |                       | |     |     |     + 0.20% lock
          |                       | |     |     |       + 0.20% __gthread_mutex_lock
          |                       | |     |     |         + 0.20% pthread_mutex_lock
          |                       | |     |     |           + 0.20% _L_lock_812
          |                       | |     |     |             + 0.20% __lll_lock_wait
          |                       | |     |     + 0.20% BlueStore::_txc_add_transaction
          |                       | |     |       + 0.20% BlueStore::_setattrs
          |                       | |     |         + 0.20% operator[]
          |                       | |     |           + 0.20% lower_bound
          |                       | |     |             + 0.20% lower_bound
          |                       | |     |               + 0.20% std::_Rb_tree<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> > const, ceph::buffer::ptr>, std::_Select1st<std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> > const, ceph::buffer::ptr> >, std::less<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> > >, std::allocator<std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> > const, ceph::buffer::ptr> > >::_M_lower_bound
          |                       | |     |                 + 0.20% operator()
          |                       | |     |                   + 0.20% operator< <char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4u, char> >
          |                       | |     |                     + 0.20% compare
          |                       | |     |                       + 0.20% compare
          |                       | |     + 0.40% PrimaryLogPG::log_operation
          |                       | |     | + 0.40% PG::append_log
          |                       | |     |   + 0.20% PGLog::trim
          |                       | |     |   | + 0.20% PGLog::IndexedLog::trim
          |                       | |     |   |   + 0.20% PGLog::IndexedLog::unindex
          |                       | |     |   |     + 0.20% count
          |                       | |     |   |       + 0.20% std::_Hashtable<hobject_t, std::pair<hobject_t const, pg_log_entry_t*>, std::allocator<std::pair<hobject_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<hobject_t>, std::hash<hobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::count
          |                       | |     |   + 0.20% PG::write_if_dirty
          |                       | |     |     + 0.20% PGLog::write_log_and_missing
          |                       | |     |       + 0.20% operator<< <std::basic_string<char>, std::less<std::basic_string<char> >, std::allocator<std::basic_string<char> > >
          |                       | |     |         + 0.20% operator++
          |                       | |     |           + 0.20% std::_Rb_tree_increment(std::_Rb_tree_node_base const*)
          |                       | |     + 0.20% generate_transaction
          |                       | |       + 0.20% PGTransaction::safe_create_traverse<generate_transaction(PGTransactionUPtr&, const coll_t&, bool, std::vector<pg_log_entry_t>&, ObjectStore::Transaction*, std::set<hobject_t>*, std::set<hobject_t>*)::__lambda34>(<unknown type in /usr/lib/debug/usr/bin/ceph-osd.debug, CU 0x32c78ac, DIE 0x35f8ee9>)
          |                       | |         + 0.20% operator()
          |                       | + 0.20% find
          |                       |   + 0.20% std::_Rb_tree<hobject_t, std::pair<hobject_t const, std::shared_ptr<ObjectContext> >, std::_Select1st<std::pair<hobject_t const, std::shared_ptr<ObjectContext> > >, std::less<hobject_t>, std::allocator<std::pair<hobject_t const, std::shared_ptr<ObjectContext> > > >::find
          |                       + 1.20% PGBackend::handle_message
          |                         + 1.20% ReplicatedBackend::_handle_message
          |                           + 0.60% ReplicatedBackend::do_repop_reply
          |                           | + 0.60% Context::complete
          |                           |   + 0.60% PrimaryLogPG::repop_all_committed
          |                           |     + 0.60% PrimaryLogPG::eval_repop
          |                           |       + 0.60% PrimaryLogPG::__lambda34::operator()
          |                           |         + 0.60% send_message_osd_client
          |                           |           + 0.60% AsyncConnection::send_message
          |                           |             + 0.40% ceph::logging::Log::submit_entry
          |                           |             | + 0.40% pthread_mutex_lock
          |                           |             |   + 0.40% _L_lock_812
          |                           |             |     + 0.40% __lll_lock_wait
          |                           |             + 0.20% lock_guard
          |                           |               + 0.20% lock
          |                           |                 + 0.20% __gthread_mutex_lock
          |                           |                   + 0.20% pthread_mutex_lock
          |                           |                     + 0.20% _L_lock_812
          |                           |                       + 0.20% __lll_lock_wait
          |                           + 0.60% ReplicatedBackend::do_repop
          |                             + 0.60% PrimaryLogPG::queue_transactions
          |                               + 0.60% queue_transactions
          |                                 + 0.60% BlueStore::queue_transactions
          |                                   + 0.60% BlueStore::_txc_add_transaction
          |                                     + 0.20% ~list
          |                                     | + 0.20% ~list
          |                                     |   + 0.20% ~_List_base
          |                                     |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                                     |       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |                                     |         + 0.20% ~_List_node
          |                                     |           + 0.20% ~ptr
          |                                     |             + 0.20% ceph::buffer::ptr::release
          |                                     + 0.20% BlueStore::_setattrs
          |                                     | + 0.20% ceph::buffer::ptr::ptr
          |                                     |   + 0.20% ceph::buffer::copy
          |                                     |     + 0.20% ceph::buffer::create_aligned
          |                                     |       + 0.20% ceph::buffer::create_aligned_in_mempool
          |                                     |         + 0.20% create
          |                                     |           + 0.20% tc_posix_memalign
          |                                     |             + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                                     + 0.20% BlueStore::_omap_rmkeys
          |                                       + 0.20% RocksDBStore::RocksDBTransactionImpl::rmkey
          |                                         + 0.20% combine_strings
          |                                           + 0.20% push_back
          |                                             + 0.20% std::string::reserve(unsigned long)
          |                                               + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          + 0.60% PG::lock
          | + 0.60% Mutex::Lock
          |   + 0.60% pthread_mutex_lock
          |     + 0.60% _L_lock_812
          |       + 0.60% __lll_lock_wait
          + 0.20% ~pair
          | + 0.20% ~PGQueueable
          |   + 0.20% ~variant
          |     + 0.20% destroy_content
          |       + 0.20% OpTracker::unregister_inflight_op
          |         + 0.20% OpHistory::insert
          |           + 0.20% Locker
          |             + 0.20% Mutex::Lock
          |               + 0.20% pthread_mutex_lock
          |                 + 0.20% _L_lock_812
          |                   + 0.20% __lll_lock_wait
          + 0.20% ~optional
          | + 0.20% ~optional_base
          |   + 0.20% destroy
          |     + 0.20% destroy_impl
          |       + 0.20% ~PGQueueable
          |         + 0.20% ~variant
          |           + 0.20% destroy_content
          |             + 0.20% boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::internal_apply_visitor<boost::detail::variant::destroyer>
          + 0.20% Mutex::Lock
            + 0.20% pthread_mutex_lock
              + 0.20% _L_lock_812
                + 0.20% __lll_lock_wait

Thread: 19===8118===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 97.40% WaitInterval
          | + 97.40% WaitUntil
          |   + 97.40% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 2.40% run
          | + 2.40% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 2.40% apply_visitor<PGQueueable::RunVis>
          |     + 2.40% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 2.40% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 2.40% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 2.40% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 2.40% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 2.40% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 2.40% PGQueueable::RunVis::operator()
          |                   + 2.40% OSD::dequeue_op
          |                     + 2.40% PrimaryLogPG::do_request
          |                       + 1.60% PrimaryLogPG::do_op
          |                       | + 1.60% PrimaryLogPG::execute_ctx
          |                       |   + 1.60% PrimaryLogPG::issue_repop
          |                       |     + 1.60% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       |       + 0.80% ReplicatedBackend::issue_op
          |                       |       | + 0.60% OSDService::send_message_osd_cluster
          |                       |       | | + 0.60% AsyncConnection::send_message
          |                       |       | |   + 0.40% ceph::logging::Log::submit_entry
          |                       |       | |   | + 0.40% pthread_mutex_lock
          |                       |       | |   |   + 0.40% _L_lock_812
          |                       |       | |   |     + 0.40% __lll_lock_wait
          |                       |       | |   + 0.20% lock_guard
          |                       |       | |     + 0.20% lock
          |                       |       | |       + 0.20% __gthread_mutex_lock
          |                       |       | |         + 0.20% pthread_mutex_lock
          |                       |       | |           + 0.20% _L_lock_812
          |                       |       | |             + 0.20% __lll_lock_wait
          |                       |       | + 0.20% ReplicatedBackend::generate_subop
          |                       |       |   + 0.20% encode<pg_log_entry_t, std::allocator<pg_log_entry_t>, denc_traits<pg_log_entry_t, void> >
          |                       |       |     + 0.20% encode
          |                       |       |       + 0.20% pg_log_entry_t::encode
          |                       |       |         + 0.20% encode
          |                       |       |           + 0.20% hobject_t::encode
          |                       |       |             + 0.20% ceph::buffer::list::iterator_impl<false>::advance
          |                       |       + 0.60% PrimaryLogPG::queue_transactions
          |                       |       | + 0.60% queue_transactions
          |                       |       |   + 0.60% BlueStore::queue_transactions
          |                       |       |     + 0.20% Throttle::get_or_fail
          |                       |       |     | + 0.20% Locker
          |                       |       |     |   + 0.20% Mutex::Lock
          |                       |       |     |     + 0.20% pthread_mutex_lock
          |                       |       |     |       + 0.20% _L_lock_812
          |                       |       |     |         + 0.20% __lll_lock_wait
          |                       |       |     + 0.20% BlueStore::_txc_write_nodes
          |                       |       |     | + 0.20% BlueStore::ExtentMap::update
          |                       |       |     |   + 0.20% BlueStore::ExtentMap::encode_some
          |                       |       |     |     + 0.20% encode
          |                       |       |     |       + 0.20% denc<bluestore_blob_t, denc_traits<bluestore_blob_t> >
          |                       |       |     |         + 0.20% encode
          |                       |       |     |           + 0.20% encode
          |                       |       |     |             + 0.20% ceph::buffer::ptr::c_str
          |                       |       |     + 0.20% BlueStore::_txc_add_transaction
          |                       |       |       + 0.20% BlueStore::_omap_setkeys
          |                       |       |         + 0.20% resize
          |                       |       |           + 0.20% std::string::_M_mutate(unsigned long, unsigned long, unsigned long)
          |                       |       + 0.20% PrimaryLogPG::log_operation
          |                       |         + 0.20% PG::append_log
          |                       |           + 0.20% PG::write_if_dirty
          |                       |             + 0.20% PGLog::write_log_and_missing
          |                       |               + 0.20% ceph::logging::Log::submit_entry
          |                       |                 + 0.20% pthread_mutex_lock
          |                       |                   + 0.20% _L_lock_812
          |                       |                     + 0.20% __lll_lock_wait
          |                       + 0.80% PGBackend::handle_message
          |                         + 0.80% ReplicatedBackend::_handle_message
          |                           + 0.60% ReplicatedBackend::do_repop
          |                           | + 0.60% PrimaryLogPG::log_operation
          |                           |   + 0.60% PG::append_log
          |                           |     + 0.40% PGLog::trim
          |                           |     | + 0.40% PGLog::IndexedLog::trim
          |                           |     |   + 0.20% pop_front
          |                           |     |   | + 0.20% _M_erase
          |                           |     |   |   + 0.20% _M_put_node
          |                           |     |   |     + 0.20% deallocate
          |                           |     |   |       + 0.20% operator-=
          |                           |     |   + 0.20% pg_log_dup_t::get_key_name
          |                           |     |     + 0.20% operator+<char, std::char_traits<char>, std::allocator<char> >
          |                           |     |       + 0.20% insert
          |                           |     |         + 0.20% std::string::_M_replace_safe(unsigned long, unsigned long, char const*, unsigned long)
          |                           |     |           + 0.20% std::string::_M_mutate(unsigned long, unsigned long, unsigned long)
          |                           |     |             + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          |                           |     |               + 0.20% tc_new
          |                           |     + 0.20% PG::write_if_dirty
          |                           |       + 0.20% omap_setkeys
          |                           |         + 0.20% ObjectStore::Transaction::_get_next_op
          |                           |           + 0.20% ceph::buffer::ptr::ptr
          |                           |             + 0.20% ceph::buffer::create
          |                           |               + 0.20% ceph::buffer::create_aligned
          |                           |                 + 0.20% ceph::buffer::create_aligned_in_mempool
          |                           |                   + 0.20% create
          |                           |                     + 0.20% raw_combined
          |                           |                       + 0.20% raw
          |                           |                         + 0.20% mempool::pool_t::adjust_count
          |                           |                           + 0.20% operator+=
          |                           + 0.20% ReplicatedBackend::do_repop_reply
          |                             + 0.20% Context::complete
          |                               + 0.20% PrimaryLogPG::repop_all_committed
          |                                 + 0.20% PrimaryLogPG::eval_repop
          |                                   + 0.20% PrimaryLogPG::__lambda34::operator()
          |                                     + 0.20% send_message_osd_client
          |                                       + 0.20% AsyncConnection::send_message
          |                                         + 0.20% ceph::logging::Log::submit_entry
          |                                           + 0.20% pthread_mutex_lock
          |                                             + 0.20% _L_lock_812
          |                                               + 0.20% __lll_lock_wait
          + 0.20% PG::lock
            + 0.20% Mutex::Lock
              + 0.20% pthread_mutex_lock
                + 0.20% _L_lock_812
                  + 0.20% __lll_lock_wait

Thread: 20===8117===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 96.00% WaitInterval
          | + 96.00% WaitUntil
          |   + 96.00% pthread_cond_timedwait@@GLIBC_2.3.2
          + 4.00% run
            + 4.00% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
              + 4.00% apply_visitor<PGQueueable::RunVis>
                + 4.00% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
                  + 4.00% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
                    + 4.00% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                      + 4.00% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                        + 4.00% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
                          + 4.00% internal_visit<boost::intrusive_ptr<OpRequest> >
                            + 4.00% PGQueueable::RunVis::operator()
                              + 4.00% OSD::dequeue_op
                                + 4.00% PrimaryLogPG::do_request
                                  + 2.60% PrimaryLogPG::do_op
                                  | + 2.60% PrimaryLogPG::execute_ctx
                                  |   + 2.60% PrimaryLogPG::issue_repop
                                  |     + 2.60% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
                                  |       + 1.40% ReplicatedBackend::issue_op
                                  |       | + 1.40% OSDService::send_message_osd_cluster
                                  |       |   + 1.20% AsyncConnection::send_message
                                  |       |   | + 1.00% lock_guard
                                  |       |   | | + 1.00% lock
                                  |       |   | |   + 1.00% __gthread_mutex_lock
                                  |       |   | |     + 1.00% pthread_mutex_lock
                                  |       |   | |       + 1.00% _L_lock_812
                                  |       |   | |         + 1.00% __lll_lock_wait
                                  |       |   | + 0.20% AsyncConnection::prepare_send_message
                                  |       |   |   + 0.20% Message::encode
                                  |       |   |     + 0.20% MOSDRepOp::encode_payload
                                  |       |   |       + 0.20% encode
                                  |       |   |         + 0.20% pg_stat_t::encode
                                  |       |   |           + 0.20% encode
                                  |       |   |             + 0.20% encode
                                  |       |   |               + 0.20% ceph::buffer::list::append
                                  |       |   |                 + 0.20% ceph::buffer::ptr::append
                                  |       |   |                   + 0.20% maybe_inline_memcpy
                                  |       |   + 0.20% OSDService::share_map_peer
                                  |       + 1.00% PrimaryLogPG::queue_transactions
                                  |       | + 1.00% queue_transactions
                                  |       |   + 1.00% BlueStore::queue_transactions
                                  |       |     + 0.60% BlueStore::_txc_add_transaction
                                  |       |     | + 0.20% BlueStore::_write
                                  |       |     | | + 0.20% BlueStore::_do_write
                                  |       |     | |   + 0.20% BlueStore::_do_write_data
                                  |       |     | |     + 0.20% BlueStore::_do_write_small
                                  |       |     | |       + 0.20% BlueStore::ExtentMap::set_lextent
                                  |       |     | |         + 0.20% BlueStore::Extent::operator new
                                  |       |     | |           + 0.20% allocate
                                  |       |     | + 0.20% BlueStore::_omap_setkeys
                                  |       |     | | + 0.20% RocksDBStore::RocksDBTransactionImpl::set
                                  |       |     | |   + 0.20% combine_strings
                                  |       |     | |     + 0.20% std::string::append(std::string const&)
                                  |       |     | |       + 0.20% std::string::reserve(unsigned long)
                                  |       |     | |         + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
                                  |       |     | |           + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
                                  |       |     | |             + 0.20% tc_new
                                  |       |     | + 0.20% BlueStore::Collection::get_onode
                                  |       |     |   + 0.20% BlueStore::OnodeSpace::lookup
                                  |       |     |     + 0.20% lock_guard
                                  |       |     |       + 0.20% lock
                                  |       |     |         + 0.20% __gthread_recursive_mutex_lock
                                  |       |     |           + 0.20% __gthread_mutex_lock
                                  |       |     |             + 0.20% pthread_mutex_lock
                                  |       |     |               + 0.20% _L_lock_870
                                  |       |     |                 + 0.20% __lll_lock_wait
                                  |       |     + 0.20% Throttle::get_or_fail
                                  |       |       + 0.20% Locker
                                  |       |         + 0.20% Mutex::Lock
                                  |       |           + 0.20% pthread_mutex_lock
                                  |       |             + 0.20% _L_lock_812
                                  |       |               + 0.20% __lll_lock_wait
                                  |       + 0.20% generate_transaction
                                  |         + 0.20% PGTransaction::safe_create_traverse<generate_transaction(PGTransactionUPtr&, const coll_t&, bool, std::vector<pg_log_entry_t>&, ObjectStore::Transaction*, std::set<hobject_t>*, std::set<hobject_t>*)::__lambda34>(<unknown type in /usr/lib/debug/usr/bin/ceph-osd.debug, CU 0x32c78ac, DIE 0x35f8ee9>)
                                  |           + 0.20% operator()
                                  |             + 0.20% ObjectStore::Transaction::setattrs
                                  |               + 0.20% encode<std::map<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::map<std::basic_string<char>, ceph::buffer::list>, void> >
                                  |                 + 0.20% encode<std::pair<std::basic_string<char>, ceph::buffer::list> >
                                  |                   + 0.20% encode_nohead<std::pair<std::basic_string<char>, ceph::buffer::list> >
                                  |                     + 0.20% ~pair
                                  |                       + 0.20% ~basic_string
                                  |                         + 0.20% None
                                  + 1.40% PGBackend::handle_message
                                    + 1.40% ReplicatedBackend::_handle_message
                                      + 1.40% ReplicatedBackend::do_repop
                                        + 1.00% PrimaryLogPG::log_operation
                                        | + 1.00% PG::append_log
                                        |   + 0.40% PGLog::trim
                                        |   | + 0.40% PGLog::IndexedLog::trim
                                        |   |   + 0.20% insert
                                        |   |   | + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
                                        |   |   |   + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_get_insert_unique_pos
                                        |   |   |     + 0.20% operator()
                                        |   |   |       + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
                                        |   |   |         + 0.20% compare
                                        |   |   |           + 0.20% compare
                                        |   |   |             + 0.20% __memcmp_sse4_1
                                        |   |   + 0.20% erase
                                        |   |     + 0.20% erase
                                        |   |       + 0.20% _M_erase
                                        |   |         + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
                                        |   |           + 0.20% _M_equals
                                        |   |             + 0.20% _S_equals
                                        |   + 0.40% PG::write_if_dirty
                                        |   | + 0.40% PGLog::write_log_and_missing
                                        |   |   + 0.20% ceph::logging::Log::submit_entry
                                        |   |   | + 0.20% pthread_mutex_lock
                                        |   |   |   + 0.20% _L_lock_812
                                        |   |   |     + 0.20% __lll_lock_wait
                                        |   |   + 0.20% PGLog::_write_log_and_missing
                                        |   |     + 0.20% insert
                                        |   |       + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
                                        |   |         + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_get_insert_unique_pos
                                        |   |           + 0.20% operator()
                                        |   |             + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
                                        |   |               + 0.20% compare
                                        |   |                 + 0.20% compare
                                        |   |                   + 0.20% __memcmp_sse4_1
                                        |   + 0.20% PG::add_log_entry
                                        |     + 0.20% add
                                        |       + 0.20% PGLog::IndexedLog::add
                                        |         + 0.20% operator++
                                        |           + 0.20% operator--
                                        + 0.20% finish_decode
                                        | + 0.20% decode
                                        |   + 0.20% pg_stat_t::decode
                                        |     + 0.20% decode
                                        |       + 0.20% decode
                                        |         + 0.20% ceph::buffer::list::iterator_impl<false>::copy
                                        + 0.20% PrimaryLogPG::queue_transactions
                                          + 0.20% queue_transactions
                                            + 0.20% BlueStore::queue_transactions
                                              + 0.20% BlueStore::_txc_add_transaction
                                                + 0.20% decode_attrset
                                                  + 0.20% decode<std::map<std::string, ceph::buffer::ptr, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >, denc_traits<std::map<std::string, ceph::buffer::ptr, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >, void> >
                                                    + 0.20% decode<std::pair<std::basic_string<char>, ceph::buffer::ptr> >
                                                      + 0.20% decode_nohead<std::pair<std::basic_string<char>, ceph::buffer::ptr> >
                                                        + 0.20% insert<std::pair<std::basic_string<char, std::char_traits<char>, std::allocator<char> >, ceph::buffer::ptr> >
                                                          + 0.20% emplace_hint<std::pair<std::basic_string<char, std::char_traits<char>, std::allocator<char> >, ceph::buffer::ptr> >
                                                            + 0.20% std::_Rb_tree<std::string, std::pair<std::string const, ceph::buffer::ptr>, std::_Select1st<std::pair<std::string const, ceph::buffer::ptr> >, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >::_M_emplace_hint_unique<std::pair<std::string, ceph::buffer::ptr> >(std::_Rb_tree_const_iterator<std::pair<std::string const, ceph::buffer::ptr> >, std::pair<std::string, ceph::buffer::ptr>&&)
                                                              + 0.20% std::_Rb_tree<std::string, std::pair<std::string const, ceph::buffer::ptr>, std::_Select1st<std::pair<std::string const, ceph::buffer::ptr> >, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >::_M_insert_node

Thread: 21===8116===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 97.00% WaitInterval
          | + 97.00% WaitUntil
          |   + 97.00% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 3.00% run
            + 3.00% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
              + 3.00% apply_visitor<PGQueueable::RunVis>
                + 3.00% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
                  + 3.00% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
                    + 3.00% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                      + 3.00% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                        + 3.00% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
                          + 3.00% internal_visit<boost::intrusive_ptr<OpRequest> >
                            + 3.00% PGQueueable::RunVis::operator()
                              + 3.00% OSD::dequeue_op
                                + 3.00% PrimaryLogPG::do_request
                                  + 2.00% PrimaryLogPG::do_op
                                  | + 1.80% PrimaryLogPG::execute_ctx
                                  | | + 1.80% PrimaryLogPG::issue_repop
                                  | |   + 1.80% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
                                  | |     + 1.20% ReplicatedBackend::issue_op
                                  | |     | + 1.00% OSDService::send_message_osd_cluster
                                  | |     | | + 1.00% AsyncConnection::send_message
                                  | |     | |   + 1.00% lock_guard
                                  | |     | |     + 1.00% lock
                                  | |     | |       + 1.00% __gthread_mutex_lock
                                  | |     | |         + 1.00% pthread_mutex_lock
                                  | |     | |           + 1.00% _L_lock_812
                                  | |     | |             + 1.00% __lll_lock_wait
                                  | |     | + 0.20% ReplicatedBackend::generate_subop
                                  | |     |   + 0.20% encode<pg_log_entry_t, std::allocator<pg_log_entry_t>, denc_traits<pg_log_entry_t, void> >
                                  | |     |     + 0.20% encode
                                  | |     |       + 0.20% pg_log_entry_t::encode
                                  | |     |         + 0.20% encode
                                  | |     |           + 0.20% hobject_t::encode
                                  | |     |             + 0.20% encode
                                  | |     |               + 0.20% encode
                                  | |     |                 + 0.20% encode
                                  | |     |                   + 0.20% encode
                                  | |     |                     + 0.20% encode_raw<ceph_le<unsigned int> >
                                  | |     + 0.40% PrimaryLogPG::queue_transactions
                                  | |     | + 0.40% queue_transactions
                                  | |     |   + 0.40% BlueStore::queue_transactions
                                  | |     |     + 0.40% BlueStore::_txc_add_transaction
                                  | |     |       + 0.20% BlueStore::_write
                                  | |     |       | + 0.20% BlueStore::_do_write
                                  | |     |       |   + 0.20% BlueStore::_do_write_data
                                  | |     |       |     + 0.20% BlueStore::_do_write_small
                                  | |     |       |       + 0.20% BlueStore::_buffer_cache_write
                                  | |     |       |         + 0.20% write
                                  | |     |       |           + 0.20% _add_buffer
                                  | |     |       |             + 0.20% operator[]
                                  | |     |       |               + 0.20% std::_Rb_tree<unsigned int, std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > >, std::_Select1st<std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > >, std::less<unsigned int>, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<unsigned int const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > >, std::piecewise_construct_t const&, std::tuple<unsigned int const&>&&, std::tuple<>&&)
                                  | |     |       |                 + 0.20% _M_insert_node
                                  | |     |       + 0.20% BlueStore::Collection::get_onode
                                  | |     |         + 0.20% BlueStore::OnodeSpace::lookup
                                  | |     |           + 0.20% find
                                  | |     |             + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::find
                                  | |     |               + 0.20% _M_find_node
                                  | |     |                 + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
                                  | |     |                   + 0.20% _M_equals
                                  | |     |                     + 0.20% _S_equals
                                  | |     + 0.20% PrimaryLogPG::log_operation
                                  | |       + 0.20% PG::append_log
                                  | |         + 0.20% PG::write_if_dirty
                                  | |           + 0.20% PGLog::write_log_and_missing
                                  | |             + 0.20% std::basic_ostream<char, std::char_traits<char> >::basic_ostream(std::basic_streambuf<char, std::char_traits<char> >*)
                                  | |               + 0.20% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
                                  | + 0.20% std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::basic_ostringstream(std::_Ios_Openmode)
                                  + 1.00% PGBackend::handle_message
                                    + 1.00% ReplicatedBackend::_handle_message
                                      + 0.80% ReplicatedBackend::do_repop
                                      | + 0.60% PrimaryLogPG::log_operation
                                      | | + 0.60% PG::append_log
                                      | |   + 0.40% PG::write_if_dirty
                                      | |   | + 0.40% PGLog::write_log_and_missing
                                      | |   |   + 0.40% PGLog::_write_log_and_missing
                                      | |   |     + 0.20% insert
                                      | |   |     | + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
                                      | |   |     |   + 0.20% _M_insert_<std::basic_string<char> >
                                      | |   |     |     + 0.20% _M_create_node<std::basic_string<char, std::char_traits<char>, std::allocator<char> > >
                                      | |   |     |       + 0.20% _M_get_node
                                      | |   |     |         + 0.20% allocate
                                      | |   |     |           + 0.20% tc_new
                                      | |   |     + 0.20% ObjectStore::Transaction::omap_rmkeys
                                      | |   |       + 0.20% encode<std::set<std::basic_string<char> >, denc_traits<std::set<std::basic_string<char> >, void> >
                                      | |   |         + 0.20% encode<std::basic_string<char> >
                                      | |   |           + 0.20% encode_nohead<std::basic_string<char> >
                                      | |   |             + 0.20% denc<std::basic_string<char>, denc_traits<std::basic_string<char>, void> >
                                      | |   |               + 0.20% encode
                                      | |   |                 + 0.20% size
                                      | |   |                   + 0.20% _M_rep
                                      | |   |                     + 0.20% _M_data
                                      | |   + 0.20% PGLog::trim
                                      | |     + 0.20% PGLog::IndexedLog::trim
                                      | |       + 0.20% PGLog::IndexedLog::unindex
                                      | |         + 0.20% count
                                      | |           + 0.20% std::_Hashtable<hobject_t, std::pair<hobject_t const, pg_log_entry_t*>, std::allocator<std::pair<hobject_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<hobject_t>, std::hash<hobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::count
                                      | + 0.20% PrimaryLogPG::queue_transactions
                                      |   + 0.20% queue_transactions
                                      |     + 0.20% BlueStore::queue_transactions
                                      |       + 0.20% BlueStore::_txc_add_transaction
                                      |         + 0.20% BlueStore::_setattrs
                                      |           + 0.20% ~basic_string
                                      |             + 0.20% _M_dispose
                                      |               + 0.20% std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >::_Rep::_M_dispose
                                      |                 + 0.20% _M_destroy
                                      |                   + 0.20% deallocate
                                      |                     + 0.20% operator-=
                                      + 0.20% ReplicatedBackend::do_repop_reply
                                        + 0.20% erase
                                          + 0.20% erase
                                            + 0.20% std::_Rb_tree<unsigned long, std::pair<unsigned long const, ReplicatedBackend::InProgressOp>, std::_Select1st<std::pair<unsigned long const, ReplicatedBackend::InProgressOp> >, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, ReplicatedBackend::InProgressOp> > >::_M_erase_aux
                                              + 0.20% _M_destroy_node
                                                + 0.20% _M_put_node
                                                  + 0.20% deallocate
                                                    + 0.20% tc_delete

Thread: 22===8115===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 97.20% WaitInterval
          | + 97.20% WaitUntil
          |   + 97.20% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.40% __pthread_mutex_cond_lock
          |       + 0.40% _L_cond_lock_789
          |         + 0.40% __lll_lock_wait
          + 2.80% run
            + 2.80% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
              + 2.80% apply_visitor<PGQueueable::RunVis>
                + 2.80% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
                  + 2.80% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
                    + 2.80% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                      + 2.80% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                        + 2.80% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
                          + 2.80% internal_visit<boost::intrusive_ptr<OpRequest> >
                            + 2.80% PGQueueable::RunVis::operator()
                              + 2.80% OSD::dequeue_op
                                + 2.80% PrimaryLogPG::do_request
                                  + 2.40% PrimaryLogPG::do_op
                                  | + 2.40% PrimaryLogPG::execute_ctx
                                  |   + 2.40% PrimaryLogPG::issue_repop
                                  |     + 2.40% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
                                  |       + 1.40% ReplicatedBackend::issue_op
                                  |       | + 1.40% OSDService::send_message_osd_cluster
                                  |       |   + 1.40% AsyncConnection::send_message
                                  |       |     + 0.60% lock_guard
                                  |       |     | + 0.60% lock
                                  |       |     |   + 0.60% __gthread_mutex_lock
                                  |       |     |     + 0.60% pthread_mutex_lock
                                  |       |     |       + 0.60% _L_lock_812
                                  |       |     |         + 0.60% __lll_lock_wait
                                  |       |     + 0.60% ceph::logging::Log::submit_entry
                                  |       |     | + 0.60% pthread_mutex_lock
                                  |       |     |   + 0.60% _L_lock_812
                                  |       |     |     + 0.60% __lll_lock_wait
                                  |       |     + 0.20% AsyncConnection::prepare_send_message
                                  |       |       + 0.20% Message::encode
                                  |       |         + 0.20% MOSDRepOp::encode_payload
                                  |       |           + 0.20% encode
                                  |       |             + 0.20% pg_shard_t::encode
                                  |       |               + 0.20% encode
                                  |       |                 + 0.20% encode
                                  |       |                   + 0.20% encode
                                  |       |                     + 0.20% encode_raw<signed char>
                                  |       |                       + 0.20% ceph::buffer::list::append
                                  |       |                         + 0.20% ceph::buffer::list::append
                                  |       |                           + 0.20% set_length
                                  |       + 0.80% PrimaryLogPG::queue_transactions
                                  |       | + 0.80% queue_transactions
                                  |       |   + 0.80% BlueStore::queue_transactions
                                  |       |     + 0.40% BlueStore::_txc_add_transaction
                                  |       |     | + 0.20% ghobject_t
                                  |       |     | | + 0.20% hobject_t::hobject_t
                                  |       |     | + 0.20% BlueStore::_omap_setkeys
                                  |       |     |   + 0.20% RocksDBStore::RocksDBTransactionImpl::set
                                  |       |     |     + 0.20% rocksdb::WriteBatch::Put
                                  |       |     + 0.20% Throttle::get_or_fail
                                  |       |     | + 0.20% Locker
                                  |       |     |   + 0.20% Mutex::Lock
                                  |       |     |     + 0.20% pthread_mutex_lock
                                  |       |     |       + 0.20% _L_lock_812
                                  |       |     |         + 0.20% __lll_lock_wait
                                  |       |     + 0.20% RocksDBStore::RocksDBTransactionImpl::set
                                  |       |       + 0.20% rocksdb::WriteBatch::Put
                                  |       |         + 0.20% rocksdb::WriteBatchInternal::Put
                                  |       |           + 0.20% PutLengthPrefixedSliceParts
                                  |       |             + 0.20% std::string::append(char const*, unsigned long)
                                  |       |               + 0.20% __memcpy_ssse3_back
                                  |       + 0.20% PrimaryLogPG::log_operation
                                  |         + 0.20% PG::append_log
                                  |           + 0.20% PG::write_if_dirty
                                  |             + 0.20% omap_setkeys
                                  |               + 0.20% encode<std::map<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::map<std::basic_string<char>, ceph::buffer::list>, void> >
                                  |                 + 0.20% bound_encode<std::pair<std::basic_string<char>, ceph::buffer::list> >
                                  |                   + 0.20% pair<std::basic_string<char> const, ceph::buffer::list, void>
                                  |                     + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
                                  + 0.40% PGBackend::handle_message
                                    + 0.40% ReplicatedBackend::_handle_message
                                      + 0.40% ReplicatedBackend::do_repop
                                        + 0.40% PrimaryLogPG::log_operation
                                          + 0.40% PG::append_log
                                            + 0.40% PG::write_if_dirty
                                              + 0.40% PGLog::write_log_and_missing
                                                + 0.40% PGLog::_write_log_and_missing
                                                  + 0.20% encode
                                                  | + 0.20% pg_log_dup_t::encode
                                                  |   + 0.20% encode
                                                  |     + 0.20% encode_raw<ceph_le<unsigned int> >
                                                  |       + 0.20% ceph::buffer::list::append
                                                  |         + 0.20% ceph::buffer::ptr::append
                                                  |           + 0.20% maybe_inline_memcpy
                                                  + 0.20% ceph::buffer::list::claim
                                                    + 0.20% ceph::buffer::list::claim_append

Thread: 23===8114===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 97.20% WaitInterval
          | + 97.20% WaitUntil
          |   + 97.20% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.40% __pthread_mutex_cond_lock
          |       + 0.40% _L_cond_lock_789
          |         + 0.40% __lll_lock_wait
          + 2.40% run
          | + 2.40% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 2.40% apply_visitor<PGQueueable::RunVis>
          |     + 2.40% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 2.40% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 2.40% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 2.40% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 2.40% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 2.40% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 2.40% PGQueueable::RunVis::operator()
          |                   + 2.40% OSD::dequeue_op
          |                     + 2.40% PrimaryLogPG::do_request
          |                       + 1.60% PGBackend::handle_message
          |                       | + 1.60% ReplicatedBackend::_handle_message
          |                       |   + 1.60% ReplicatedBackend::do_repop
          |                       |     + 0.80% PrimaryLogPG::log_operation
          |                       |     | + 0.80% PG::append_log
          |                       |     |   + 0.80% PG::write_if_dirty
          |                       |     |     + 0.80% PGLog::write_log_and_missing
          |                       |     |       + 0.60% PGLog::_write_log_and_missing
          |                       |     |       | + 0.40% encode
          |                       |     |       | | + 0.40% pg_log_dup_t::encode
          |                       |     |       | |   + 0.40% encode
          |                       |     |       | |     + 0.40% encode_raw<unsigned char>
          |                       |     |       | |       + 0.40% ceph::buffer::list::append
          |                       |     |       | |         + 0.20% create
          |                       |     |       | |         | + 0.20% tc_posix_memalign
          |                       |     |       | |         |   + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                       |     |       | |         |     + 0.20% tcmalloc::AlignmentForSize(unsigned long)
          |                       |     |       | |         + 0.20% ceph::buffer::list::append
          |                       |     |       | |           + 0.20% push_back
          |                       |     |       | |             + 0.20% push_back
          |                       |     |       | |               + 0.20% _M_insert<ceph::buffer::ptr>
          |                       |     |       | |                 + 0.20% _M_create_node<ceph::buffer::ptr>
          |                       |     |       | |                   + 0.20% _M_get_node
          |                       |     |       | |                     + 0.20% allocate
          |                       |     |       | |                       + 0.20% tc_new
          |                       |     |       | + 0.20% pg_log_dup_t::get_key_name
          |                       |     |       |   + 0.20% operator+<char, std::char_traits<char>, std::allocator<char> >
          |                       |     |       |     + 0.20% insert
          |                       |     |       |       + 0.20% std::string::_M_replace_safe(unsigned long, unsigned long, char const*, unsigned long)
          |                       |     |       |         + 0.20% std::string::_M_mutate(unsigned long, unsigned long, unsigned long)
          |                       |     |       |           + 0.20% None
          |                       |     |       + 0.20% ceph::logging::Log::submit_entry
          |                       |     |         + 0.20% pthread_mutex_lock
          |                       |     |           + 0.20% _L_lock_812
          |                       |     |             + 0.20% __lll_lock_wait
          |                       |     + 0.60% PrimaryLogPG::queue_transactions
          |                       |     | + 0.60% queue_transactions
          |                       |     |   + 0.60% BlueStore::queue_transactions
          |                       |     |     + 0.60% BlueStore::_txc_add_transaction
          |                       |     |       + 0.40% BlueStore::_omap_setkeys
          |                       |     |       | + 0.20% decode
          |                       |     |       | | + 0.20% clear
          |                       |     |       | + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       |     |       |   + 0.20% combine_strings
          |                       |     |       |     + 0.20% std::string::append(std::string const&)
          |                       |     |       |       + 0.20% std::string::reserve(unsigned long)
          |                       |     |       |         + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          |                       |     |       |           + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          |                       |     |       |             + 0.20% tc_new
          |                       |     |       + 0.20% BlueStore::Collection::get_onode
          |                       |     |         + 0.20% BlueStore::OnodeSpace::lookup
          |                       |     |           + 0.20% find
          |                       |     |             + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::find
          |                       |     |               + 0.20% _M_find_node
          |                       |     |                 + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                       |     + 0.20% decode
          |                       |       + 0.20% ObjectStore::Transaction::decode
          |                       |         + 0.20% decode<ghobject_t, unsigned int, std::less<ghobject_t>, std::allocator<std::pair<ghobject_t const, unsigned int> >, denc_traits<ghobject_t, void>, denc_traits<unsigned int, void> >
          |                       |           + 0.20% operator[]
          |                       |             + 0.20% std::_Rb_tree<ghobject_t, std::pair<ghobject_t const, unsigned int>, std::_Select1st<std::pair<ghobject_t const, unsigned int> >, std::less<ghobject_t>, std::allocator<std::pair<ghobject_t const, unsigned int> > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<ghobject_t const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<ghobject_t const, unsigned int> >, std::piecewise_construct_t const&, std::tuple<ghobject_t const&>&&, std::tuple<>&&)
          |                       |               + 0.20% std::_Rb_tree<ghobject_t, std::pair<ghobject_t const, unsigned int>, std::_Select1st<std::pair<ghobject_t const, unsigned int> >, std::less<ghobject_t>, std::allocator<std::pair<ghobject_t const, unsigned int> > >::_M_get_insert_hint_unique_pos
          |                       |                 + 0.20% std::_Rb_tree<ghobject_t, std::pair<ghobject_t const, unsigned int>, std::_Select1st<std::pair<ghobject_t const, unsigned int> >, std::less<ghobject_t>, std::allocator<std::pair<ghobject_t const, unsigned int> > >::_M_get_insert_unique_pos
          |                       + 0.80% PrimaryLogPG::do_op
          |                         + 0.80% PrimaryLogPG::execute_ctx
          |                           + 0.80% PrimaryLogPG::issue_repop
          |                             + 0.80% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                               + 0.80% PrimaryLogPG::queue_transactions
          |                                 + 0.80% queue_transactions
          |                                   + 0.80% BlueStore::queue_transactions
          |                                     + 0.40% BlueStore::_txc_write_nodes
          |                                     | + 0.40% BlueStore::ExtentMap::update
          |                                     |   + 0.40% BlueStore::ExtentMap::encode_some
          |                                     |     + 0.20% lower_bound
          |                                     |       + 0.20% lower_bound<BlueStore::Extent, std::less<BlueStore::Extent> >
          |                                     |         + 0.20% lower_bound<BlueStore::Extent, boost::intrusive::detail::key_nodeptr_comp<std::less<BlueStore::Extent>, boost::intrusive::bhtraits<BlueStore::Extent, boost::intrusive::rbtree_node_traits<void*, true>, (boost::intrusive::link_mode_type)1, boost::intrusive::dft_tag, 3u>, boost::move_detail::identity<BlueStore::Extent> > >
          |                                     |           + 0.20% lower_bound_loop<BlueStore::Extent, boost::intrusive::detail::key_nodeptr_comp<std::less<BlueStore::Extent>, boost::intrusive::bhtraits<BlueStore::Extent, boost::intrusive::rbtree_node_traits<void*, true>, (boost::intrusive::link_mode_type)1, boost::intrusive::dft_tag, 3u>, boost::move_detail::identity<BlueStore::Extent> > >
          |                                     |             + 0.20% get_right
          |                                     + 0.20% PerfCounters::inc
          |                                     + 0.20% BlueStore::_txc_add_transaction
          + 0.40% PG::lock
            + 0.40% Mutex::Lock
              + 0.40% pthread_mutex_lock
                + 0.40% _L_lock_812
                  + 0.40% __lll_lock_wait

Thread: 24===8113===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 94.60% WaitInterval
          | + 94.60% WaitUntil
          |   + 94.60% pthread_cond_timedwait@@GLIBC_2.3.2
          + 4.60% run
          | + 4.60% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 4.60% apply_visitor<PGQueueable::RunVis>
          |     + 4.60% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 4.60% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 4.60% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 4.60% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 4.60% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 4.60% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 4.60% PGQueueable::RunVis::operator()
          |                   + 4.60% OSD::dequeue_op
          |                     + 4.60% PrimaryLogPG::do_request
          |                       + 2.60% PrimaryLogPG::do_op
          |                       | + 2.60% PrimaryLogPG::execute_ctx
          |                       |   + 2.40% PrimaryLogPG::issue_repop
          |                       |   | + 2.40% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       |   |   + 1.20% ReplicatedBackend::issue_op
          |                       |   |   | + 1.00% OSDService::send_message_osd_cluster
          |                       |   |   | | + 1.00% AsyncConnection::send_message
          |                       |   |   | |   + 0.80% lock_guard
          |                       |   |   | |   | + 0.80% lock
          |                       |   |   | |   |   + 0.80% __gthread_mutex_lock
          |                       |   |   | |   |     + 0.80% pthread_mutex_lock
          |                       |   |   | |   |       + 0.80% _L_lock_812
          |                       |   |   | |   |         + 0.80% __lll_lock_wait
          |                       |   |   | |   + 0.20% AsyncConnection::prepare_send_message
          |                       |   |   | |     + 0.20% Message::encode
          |                       |   |   | |       + 0.20% calc_front_crc
          |                       |   |   | |         + 0.20% ceph::buffer::list::crc32c
          |                       |   |   | |           + 0.20% set_crc
          |                       |   |   | |             + 0.20% operator[]
          |                       |   |   | |               + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>&&, std::tuple<>&&)
          |                       |   |   | |                 + 0.20% _M_insert_node
          |                       |   |   | |                   + 0.20% std::_Rb_tree_insert_and_rebalance(bool, std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::_Rb_tree_node_base&)
          |                       |   |   | + 0.20% ReplicatedBackend::generate_subop
          |                       |   |   |   + 0.20% MOSDRepOp
          |                       |   |   |     + 0.20% hobject_t::hobject_t
          |                       |   |   |       + 0.20% object_t
          |                       |   |   |         + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
          |                       |   |   + 0.60% PrimaryLogPG::queue_transactions
          |                       |   |   | + 0.60% queue_transactions
          |                       |   |   |   + 0.60% BlueStore::queue_transactions
          |                       |   |   |     + 0.40% BlueStore::_txc_add_transaction
          |                       |   |   |     | + 0.20% decode_attrset
          |                       |   |   |     | | + 0.20% decode<std::map<std::string, ceph::buffer::ptr, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >, denc_traits<std::map<std::string, ceph::buffer::ptr, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >, void> >
          |                       |   |   |     | |   + 0.20% decode<std::pair<std::basic_string<char>, ceph::buffer::ptr> >
          |                       |   |   |     | |     + 0.20% denc<unsigned int, denc_traits<unsigned int, void>, _denc::has_legacy_denc<unsigned int, void> >
          |                       |   |   |     | |       + 0.20% decode
          |                       |   |   |     | |         + 0.20% decode
          |                       |   |   |     | |           + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          |                       |   |   |     | |             + 0.20% ceph::buffer::ptr::copy_out
          |                       |   |   |     | |               + 0.20% maybe_inline_memcpy
          |                       |   |   |     | + 0.20% BlueStore::_setattrs
          |                       |   |   |     |   + 0.20% ceph::buffer::ptr::c_str
          |                       |   |   |     + 0.20% BlueStore::_txc_write_nodes
          |                       |   |   |       + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       |   |   |         + 0.20% Put
          |                       |   |   |           + 0.20% rocksdb::WriteBatch::Put
          |                       |   |   |             + 0.20% rocksdb::WriteBatchInternal::Put
          |                       |   |   |               + 0.20% PutLengthPrefixedSlice
          |                       |   |   |                 + 0.20% std::string::append(char const*, unsigned long)
          |                       |   |   |                   + 0.20% __memcpy_ssse3_back
          |                       |   |   + 0.60% PrimaryLogPG::log_operation
          |                       |   |     + 0.60% PG::append_log
          |                       |   |       + 0.40% PG::write_if_dirty
          |                       |   |       | + 0.40% PGLog::write_log_and_missing
          |                       |   |       |   + 0.40% PGLog::_write_log_and_missing
          |                       |   |       |     + 0.40% pg_log_entry_t::encode_with_checksum
          |                       |   |       |       + 0.20% pg_log_entry_t::encode
          |                       |   |       |       | + 0.20% encode
          |                       |   |       |       |   + 0.20% hobject_t::encode
          |                       |   |       |       |     + 0.20% encode
          |                       |   |       |       |       + 0.20% encode_raw<ceph_le<unsigned int> >
          |                       |   |       |       |         + 0.20% ceph::buffer::list::append
          |                       |   |       |       + 0.20% ceph::buffer::list::crc32c
          |                       |   |       |         + 0.20% ceph_crc32c
          |                       |   |       |           + 0.20% ceph_crc32c_intel_baseline
          |                       |   |       + 0.20% PGLog::trim
          |                       |   |         + 0.20% PGLog::IndexedLog::trim
          |                       |   |           + 0.20% insert
          |                       |   |             + 0.20% std::_Rb_tree<eversion_t, eversion_t, std::_Identity<eversion_t>, std::less<eversion_t>, std::allocator<eversion_t> >::_M_insert_unique<eversion_t const&>
          |                       |   |               + 0.20% _M_insert_<eversion_t const&>
          |                       |   |                 + 0.20% _M_create_node<eversion_t const&>
          |                       |   |                   + 0.20% _M_get_node
          |                       |   |                     + 0.20% allocate
          |                       |   |                       + 0.20% tc_new
          |                       |   + 0.20% MOSDOpReply::MOSDOpReply
          |                       + 2.00% PGBackend::handle_message
          |                         + 2.00% ReplicatedBackend::_handle_message
          |                           + 2.00% ReplicatedBackend::do_repop
          |                             + 1.20% PrimaryLogPG::log_operation
          |                             | + 1.20% PG::append_log
          |                             |   + 0.60% PGLog::trim
          |                             |   | + 0.60% PGLog::IndexedLog::trim
          |                             |   |   + 0.20% erase
          |                             |   |   | + 0.20% erase
          |                             |   |   |   + 0.20% _M_erase
          |                             |   |   |     + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                             |   |   + 0.20% PGLog::IndexedLog::unindex
          |                             |   |     + 0.20% count
          |                             |   |       + 0.20% std::_Hashtable<hobject_t, std::pair<hobject_t const, pg_log_entry_t*>, std::allocator<std::pair<hobject_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<hobject_t>, std::hash<hobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::count
          |                             |   |         + 0.20% _M_equals
          |                             |   |           + 0.20% _S_equals
          |                             |   |             + 0.20% operator()
          |                             |   |               + 0.20% operator==
          |                             |   |                 + 0.20% operator==
          |                             |   |                   + 0.20% operator==<char>
          |                             |   + 0.60% PG::write_if_dirty
          |                             |     + 0.40% PGLog::write_log_and_missing
          |                             |     | + 0.40% PGLog::_write_log_and_missing
          |                             |     |   + 0.20% insert
          |                             |     |   | + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
          |                             |     |   |   + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_get_insert_unique_pos
          |                             |     |   |     + 0.20% operator()
          |                             |     |   |       + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
          |                             |     |   |         + 0.20% compare
          |                             |     |   |           + 0.20% compare
          |                             |     |   |             + 0.20% __memcmp_sse4_1
          |                             |     |   + 0.20% eversion_t::get_key_name
          |                             |     |     + 0.20% ritoa<unsigned long, 10u, 20u>
          |                             |     + 0.20% omap_setkeys
          |                             |       + 0.20% encode<std::map<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::map<std::basic_string<char>, ceph::buffer::list>, void> >
          |                             |         + 0.20% encode<std::pair<std::basic_string<char>, ceph::buffer::list> >
          |                             |           + 0.20% encode_nohead<std::pair<std::basic_string<char>, ceph::buffer::list> >
          |                             |             + 0.20% denc<std::pair<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::pair<std::basic_string<char>, ceph::buffer::list>, void> >
          |                             |               + 0.20% encode<std::basic_string<char> >
          |                             |                 + 0.20% denc<ceph::buffer::list, denc_traits<ceph::buffer::list> >
          |                             |                   + 0.20% encode
          |                             |                     + 0.20% append
          |                             |                       + 0.20% flush_and_continue
          |                             |                         + 0.20% ceph::buffer::ptr::ptr
          |                             + 0.80% PrimaryLogPG::queue_transactions
          |                               + 0.80% queue_transactions
          |                                 + 0.80% BlueStore::queue_transactions
          |                                   + 0.80% BlueStore::_txc_add_transaction
          |                                     + 0.40% BlueStore::_write
          |                                     | + 0.40% BlueStore::_do_write
          |                                     |   + 0.40% BlueStore::_do_write_data
          |                                     |     + 0.40% BlueStore::_do_write_small
          |                                     |       + 0.20% PerfCounters::inc
          |                                     |       + 0.20% BlueStore::ExtentMap::set_lextent
          |                                     |         + 0.20% insert
          |                                     |           + 0.20% insert_unique
          |                                     |             + 0.20% insert_unique_commit
          |                                     |               + 0.20% insert_unique_commit
          |                                     |                 + 0.20% insert_unique_commit
          |                                     |                   + 0.20% insert_commit
          |                                     |                     + 0.20% set_right
          |                                     + 0.20% ~list
          |                                     | + 0.20% ~list
          |                                     |   + 0.20% ~_List_base
          |                                     |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                                     |       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |                                     |         + 0.20% ~_List_node
          |                                     |           + 0.20% ~ptr
          |                                     |             + 0.20% ceph::buffer::ptr::release
          |                                     + 0.20% BlueStore::_omap_rmkeys
          |                                       + 0.20% RocksDBStore::RocksDBTransactionImpl::rmkey
          |                                         + 0.20% Delete
          |                                           + 0.20% rocksdb::WriteBatch::Delete
          |                                             + 0.20% rocksdb::WriteBatchInternal::Delete
          |                                               + 0.20% PutLengthPrefixedSlice
          |                                                 + 0.20% PutVarint32
          |                                                   + 0.20% std::string::append(char const*, unsigned long)
          + 0.60% PG::lock
          | + 0.60% Mutex::Lock
          |   + 0.60% pthread_mutex_lock
          |     + 0.60% _L_lock_812
          |       + 0.60% __lll_lock_wait
          + 0.20% Mutex::Lock
            + 0.20% pthread_mutex_lock
              + 0.20% _L_lock_812
                + 0.20% __lll_lock_wait

Thread: 25===8112===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 95.20% WaitInterval
          | + 95.20% WaitUntil
          |   + 95.20% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.60% __pthread_mutex_cond_lock
          |       + 0.60% _L_cond_lock_789
          |         + 0.60% __lll_lock_wait
          + 3.80% run
          | + 3.80% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 3.80% apply_visitor<PGQueueable::RunVis>
          |     + 3.80% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 3.80% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 3.80% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 3.80% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 3.80% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 3.80% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 3.80% PGQueueable::RunVis::operator()
          |                   + 3.80% OSD::dequeue_op
          |                     + 3.80% PrimaryLogPG::do_request
          |                       + 3.60% PrimaryLogPG::do_op
          |                       | + 3.60% PrimaryLogPG::execute_ctx
          |                       |   + 3.60% PrimaryLogPG::issue_repop
          |                       |     + 3.60% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       |       + 2.00% PrimaryLogPG::queue_transactions
          |                       |       | + 2.00% queue_transactions
          |                       |       |   + 2.00% BlueStore::queue_transactions
          |                       |       |     + 1.40% BlueStore::_txc_add_transaction
          |                       |       |     | + 1.00% BlueStore::_write
          |                       |       |     | | + 1.00% BlueStore::_do_write
          |                       |       |     | |   + 0.60% BlueStore::_do_write_data
          |                       |       |     | |   | + 0.60% BlueStore::_do_write_small
          |                       |       |     | |   |   + 0.20% bluestore_blob_t::calc_csum
          |                       |       |     | |   |   | + 0.20% calculate<Checksummer::crc32c>
          |                       |       |     | |   |   |   + 0.20% calculate<Checksummer::crc32c>
          |                       |       |     | |   |   |     + 0.20% calc
          |                       |       |     | |   |   |       + 0.20% ceph::buffer::list::iterator_impl<true>::crc32c
          |                       |       |     | |   |   |         + 0.20% ceph_crc32c
          |                       |       |     | |   |   |           + 0.20% ceph_crc32c_intel_fast
          |                       |       |     | |   |   |             + 0.20% None
          |                       |       |     | |   |   |               + 0.20% None
          |                       |       |     | |   |   |                 + 0.20% crc32_iscsi_00
          |                       |       |     | |   |   + 0.20% blob_end
          |                       |       |     | |   |   | + 0.20% blob_start
          |                       |       |     | |   |   + 0.20% BlueStore::_buffer_cache_write
          |                       |       |     | |   |     + 0.20% write
          |                       |       |     | |   |       + 0.20% BlueStore::BufferSpace::_discard
          |                       |       |     | |   + 0.20% BlueStore::_choose_write_options
          |                       |       |     | |   + 0.20% BlueStore::ExtentMap::fault_range
          |                       |       |     | |     + 0.20% seek_shard
          |                       |       |     | + 0.20% BlueStore::_setattrs
          |                       |       |     | | + 0.20% std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >::basic_string
          |                       |       |     | |   + 0.20% _S_construct<char const*>
          |                       |       |     | |     + 0.20% _S_construct_aux<char const*>
          |                       |       |     | |       + 0.20% _S_construct<char const*>
          |                       |       |     | |         + 0.20% std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >::_Rep::_S_create
          |                       |       |     | |           + 0.20% allocate
          |                       |       |     | |             + 0.20% operator+=
          |                       |       |     | + 0.20% BlueStore::_get_collection
          |                       |       |     |   + 0.20% ~RLocker
          |                       |       |     |     + 0.20% RWLock::unlock
          |                       |       |     |       + 0.20% pthread_rwlock_unlock@plt
          |                       |       |     + 0.60% BlueStore::_txc_write_nodes
          |                       |       |       + 0.60% BlueStore::ExtentMap::update
          |                       |       |         + 0.60% BlueStore::ExtentMap::encode_some
          |                       |       |           + 0.60% encode
          |                       |       |             + 0.60% denc<bluestore_blob_t, denc_traits<bluestore_blob_t> >
          |                       |       |               + 0.60% encode
          |                       |       |                 + 0.60% encode
          |                       |       |                   + 0.20% memcpy
          |                       |       |                   | + 0.20% __memcpy_ssse3_back
          |                       |       |                   + 0.20% denc<std::vector<bluestore_pextent_t, mempool::pool_allocator<(mempool::pool_index_t)4, bluestore_pextent_t> >, denc_traits<std::vector<bluestore_pextent_t, mempool::pool_allocator<(mempool::pool_index_t)4, bluestore_pextent_t> > > >
          |                       |       |                   | + 0.20% encode
          |                       |       |                   |   + 0.20% denc<bluestore_pextent_t, denc_traits<bluestore_pextent_t> >
          |                       |       |                   |     + 0.20% encode
          |                       |       |                   |       + 0.20% encode
          |                       |       |                   |         + 0.20% _denc_friend<bluestore_pextent_t const, ceph::buffer::list::contiguous_appender>
          |                       |       |                   |           + 0.20% denc_lba
          |                       |       |                   + 0.20% ceph::buffer::ptr::c_str
          |                       |       + 1.20% ReplicatedBackend::issue_op
          |                       |       | + 0.80% OSDService::send_message_osd_cluster
          |                       |       | | + 0.80% AsyncConnection::send_message
          |                       |       | |   + 0.40% ceph::logging::Log::submit_entry
          |                       |       | |   | + 0.40% pthread_mutex_lock
          |                       |       | |   |   + 0.40% _L_lock_812
          |                       |       | |   |     + 0.40% __lll_lock_wait
          |                       |       | |   + 0.20% operator<<
          |                       |       | |   | + 0.20% operator<<
          |                       |       | |   |   + 0.20% getnameinfo
          |                       |       | |   + 0.20% lock_guard
          |                       |       | |     + 0.20% lock
          |                       |       | |       + 0.20% __gthread_mutex_lock
          |                       |       | |         + 0.20% pthread_mutex_lock
          |                       |       | |           + 0.20% _L_lock_812
          |                       |       | |             + 0.20% __lll_lock_wait
          |                       |       | + 0.40% ReplicatedBackend::generate_subop
          |                       |       |   + 0.20% encode<pg_log_entry_t, std::allocator<pg_log_entry_t>, denc_traits<pg_log_entry_t, void> >
          |                       |       |   | + 0.20% encode
          |                       |       |   |   + 0.20% encode_raw<ceph_le<unsigned int> >
          |                       |       |   |     + 0.20% ceph::buffer::list::append
          |                       |       |   |       + 0.20% ceph::buffer::ptr::operator=(ceph::buffer::ptr&&)
          |                       |       |   |         + 0.20% ceph::buffer::ptr::release
          |                       |       |   + 0.20% MOSDRepOp
          |                       |       |     + 0.20% hobject_t::hobject_t
          |                       |       + 0.40% PrimaryLogPG::log_operation
          |                       |         + 0.40% PG::append_log
          |                       |           + 0.20% PGLog::trim
          |                       |           | + 0.20% PGLog::IndexedLog::trim
          |                       |           |   + 0.20% PGLog::IndexedLog::unindex
          |                       |           |     + 0.20% operator[]
          |                       |           |       + 0.20% std::__detail::_Map_base<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_entry_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[]
          |                       |           |         + 0.20% _M_bucket_index
          |                       |           |           + 0.20% _M_bucket_index
          |                       |           |             + 0.20% operator()
          |                       |           + 0.20% PG::write_if_dirty
          |                       |             + 0.20% PGLog::write_log_and_missing
          |                       |               + 0.20% undirty
          |                       |                 + 0.20% clear
          |                       |                   + 0.20% clear
          |                       |                     + 0.20% std::_Rb_tree<eversion_t, eversion_t, std::_Identity<eversion_t>, std::less<eversion_t>, std::allocator<eversion_t> >::_M_erase
          |                       + 0.20% PGBackend::handle_message
          |                         + 0.20% ReplicatedBackend::_handle_message
          |                           + 0.20% ReplicatedBackend::do_repop
          |                             + 0.20% PrimaryLogPG::log_operation
          |                               + 0.20% PG::append_log
          |                                 + 0.20% PGLog::trim
          |                                   + 0.20% PGLog::IndexedLog::trim
          |                                     + 0.20% index
          |                                       + 0.20% operator[]
          |                                         + 0.20% std::__detail::_Map_base<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[]
          |                                           + 0.20% _M_find_node
          |                                             + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                                               + 0.20% _M_equals
          |                                                 + 0.20% _S_equals
          + 0.80% PG::lock
          | + 0.80% Mutex::Lock
          |   + 0.80% pthread_mutex_lock
          |     + 0.80% _L_lock_812
          |       + 0.80% __lll_lock_wait
          + 0.20% operator->

Thread: 26===8111===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 93.80% WaitInterval
          | + 93.80% WaitUntil
          |   + 93.80% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 5.80% run
          | + 5.80% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 5.80% apply_visitor<PGQueueable::RunVis>
          |     + 5.80% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 5.80% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 5.80% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 5.80% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 5.80% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 5.80% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 5.80% PGQueueable::RunVis::operator()
          |                   + 5.80% OSD::dequeue_op
          |                     + 5.80% PrimaryLogPG::do_request
          |                       + 4.20% PrimaryLogPG::do_op
          |                       | + 4.20% PrimaryLogPG::execute_ctx
          |                       |   + 4.20% PrimaryLogPG::issue_repop
          |                       |     + 4.20% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       |       + 1.40% ReplicatedBackend::issue_op
          |                       |       | + 1.00% OSDService::send_message_osd_cluster
          |                       |       | | + 1.00% AsyncConnection::send_message
          |                       |       | |   + 0.60% lock_guard
          |                       |       | |   | + 0.60% lock
          |                       |       | |   |   + 0.60% __gthread_mutex_lock
          |                       |       | |   |     + 0.60% pthread_mutex_lock
          |                       |       | |   |       + 0.60% _L_lock_812
          |                       |       | |   |         + 0.60% __lll_lock_wait
          |                       |       | |   + 0.40% AsyncConnection::prepare_send_message
          |                       |       | |     + 0.40% Message::encode
          |                       |       | |       + 0.20% calc_front_crc
          |                       |       | |       | + 0.20% ceph::buffer::list::crc32c
          |                       |       | |       |   + 0.20% set_crc
          |                       |       | |       |     + 0.20% operator[]
          |                       |       | |       |       + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>&&, std::tuple<>&&)
          |                       |       | |       |         + 0.20% _M_create_node<const std::piecewise_construct_t&, std::tuple<const std::pair<long unsigned int, long unsigned int>&>, std::tuple<> >
          |                       |       | |       |           + 0.20% _M_get_node
          |                       |       | |       |             + 0.20% allocate
          |                       |       | |       |               + 0.20% tc_new
          |                       |       | |       + 0.20% calc_data_crc
          |                       |       | |         + 0.20% ceph::buffer::list::crc32c
          |                       |       | |           + 0.20% ceph_crc32c
          |                       |       | |             + 0.20% ceph_crc32c_intel_fast
          |                       |       | |               + 0.20% None
          |                       |       | |                 + 0.20% None
          |                       |       | |                   + 0.20% crc32_iscsi_00
          |                       |       | + 0.20% erase
          |                       |       | | + 0.20% std::_Rb_tree<pg_shard_t, pg_shard_t, std::_Identity<pg_shard_t>, std::less<pg_shard_t>, std::allocator<pg_shard_t> >::erase
          |                       |       | |   + 0.20% erase
          |                       |       | |     + 0.20% _M_erase_aux
          |                       |       | |       + 0.20% erase
          |                       |       | |         + 0.20% std::_Rb_tree<pg_shard_t, pg_shard_t, std::_Identity<pg_shard_t>, std::less<pg_shard_t>, std::allocator<pg_shard_t> >::_M_erase_aux
          |                       |       | |           + 0.20% _M_destroy_node
          |                       |       | |             + 0.20% _M_put_node
          |                       |       | |               + 0.20% deallocate
          |                       |       | |                 + 0.20% tc_delete
          |                       |       | + 0.20% ReplicatedBackend::generate_subop
          |                       |       |   + 0.20% encode<pg_log_entry_t, std::allocator<pg_log_entry_t>, denc_traits<pg_log_entry_t, void> >
          |                       |       |     + 0.20% encode
          |                       |       |       + 0.20% encode_raw<ceph_le<unsigned int> >
          |                       |       |         + 0.20% ceph::buffer::list::append
          |                       |       |           + 0.20% ceph::buffer::list::append
          |                       |       |             + 0.20% push_back
          |                       |       |               + 0.20% push_back
          |                       |       |                 + 0.20% _M_insert<ceph::buffer::ptr>
          |                       |       |                   + 0.20% _M_create_node<ceph::buffer::ptr>
          |                       |       |                     + 0.20% _M_get_node
          |                       |       |                       + 0.20% allocate
          |                       |       |                         + 0.20% tc_new
          |                       |       + 1.40% PrimaryLogPG::queue_transactions
          |                       |       | + 1.40% queue_transactions
          |                       |       |   + 1.40% BlueStore::queue_transactions
          |                       |       |     + 0.80% BlueStore::_txc_add_transaction
          |                       |       |     | + 0.20% ~list
          |                       |       |     | | + 0.20% ~list
          |                       |       |     | |   + 0.20% ~_List_base
          |                       |       |     | |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                       |       |     | |       + 0.20% _M_put_node
          |                       |       |     | |         + 0.20% deallocate
          |                       |       |     | |           + 0.20% tc_delete
          |                       |       |     | + 0.20% begin
          |                       |       |     | | + 0.20% iterator
          |                       |       |     | |   + 0.20% ceph::buffer::list::get_contiguous
          |                       |       |     | |     + 0.20% ceph::buffer::list::rebuild
          |                       |       |     | |       + 0.20% ceph::buffer::create
          |                       |       |     | |         + 0.20% ceph::buffer::create_aligned
          |                       |       |     | |           + 0.20% ceph::buffer::create_aligned_in_mempool
          |                       |       |     | |             + 0.20% create
          |                       |       |     | |               + 0.20% tc_posix_memalign
          |                       |       |     | |                 + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                       |       |     | + 0.20% BlueStore::_write
          |                       |       |     | | + 0.20% BlueStore::_assign_nid
          |                       |       |     | + 0.20% BlueStore::_omap_setkeys
          |                       |       |     |   + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       |       |     |     + 0.20% combine_strings
          |                       |       |     |       + 0.20% push_back
          |                       |       |     |         + 0.20% std::string::reserve(unsigned long)
          |                       |       |     |           + 0.20% None
          |                       |       |     + 0.40% BlueStore::_txc_write_nodes
          |                       |       |     | + 0.20% BlueStore::ExtentMap::update
          |                       |       |     | | + 0.20% BlueStore::ExtentMap::encode_some
          |                       |       |     | |   + 0.20% encode
          |                       |       |     | |     + 0.20% denc<bluestore_blob_t, denc_traits<bluestore_blob_t> >
          |                       |       |     | |       + 0.20% encode
          |                       |       |     | |         + 0.20% encode
          |                       |       |     | |           + 0.20% ceph::buffer::ptr::c_str
          |                       |       |     | + 0.20% BlueStore::ExtentMap::encode_spanning_blobs
          |                       |       |     + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       |       |       + 0.20% rocksdb::WriteBatch::Put
          |                       |       |         + 0.20% rocksdb::WriteBatchInternal::Put
          |                       |       |           + 0.20% PutLengthPrefixedSliceParts
          |                       |       |             + 0.20% std::string::append(char const*, unsigned long)
          |                       |       |               + 0.20% __memcpy_ssse3_back
          |                       |       + 1.40% PrimaryLogPG::log_operation
          |                       |         + 1.40% PG::append_log
          |                       |           + 0.80% PG::write_if_dirty
          |                       |           | + 0.80% PGLog::write_log_and_missing
          |                       |           |   + 0.40% PGLog::_write_log_and_missing
          |                       |           |   | + 0.20% std::map<std::string, ceph::buffer::list, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::operator[](std::string&&)
          |                       |           |   | | + 0.20% std::_Rb_tree<std::string, std::pair<std::string const, ceph::buffer::list>, std::_Select1st<std::pair<std::string const, ceph::buffer::list> >, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::string&&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::string const, ceph::buffer::list> >, std::piecewise_construct_t const&, std::tuple<std::string&&>&&, std::tuple<>&&)
          |                       |           |   | |   + 0.20% std::_Rb_tree<std::string, std::pair<std::string const, ceph::buffer::list>, std::_Select1st<std::pair<std::string const, ceph::buffer::list> >, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::_M_get_insert_hint_unique_pos
          |                       |           |   | |     + 0.20% operator()
          |                       |           |   | |       + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
          |                       |           |   | |         + 0.20% compare
          |                       |           |   | |           + 0.20% compare
          |                       |           |   | |             + 0.20% __memcmp_sse4_1
          |                       |           |   | + 0.20% insert
          |                       |           |   |   + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
          |                       |           |   |     + 0.20% _M_insert_<std::basic_string<char> >
          |                       |           |   |       + 0.20% _M_create_node<std::basic_string<char, std::char_traits<char>, std::allocator<char> > >
          |                       |           |   |         + 0.20% _M_get_node
          |                       |           |   |           + 0.20% allocate
          |                       |           |   |             + 0.20% tc_new
          |                       |           |   + 0.20% ceph::logging::Log::submit_entry
          |                       |           |     + 0.20% pthread_mutex_lock
          |                       |           |       + 0.20% _L_lock_812
          |                       |           |         + 0.20% __lll_lock_wait
          |                       |           + 0.40% PGLog::trim
          |                       |           | + 0.40% PGLog::IndexedLog::trim
          |                       |           |   + 0.20% pop_front
          |                       |           |   | + 0.20% _M_erase
          |                       |           |   |   + 0.20% _M_put_node
          |                       |           |   |     + 0.20% deallocate
          |                       |           |   |       + 0.20% tc_deletearray
          |                       |           |   + 0.20% erase
          |                       |           |     + 0.20% erase
          |                       |           |       + 0.20% _M_erase
          |                       |           |         + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                       |           + 0.20% PG::add_log_entry
          |                       |             + 0.20% add
          |                       |               + 0.20% PGLog::IndexedLog::add
          |                       |                 + 0.20% operator[]
          |                       |                   + 0.20% std::__detail::_Map_base<hobject_t, std::pair<hobject_t const, pg_log_entry_t*>, std::allocator<std::pair<hobject_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<hobject_t>, std::hash<hobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[]
          |                       |                     + 0.20% _M_find_node
          |                       |                       + 0.20% _M_find_before_node
          |                       |                         + 0.20% _M_equals
          |                       |                           + 0.20% _S_equals
          |                       |                             + 0.20% operator()
          |                       |                               + 0.20% operator==
          |                       + 1.40% PGBackend::handle_message
          |                       | + 1.40% ReplicatedBackend::_handle_message
          |                       |   + 1.40% ReplicatedBackend::do_repop
          |                       |     + 0.80% PrimaryLogPG::log_operation
          |                       |     | + 0.80% PG::append_log
          |                       |     |   + 0.60% PG::write_if_dirty
          |                       |     |   | + 0.60% PGLog::write_log_and_missing
          |                       |     |   |   + 0.40% ceph::logging::Log::submit_entry
          |                       |     |   |   | + 0.40% pthread_mutex_lock
          |                       |     |   |   |   + 0.40% _L_lock_812
          |                       |     |   |   |     + 0.40% __lll_lock_wait
          |                       |     |   |   + 0.20% PGLog::_write_log_and_missing
          |                       |     |   |     + 0.20% insert
          |                       |     |   |       + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
          |                       |     |   |         + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_get_insert_unique_pos
          |                       |     |   |           + 0.20% operator()
          |                       |     |   |             + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
          |                       |     |   |               + 0.20% compare
          |                       |     |   |                 + 0.20% compare
          |                       |     |   |                   + 0.20% __memcmp_sse4_1
          |                       |     |   + 0.20% PGLog::trim
          |                       |     |     + 0.20% PGLog::IndexedLog::trim
          |                       |     |       + 0.20% PGLog::IndexedLog::unindex
          |                       |     + 0.60% PrimaryLogPG::queue_transactions
          |                       |       + 0.60% queue_transactions
          |                       |         + 0.60% BlueStore::queue_transactions
          |                       |           + 0.40% BlueStore::_txc_add_transaction
          |                       |           | + 0.20% ~list
          |                       |           | | + 0.20% ~list
          |                       |           | |   + 0.20% ~_List_base
          |                       |           | |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                       |           | |       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |                       |           | |         + 0.20% ~_List_node
          |                       |           | |           + 0.20% ~ptr
          |                       |           | |             + 0.20% ceph::buffer::ptr::release
          |                       |           | + 0.20% BlueStore::Collection::get_onode
          |                       |           |   + 0.20% BlueStore::OnodeSpace::lookup
          |                       |           |     + 0.20% lock_guard
          |                       |           |       + 0.20% lock
          |                       |           |         + 0.20% __gthread_recursive_mutex_lock
          |                       |           |           + 0.20% __gthread_mutex_lock
          |                       |           |             + 0.20% pthread_mutex_lock
          |                       |           |               + 0.20% _L_lock_870
          |                       |           |                 + 0.20% __lll_lock_wait
          |                       |           + 0.20% BlueStore::_txc_write_nodes
          |                       |             + 0.20% BlueStore::ExtentMap::update
          |                       |               + 0.20% generate_extent_shard_key_and_apply<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> > >(const std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> > &, uint32_t, std::string *, std::function<void(const std::basic_string<char, std::char_traits<char>, std::allocator<char> >&)>)
          |                       |                 + 0.20% operator()
          |                       |                   + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       |                     + 0.20% Put
          |                       |                       + 0.20% rocksdb::WriteBatch::Put
          |                       + 0.20% PG::can_discard_request
          |                         + 0.20% PG::can_discard_op
          + 0.40% Mutex::Lock
            + 0.40% pthread_mutex_lock
              + 0.40% _L_lock_812
                + 0.40% __lll_lock_wait

Thread: 27===8110===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 97.20% WaitInterval
          | + 97.20% WaitUntil
          |   + 97.20% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 2.80% run
            + 2.80% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
              + 2.80% apply_visitor<PGQueueable::RunVis>
                + 2.80% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
                  + 2.80% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
                    + 2.80% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                      + 2.80% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
                        + 2.80% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
                          + 2.80% internal_visit<boost::intrusive_ptr<OpRequest> >
                            + 2.80% PGQueueable::RunVis::operator()
                              + 2.80% OSD::dequeue_op
                                + 2.80% PrimaryLogPG::do_request
                                  + 1.60% PrimaryLogPG::do_op
                                  | + 1.40% PrimaryLogPG::execute_ctx
                                  | | + 1.40% PrimaryLogPG::issue_repop
                                  | |   + 1.40% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
                                  | |     + 0.60% ReplicatedBackend::issue_op
                                  | |     | + 0.60% OSDService::send_message_osd_cluster
                                  | |     |   + 0.60% AsyncConnection::send_message
                                  | |     |     + 0.20% lock_guard
                                  | |     |     | + 0.20% lock
                                  | |     |     |   + 0.20% __gthread_mutex_lock
                                  | |     |     |     + 0.20% pthread_mutex_lock
                                  | |     |     |       + 0.20% _L_lock_812
                                  | |     |     |         + 0.20% __lll_lock_wait
                                  | |     |     + 0.20% ceph::logging::Log::submit_entry
                                  | |     |     | + 0.20% pthread_mutex_lock
                                  | |     |     |   + 0.20% _L_lock_812
                                  | |     |     |     + 0.20% __lll_lock_wait
                                  | |     |     + 0.20% EventCenter::dispatch_event_external
                                  | |     |       + 0.20% lock
                                  | |     |         + 0.20% __gthread_mutex_lock
                                  | |     |           + 0.20% pthread_mutex_lock
                                  | |     |             + 0.20% _L_lock_812
                                  | |     |               + 0.20% __lll_lock_wait
                                  | |     + 0.40% PrimaryLogPG::queue_transactions
                                  | |     | + 0.40% queue_transactions
                                  | |     |   + 0.40% BlueStore::queue_transactions
                                  | |     |     + 0.20% Throttle::get_or_fail
                                  | |     |     | + 0.20% Locker
                                  | |     |     |   + 0.20% Mutex::Lock
                                  | |     |     |     + 0.20% pthread_mutex_lock
                                  | |     |     |       + 0.20% _L_lock_812
                                  | |     |     |         + 0.20% __lll_lock_wait
                                  | |     |     + 0.20% BlueStore::_txc_add_transaction
                                  | |     |       + 0.20% BlueStore::_write
                                  | |     |         + 0.20% BlueStore::_do_write
                                  | |     |           + 0.20% BlueStore::_do_write_data
                                  | |     |             + 0.20% BlueStore::_do_write_small
                                  | |     |               + 0.20% BlueStore::_buffer_cache_write
                                  | |     |                 + 0.20% write
                                  | |     |                   + 0.20% lock_guard
                                  | |     |                     + 0.20% lock
                                  | |     |                       + 0.20% __gthread_recursive_mutex_lock
                                  | |     |                         + 0.20% __gthread_mutex_lock
                                  | |     |                           + 0.20% pthread_mutex_lock
                                  | |     + 0.40% PrimaryLogPG::log_operation
                                  | |       + 0.40% PG::append_log
                                  | |         + 0.20% PGLog::trim
                                  | |         | + 0.20% PGLog::IndexedLog::trim
                                  | |         |   + 0.20% erase
                                  | |         |     + 0.20% erase
                                  | |         |       + 0.20% _M_erase
                                  | |         |         + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
                                  | |         |           + 0.20% _M_equals
                                  | |         |             + 0.20% _S_equals
                                  | |         + 0.20% PG::write_if_dirty
                                  | |           + 0.20% PGLog::write_log_and_missing
                                  | |             + 0.20% undirty
                                  | |               + 0.20% clear
                                  | |                 + 0.20% clear
                                  | |                   + 0.20% std::_Rb_tree<eversion_t, eversion_t, std::_Identity<eversion_t>, std::less<eversion_t>, std::allocator<eversion_t> >::_M_erase
                                  | + 0.20% finish_decode
                                  |   + 0.20% decode
                                  |     + 0.20% decode
                                  |       + 0.20% decode
                                  |         + 0.20% ceph::buffer::list::iterator::copy
                                  |           + 0.20% ceph::buffer::list::iterator_impl<false>::copy
                                  |             + 0.20% std::string::append(char const*, unsigned long)
                                  |               + 0.20% __memcpy_ssse3_back
                                  + 1.20% PGBackend::handle_message
                                    + 1.20% ReplicatedBackend::_handle_message
                                      + 1.20% ReplicatedBackend::do_repop
                                        + 1.00% PrimaryLogPG::log_operation
                                        | + 1.00% PG::append_log
                                        |   + 0.80% PG::write_if_dirty
                                        |   | + 0.60% PGLog::write_log_and_missing
                                        |   | | + 0.60% ceph::logging::Log::submit_entry
                                        |   | |   + 0.60% pthread_mutex_lock
                                        |   | |     + 0.60% _L_lock_812
                                        |   | |       + 0.60% __lll_lock_wait
                                        |   | + 0.20% omap_setkeys
                                        |   |   + 0.20% encode<std::map<std::basic_string<char>, ceph::buffer::list>, denc_traits<std::map<std::basic_string<char>, ceph::buffer::list>, void> >
                                        |   |     + 0.20% bound_encode<std::pair<std::basic_string<char>, ceph::buffer::list> >
                                        |   |       + 0.20% pair<std::basic_string<char> const, ceph::buffer::list, void>
                                        |   |         + 0.20% ceph::buffer::list::list
                                        |   |           + 0.20% list
                                        |   |             + 0.20% _M_initialize_dispatch<std::_List_const_iterator<ceph::buffer::ptr> >
                                        |   |               + 0.20% emplace_back<ceph::buffer::ptr const&>
                                        |   |                 + 0.20% _M_insert<ceph::buffer::ptr const&>
                                        |   |                   + 0.20% _M_create_node<ceph::buffer::ptr const&>
                                        |   |                     + 0.20% construct<std::_List_node<ceph::buffer::ptr>, ceph::buffer::ptr const&>
                                        |   |                       + 0.20% _List_node<ceph::buffer::ptr const&>
                                        |   |                         + 0.20% ceph::buffer::ptr::ptr
                                        |   |                           + 0.20% operator++
                                        |   |                             + 0.20% fetch_add
                                        |   + 0.20% PGLog::trim
                                        |     + 0.20% PGLog::IndexedLog::trim
                                        |       + 0.20% pop_front
                                        |         + 0.20% _M_erase
                                        |           + 0.20% _M_put_node
                                        |             + 0.20% deallocate
                                        |               + 0.20% tc_deletearray
                                        + 0.20% PrimaryLogPG::queue_transactions
                                          + 0.20% queue_transactions
                                            + 0.20% BlueStore::queue_transactions
                                              + 0.20% BlueStore::_txc_add_transaction
                                                + 0.20% BlueStore::_omap_setkeys
                                                  + 0.20% RocksDBStore::RocksDBTransactionImpl::set
                                                    + 0.20% Put
                                                      + 0.20% rocksdb::WriteBatch::Put
                                                        + 0.20% rocksdb::WriteBatchInternal::Put
                                                          + 0.20% PutLengthPrefixedSlice
                                                            + 0.20% std::string::append(char const*, unsigned long)
                                                              + 0.20% std::string::reserve(unsigned long)
                                                                + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
                                                                  + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
                                                                    + 0.20% tc_new
                                                                      + 0.20% tcmalloc::ThreadCache::FetchFromCentralCache(unsigned long, unsigned long)
                                                                        + 0.20% tcmalloc::CentralFreeList::RemoveRange(void**, void**, int)

Thread: 28===8109===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 95.20% WaitInterval
          | + 95.20% WaitUntil
          |   + 95.20% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 4.60% run
          | + 4.60% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 4.60% apply_visitor<PGQueueable::RunVis>
          |     + 4.60% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 4.60% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 4.60% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 4.60% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 4.60% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 4.60% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 4.60% PGQueueable::RunVis::operator()
          |                   + 4.60% OSD::dequeue_op
          |                     + 4.60% PrimaryLogPG::do_request
          |                       + 3.80% PrimaryLogPG::do_op
          |                       | + 3.80% PrimaryLogPG::execute_ctx
          |                       |   + 3.80% PrimaryLogPG::issue_repop
          |                       |     + 3.60% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       |     | + 1.40% PrimaryLogPG::queue_transactions
          |                       |     | | + 1.40% queue_transactions
          |                       |     | |   + 1.40% BlueStore::queue_transactions
          |                       |     | |     + 0.80% BlueStore::_txc_add_transaction
          |                       |     | |     | + 0.40% BlueStore::_write
          |                       |     | |     | | + 0.40% BlueStore::_do_write
          |                       |     | |     | |   + 0.40% BlueStore::_do_write_data
          |                       |     | |     | |     + 0.40% BlueStore::_do_write_small
          |                       |     | |     | |       + 0.20% PerfCounters::inc
          |                       |     | |     | |       + 0.20% BlueStore::ExtentMap::set_lextent
          |                       |     | |     | |         + 0.20% BlueStore::ExtentMap::punch_hole
          |                       |     | |     | |           + 0.20% BlueStore::OldExtent::create
          |                       |     | |     | |             + 0.20% tc_new
          |                       |     | |     | + 0.20% ~vector
          |                       |     | |     | | + 0.20% ~_Vector_base
          |                       |     | |     | |   + 0.20% _M_deallocate
          |                       |     | |     | |     + 0.20% deallocate
          |                       |     | |     | |       + 0.20% tc_delete
          |                       |     | |     | + 0.20% BlueStore::Collection::get_onode
          |                       |     | |     |   + 0.20% BlueStore::OnodeSpace::lookup
          |                       |     | |     |     + 0.20% find
          |                       |     | |     |       + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::find
          |                       |     | |     |         + 0.20% _M_find_node
          |                       |     | |     |           + 0.20% std::_Hashtable<ghobject_t, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> >, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<ghobject_t const, boost::intrusive_ptr<BlueStore::Onode> > >, std::__detail::_Select1st, std::equal_to<ghobject_t>, std::hash<ghobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                       |     | |     + 0.40% BlueStore::_txc_write_nodes
          |                       |     | |     | + 0.40% BlueStore::ExtentMap::update
          |                       |     | |     |   + 0.20% ~vector
          |                       |     | |     |   | + 0.20% ~_Vector_base
          |                       |     | |     |   |   + 0.20% _M_deallocate
          |                       |     | |     |   |     + 0.20% deallocate
          |                       |     | |     |   |       + 0.20% tc_delete
          |                       |     | |     |   + 0.20% BlueStore::ExtentMap::encode_some
          |                       |     | |     |     + 0.20% encode
          |                       |     | |     |       + 0.20% denc<bluestore_blob_t, denc_traits<bluestore_blob_t> >
          |                       |     | |     |         + 0.20% encode
          |                       |     | |     |           + 0.20% encode
          |                       |     | |     |             + 0.20% ceph::buffer::ptr::c_str
          |                       |     | |     + 0.20% Throttle::get_or_fail
          |                       |     | |       + 0.20% Locker
          |                       |     | |         + 0.20% Mutex::Lock
          |                       |     | |           + 0.20% pthread_mutex_lock
          |                       |     | |             + 0.20% _L_lock_812
          |                       |     | |               + 0.20% __lll_lock_wait
          |                       |     | + 1.20% ReplicatedBackend::issue_op
          |                       |     | | + 1.00% OSDService::send_message_osd_cluster
          |                       |     | | | + 1.00% AsyncConnection::send_message
          |                       |     | | |   + 0.60% lock_guard
          |                       |     | | |   | + 0.60% lock
          |                       |     | | |   |   + 0.60% __gthread_mutex_lock
          |                       |     | | |   |     + 0.60% pthread_mutex_lock
          |                       |     | | |   |       + 0.60% _L_lock_812
          |                       |     | | |   |         + 0.60% __lll_lock_wait
          |                       |     | | |   + 0.40% ceph::logging::Log::submit_entry
          |                       |     | | |     + 0.40% pthread_mutex_lock
          |                       |     | | |       + 0.40% _L_lock_812
          |                       |     | | |         + 0.40% __lll_lock_wait
          |                       |     | | + 0.20% ReplicatedBackend::generate_subop
          |                       |     | |   + 0.20% PrimaryLogPG::should_send_op
          |                       |     | |     + 0.20% operator<=
          |                       |     | |       + 0.20% cmp
          |                       |     | + 0.80% PrimaryLogPG::log_operation
          |                       |     | | + 0.80% PG::append_log
          |                       |     | |   + 0.60% PG::write_if_dirty
          |                       |     | |   | + 0.40% PGLog::write_log_and_missing
          |                       |     | |   | | + 0.20% _prefix
          |                       |     | |   | | | + 0.20% PGLog::gen_prefix
          |                       |     | |   | | |   + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&)
          |                       |     | |   | | + 0.20% PGLog::_write_log_and_missing
          |                       |     | |   | |   + 0.20% pg_log_entry_t::encode_with_checksum
          |                       |     | |   | |     + 0.20% ~list
          |                       |     | |   | |       + 0.20% ~list
          |                       |     | |   | |         + 0.20% ~_List_base
          |                       |     | |   | |           + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                       |     | |   | |             + 0.20% _M_put_node
          |                       |     | |   | |               + 0.20% deallocate
          |                       |     | |   | + 0.20% PG::prepare_write_info
          |                       |     | |   |   + 0.20% PG::_prepare_write_info
          |                       |     | |   |     + 0.20% encode
          |                       |     | |   |       + 0.20% pg_info_t::encode
          |                       |     | |   |         + 0.20% encode
          |                       |     | |   |           + 0.20% hobject_t::encode
          |                       |     | |   |             + 0.20% end
          |                       |     | |   |               + 0.20% ceph::buffer::list::iterator::iterator
          |                       |     | |   |                 + 0.20% iterator_impl
          |                       |     | |   + 0.20% PGLog::trim
          |                       |     | |     + 0.20% PGLog::IndexedLog::trim
          |                       |     | |       + 0.20% PGLog::IndexedLog::unindex
          |                       |     | |         + 0.20% count
          |                       |     | |           + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_entry_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::count
          |                       |     | + 0.20% generate_transaction
          |                       |     |   + 0.20% PGTransaction::safe_create_traverse<generate_transaction(PGTransactionUPtr&, const coll_t&, bool, std::vector<pg_log_entry_t>&, ObjectStore::Transaction*, std::set<hobject_t>*, std::set<hobject_t>*)::__lambda34>(<unknown type in /usr/lib/debug/usr/bin/ceph-osd.debug, CU 0x32c78ac, DIE 0x35f8ee9>)
          |                       |     |     + 0.20% operator()
          |                       |     |       + 0.20% ObjectStore::Transaction::setattrs
          |                       |     |         + 0.20% ObjectStore::Transaction::_get_coll_id
          |                       |     |           + 0.20% operator[]
          |                       |     |             + 0.20% std::_Rb_tree<coll_t, std::pair<coll_t const, unsigned int>, std::_Select1st<std::pair<coll_t const, unsigned int> >, std::less<coll_t>, std::allocator<std::pair<coll_t const, unsigned int> > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<coll_t const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<coll_t const, unsigned int> >, std::piecewise_construct_t const&, std::tuple<coll_t const&>&&, std::tuple<>&&)
          |                       |     |               + 0.20% _M_create_node<const std::piecewise_construct_t&, std::tuple<const coll_t&>, std::tuple<> >
          |                       |     |                 + 0.20% _M_get_node
          |                       |     |                   + 0.20% allocate
          |                       |     |                     + 0.20% tc_new
          |                       |     + 0.20% add
          |                       |       + 0.20% push_back
          |                       |         + 0.20% _M_insert<pg_log_entry_t const&>
          |                       |           + 0.20% _M_create_node<pg_log_entry_t const&>
          |                       |             + 0.20% construct<std::_List_node<pg_log_entry_t>, pg_log_entry_t const&>
          |                       |               + 0.20% _List_node<pg_log_entry_t const&>
          |                       |                 + 0.20% pg_log_entry_t
          |                       |                   + 0.20% hobject_t::hobject_t
          |                       |                     + 0.20% object_t
          |                       |                       + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
          |                       + 0.80% PGBackend::handle_message
          |                         + 0.80% ReplicatedBackend::_handle_message
          |                           + 0.80% ReplicatedBackend::do_repop
          |                             + 0.60% PrimaryLogPG::log_operation
          |                             | + 0.60% PG::append_log
          |                             |   + 0.40% PG::write_if_dirty
          |                             |   | + 0.40% PGLog::write_log_and_missing
          |                             |   |   + 0.40% ceph::logging::Log::submit_entry
          |                             |   |     + 0.40% pthread_mutex_lock
          |                             |   |       + 0.40% _L_lock_812
          |                             |   |         + 0.40% __lll_lock_wait
          |                             |   + 0.20% PGLog::trim
          |                             |     + 0.20% PGLog::IndexedLog::trim
          |                             |       + 0.20% PGLog::IndexedLog::unindex
          |                             |         + 0.20% count
          |                             |           + 0.20% std::_Hashtable<hobject_t, std::pair<hobject_t const, pg_log_entry_t*>, std::allocator<std::pair<hobject_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<hobject_t>, std::hash<hobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::count
          |                             + 0.20% PrimaryLogPG::queue_transactions
          |                               + 0.20% queue_transactions
          |                                 + 0.20% BlueStore::queue_transactions
          |                                   + 0.20% BlueStore::_txc_write_nodes
          |                                     + 0.20% denc<bluestore_onode_t, denc_traits<bluestore_onode_t> >
          |                                       + 0.20% encode
          |                                         + 0.20% encode
          |                                           + 0.20% _denc_friend<bluestore_onode_t const, ceph::buffer::list::contiguous_appender>
          |                                             + 0.20% denc<std::map<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr>, denc_traits<std::map<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr>, void> >
          |                                               + 0.20% encode<std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr> >
          |                                                 + 0.20% encode_nohead<std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr> >
          |                                                   + 0.20% ~pair
          |                                                     + 0.20% ~basic_string
          |                                                       + 0.20% _M_dispose
          |                                                         + 0.20% std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >::_Rep::_M_dispose
          |                                                           + 0.20% __exchange_and_add_dispatch
          |                                                             + 0.20% __exchange_and_add
          + 0.20% Mutex::Lock
            + 0.20% pthread_mutex_lock
              + 0.20% _L_lock_812
                + 0.20% __lll_lock_wait

Thread: 29===8108===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 92.80% WaitInterval
          | + 92.80% WaitUntil
          |   + 92.80% pthread_cond_timedwait@@GLIBC_2.3.2
          + 6.60% run
          | + 6.60% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 6.60% apply_visitor<PGQueueable::RunVis>
          |     + 6.60% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 6.60% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 6.60% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 6.60% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 6.60% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 6.60% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 6.60% PGQueueable::RunVis::operator()
          |                   + 6.60% OSD::dequeue_op
          |                     + 6.60% PrimaryLogPG::do_request
          |                       + 5.40% PrimaryLogPG::do_op
          |                       | + 5.20% PrimaryLogPG::execute_ctx
          |                       | | + 5.20% PrimaryLogPG::issue_repop
          |                       | |   + 5.20% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       | |     + 2.20% ReplicatedBackend::issue_op
          |                       | |     | + 2.00% OSDService::send_message_osd_cluster
          |                       | |     | | + 2.00% AsyncConnection::send_message
          |                       | |     | |   + 1.20% lock_guard
          |                       | |     | |   | + 1.20% lock
          |                       | |     | |   |   + 1.20% __gthread_mutex_lock
          |                       | |     | |   |     + 1.20% pthread_mutex_lock
          |                       | |     | |   |       + 1.20% _L_lock_812
          |                       | |     | |   |         + 1.20% __lll_lock_wait
          |                       | |     | |   + 0.40% ceph::logging::Log::submit_entry
          |                       | |     | |   | + 0.40% pthread_mutex_lock
          |                       | |     | |   |   + 0.40% _L_lock_812
          |                       | |     | |   |     + 0.40% __lll_lock_wait
          |                       | |     | |   + 0.40% AsyncConnection::prepare_send_message
          |                       | |     | |     + 0.40% Message::encode
          |                       | |     | |       + 0.20% calc_front_crc
          |                       | |     | |       | + 0.20% ceph::buffer::list::crc32c
          |                       | |     | |       |   + 0.20% set_crc
          |                       | |     | |       |     + 0.20% operator[]
          |                       | |     | |       + 0.20% MOSDRepOp::encode_payload
          |                       | |     | |         + 0.20% encode
          |                       | |     | |           + 0.20% hobject_t::encode
          |                       | |     | |             + 0.20% encode
          |                       | |     | |               + 0.20% encode_raw<ceph_le<unsigned int> >
          |                       | |     | |                 + 0.20% ceph::buffer::list::append
          |                       | |     | |                   + 0.20% ceph::buffer::ptr::append
          |                       | |     | + 0.20% ReplicatedBackend::generate_subop
          |                       | |     |   + 0.20% encode
          |                       | |     |     + 0.20% ObjectStore::Transaction::encode
          |                       | |     |       + 0.20% encode
          |                       | |     |         + 0.20% ceph::buffer::list::append
          |                       | |     |           + 0.20% push_back
          |                       | |     |             + 0.20% _M_insert<ceph::buffer::ptr const&>
          |                       | |     |               + 0.20% _M_create_node<ceph::buffer::ptr const&>
          |                       | |     |                 + 0.20% construct<std::_List_node<ceph::buffer::ptr>, ceph::buffer::ptr const&>
          |                       | |     |                   + 0.20% _List_node<ceph::buffer::ptr const&>
          |                       | |     |                     + 0.20% ceph::buffer::ptr::ptr
          |                       | |     |                       + 0.20% operator++
          |                       | |     |                         + 0.20% fetch_add
          |                       | |     + 2.20% PrimaryLogPG::queue_transactions
          |                       | |     | + 2.20% queue_transactions
          |                       | |     |   + 2.00% BlueStore::queue_transactions
          |                       | |     |   | + 1.40% BlueStore::_txc_add_transaction
          |                       | |     |   | | + 0.80% BlueStore::_write
          |                       | |     |   | | | + 0.80% BlueStore::_do_write
          |                       | |     |   | | |   + 0.40% BlueStore::_do_write_data
          |                       | |     |   | | |   | + 0.40% BlueStore::_do_write_small
          |                       | |     |   | | |   |   + 0.20% bluestore_blob_t::mark_used
          |                       | |     |   | | |   |   + 0.20% bluestore_blob_t::calc_csum
          |                       | |     |   | | |   |     + 0.20% calculate<Checksummer::crc32c>
          |                       | |     |   | | |   |       + 0.20% calculate<Checksummer::crc32c>
          |                       | |     |   | | |   |         + 0.20% calc
          |                       | |     |   | | |   |           + 0.20% ceph::buffer::list::iterator_impl<true>::crc32c
          |                       | |     |   | | |   |             + 0.20% ceph_crc32c
          |                       | |     |   | | |   |               + 0.20% ceph_crc32c_intel_fast
          |                       | |     |   | | |   |                 + 0.20% None
          |                       | |     |   | | |   |                   + 0.20% None
          |                       | |     |   | | |   |                     + 0.20% crc32_iscsi_00
          |                       | |     |   | | |   + 0.20% BlueStore::_do_alloc_write
          |                       | |     |   | | |   + 0.20% BlueStore::ExtentMap::compress_extent_map
          |                       | |     |   | | |     + 0.20% rm
          |                       | |     |   | | |       + 0.20% erase_and_dispose<BlueStore::ExtentMap::DeleteDisposer>
          |                       | |     |   | | |         + 0.20% operator()
          |                       | |     |   | | |           + 0.20% BlueStore::Extent::operator delete
          |                       | |     |   | | |             + 0.20% deallocate
          |                       | |     |   | | + 0.20% decode_attrset_bl
          |                       | |     |   | | | + 0.20% decode_str_str_map_to_bl
          |                       | |     |   | | |   + 0.20% ceph::buffer::list::iterator::copy
          |                       | |     |   | | |     + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          |                       | |     |   | | |       + 0.20% ceph::buffer::list::append
          |                       | |     |   | | |         + 0.20% push_back
          |                       | |     |   | | |           + 0.20% push_back
          |                       | |     |   | | |             + 0.20% _M_insert<ceph::buffer::ptr>
          |                       | |     |   | | |               + 0.20% _M_create_node<ceph::buffer::ptr>
          |                       | |     |   | | |                 + 0.20% _M_get_node
          |                       | |     |   | | |                   + 0.20% allocate
          |                       | |     |   | | |                     + 0.20% tc_new
          |                       | |     |   | | + 0.20% BlueStore::_setattrs
          |                       | |     |   | | | + 0.20% ~basic_string
          |                       | |     |   | | |   + 0.20% _M_dispose
          |                       | |     |   | | |     + 0.20% std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >::_Rep::_M_dispose
          |                       | |     |   | | |       + 0.20% _M_destroy
          |                       | |     |   | | |         + 0.20% deallocate
          |                       | |     |   | | |           + 0.20% operator-=
          |                       | |     |   | | + 0.20% BlueStore::_omap_setkeys
          |                       | |     |   | |   + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       | |     |   | |     + 0.20% Put
          |                       | |     |   | |       + 0.20% rocksdb::WriteBatch::Put
          |                       | |     |   | |         + 0.20% rocksdb::WriteBatchInternal::Put
          |                       | |     |   | |           + 0.20% LocalSavePoint
          |                       | |     |   | |             + 0.20% GetDataSize
          |                       | |     |   | |               + 0.20% size
          |                       | |     |   | + 0.60% BlueStore::_txc_write_nodes
          |                       | |     |   |   + 0.20% get_contiguous_appender
          |                       | |     |   |   | + 0.20% contiguous_appender
          |                       | |     |   |   |   + 0.20% ceph::buffer::create
          |                       | |     |   |   |     + 0.20% ceph::buffer::create_aligned
          |                       | |     |   |   |       + 0.20% ceph::buffer::create_aligned_in_mempool
          |                       | |     |   |   |         + 0.20% create
          |                       | |     |   |   |           + 0.20% tc_posix_memalign
          |                       | |     |   |   |             + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                       | |     |   |   |               + 0.20% tcmalloc::AlignmentForSize(unsigned long)
          |                       | |     |   |   + 0.20% RocksDBStore::RocksDBTransactionImpl::set
          |                       | |     |   |   | + 0.20% combine_strings
          |                       | |     |   |   |   + 0.20% push_back
          |                       | |     |   |   |     + 0.20% _M_set_length_and_sharable
          |                       | |     |   |   |       + 0.20% assign
          |                       | |     |   |   + 0.20% BlueStore::ExtentMap::update
          |                       | |     |   |     + 0.20% BlueStore::ExtentMap::encode_some
          |                       | |     |   + 0.20% ~intrusive_ptr
          |                       | |     |     + 0.20% intrusive_ptr_release
          |                       | |     |       + 0.20% TrackedOp::put
          |                       | |     + 0.40% PrimaryLogPG::log_operation
          |                       | |     | + 0.40% PG::append_log
          |                       | |     |   + 0.20% PGLog::trim
          |                       | |     |   | + 0.20% PGLog::IndexedLog::trim
          |                       | |     |   |   + 0.20% index
          |                       | |     |   |     + 0.20% operator[]
          |                       | |     |   |       + 0.20% std::__detail::_Map_base<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[]
          |                       | |     |   |         + 0.20% _M_find_node
          |                       | |     |   |           + 0.20% std::_Hashtable<osd_reqid_t, std::pair<osd_reqid_t const, pg_log_dup_t*>, std::allocator<std::pair<osd_reqid_t const, pg_log_dup_t*> >, std::__detail::_Select1st, std::equal_to<osd_reqid_t>, std::hash<osd_reqid_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node
          |                       | |     |   |             + 0.20% _M_equals
          |                       | |     |   |               + 0.20% _S_equals
          |                       | |     |   + 0.20% PG::write_if_dirty
          |                       | |     |     + 0.20% PG::prepare_write_info
          |                       | |     |       + 0.20% PG::_prepare_write_info
          |                       | |     |         + 0.20% operator==
          |                       | |     |           + 0.20% std::operator==<char>
          |                       | |     |             + 0.20% compare
          |                       | |     |               + 0.20% __memcmp_sse4_1
          |                       | |     + 0.20% non-virtual thunk to PrimaryLogPG::get_actingbackfill_shards() const
          |                       | |     + 0.20% intrusive_ptr
          |                       | |       + 0.20% intrusive_ptr_add_ref
          |                       | |         + 0.20% get
          |                       | |           + 0.20% operator++
          |                       | + 0.20% std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::~basic_ostringstream()
          |                       |   + 0.20% std::ios_base::~ios_base()
          |                       + 1.20% PGBackend::handle_message
          |                         + 1.20% ReplicatedBackend::_handle_message
          |                           + 1.20% ReplicatedBackend::do_repop
          |                             + 0.60% PrimaryLogPG::log_operation
          |                             | + 0.60% PG::append_log
          |                             |   + 0.20% PGLog::trim
          |                             |   | + 0.20% PGLog::IndexedLog::trim
          |                             |   |   + 0.20% push_back
          |                             |   |     + 0.20% _M_insert<pg_log_dup_t>
          |                             |   |       + 0.20% _M_create_node<pg_log_dup_t>
          |                             |   |         + 0.20% _M_get_node
          |                             |   |           + 0.20% allocate
          |                             |   |             + 0.20% tc_newarray
          |                             |   + 0.20% PG::write_if_dirty
          |                             |   | + 0.20% PGLog::write_log_and_missing
          |                             |   |   + 0.20% PGLog::_write_log_and_missing
          |                             |   |     + 0.20% insert
          |                             |   |       + 0.20% std::_Rb_tree<std::string, std::string, std::_Identity<std::string>, std::less<std::string>, std::allocator<std::string> >::_M_insert_unique<std::string>(std::string&&)
          |                             |   |         + 0.20% _M_insert_<std::basic_string<char> >
          |                             |   |           + 0.20% operator()
          |                             |   |             + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
          |                             |   |               + 0.20% std::string::compare(std::string const&) const
          |                             |   |                 + 0.20% __memcmp_sse4_1
          |                             |   + 0.20% PG::add_log_entry
          |                             |     + 0.20% add
          |                             |       + 0.20% PGLog::IndexedLog::add
          |                             |         + 0.20% operator[]
          |                             |           + 0.20% std::__detail::_Map_base<hobject_t, std::pair<hobject_t const, pg_log_entry_t*>, std::allocator<std::pair<hobject_t const, pg_log_entry_t*> >, std::__detail::_Select1st, std::equal_to<hobject_t>, std::hash<hobject_t>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[]
          |                             |             + 0.20% _M_find_node
          |                             |               + 0.20% _M_find_before_node
          |                             |                 + 0.20% _M_equals
          |                             |                   + 0.20% _S_equals
          |                             + 0.40% PrimaryLogPG::queue_transactions
          |                             | + 0.40% queue_transactions
          |                             |   + 0.40% BlueStore::queue_transactions
          |                             |     + 0.40% BlueStore::_txc_add_transaction
          |                             |       + 0.20% ~list
          |                             |       | + 0.20% ~list
          |                             |       |   + 0.20% ~_List_base
          |                             |       |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                             |       |       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |                             |       |         + 0.20% ~_List_node
          |                             |       |           + 0.20% ~ptr
          |                             |       |             + 0.20% ceph::buffer::ptr::release
          |                             |       + 0.20% begin
          |                             |         + 0.20% iterator
          |                             |           + 0.20% ceph::buffer::list::get_contiguous
          |                             |             + 0.20% ceph::buffer::list::rebuild
          |                             |               + 0.20% ceph::buffer::create
          |                             |                 + 0.20% ceph::buffer::create_aligned
          |                             |                   + 0.20% ceph::buffer::create_aligned_in_mempool
          |                             |                     + 0.20% create
          |                             |                       + 0.20% tc_posix_memalign
          |                             |                         + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          |                             |                           + 0.20% tcmalloc::AlignmentForSize(unsigned long)
          |                             + 0.20% ~vector
          |                               + 0.20% _Destroy<ObjectStore::Transaction*, ObjectStore::Transaction>
          |                                 + 0.20% _Destroy<ObjectStore::Transaction*>
          |                                   + 0.20% __destroy<ObjectStore::Transaction*>
          |                                     + 0.20% _Destroy<ObjectStore::Transaction>
          |                                       + 0.20% ObjectStore::Transaction::~Transaction
          |                                         + 0.20% ~list
          |                                           + 0.20% ~list
          |                                             + 0.20% ~_List_base
          |                                               + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          |                                                 + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          |                                                   + 0.20% ~_List_node
          + 0.40% PG::lock
          | + 0.40% Mutex::Lock
          |   + 0.40% pthread_mutex_lock
          |     + 0.40% _L_lock_812
          |       + 0.40% __lll_lock_wait
          + 0.20% Mutex::Lock
            + 0.20% pthread_mutex_lock
              + 0.20% _L_lock_812
                + 0.20% __lll_lock_wait

Thread: 30===8107===tp_osd_tp

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ShardedThreadPool::WorkThreadSharded::entry
      + 100.00% ShardedThreadPool::shardedthreadpool_worker
        + 100.00% OSD::ShardedOpWQ::_process
          + 95.00% WaitInterval
          | + 95.00% WaitUntil
          |   + 95.00% pthread_cond_timedwait@@GLIBC_2.3.2
          |     + 0.20% __pthread_mutex_cond_lock
          |       + 0.20% _L_cond_lock_789
          |         + 0.20% __lll_lock_wait
          + 4.80% run
          | + 4.80% apply_visitor<PGQueueable::RunVis, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery> >
          |   + 4.80% apply_visitor<PGQueueable::RunVis>
          |     + 4.80% internal_apply_visitor<boost::detail::variant::invoke_visitor<PGQueueable::RunVis> >
          |       + 4.80% internal_apply_visitor_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*>
          |         + 4.80% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |           + 4.80% visitation_impl_invoke<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest>, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          |             + 4.80% visitation_impl_invoke_impl<boost::detail::variant::invoke_visitor<PGQueueable::RunVis>, void*, boost::intrusive_ptr<OpRequest> >
          |               + 4.80% internal_visit<boost::intrusive_ptr<OpRequest> >
          |                 + 4.80% PGQueueable::RunVis::operator()
          |                   + 4.80% OSD::dequeue_op
          |                     + 4.80% PrimaryLogPG::do_request
          |                       + 3.20% PrimaryLogPG::do_op
          |                       | + 3.00% PrimaryLogPG::execute_ctx
          |                       | | + 3.00% PrimaryLogPG::issue_repop
          |                       | |   + 3.00% ReplicatedBackend::submit_transaction(hobject_t const&, object_stat_sum_t const&, eversion_t const&, std::unique_ptr<PGTransaction, std::default_delete<PGTransaction> >&&, eversion_t const&, eversion_t const&, std::vector<pg_log_entry_t, std::allocator<pg_log_entry_t> > const&, boost::optional<pg_hit_set_history_t>&, Context*, Context*, Context*, unsigned long, osd_reqid_t, boost::intrusive_ptr<OpRequest>)
          |                       | |     + 1.20% ReplicatedBackend::issue_op
          |                       | |     | + 1.20% OSDService::send_message_osd_cluster
          |                       | |     |   + 1.20% AsyncConnection::send_message
          |                       | |     |     + 0.40% lock_guard
          |                       | |     |     | + 0.40% lock
          |                       | |     |     |   + 0.40% __gthread_mutex_lock
          |                       | |     |     |     + 0.40% pthread_mutex_lock
          |                       | |     |     |       + 0.40% _L_lock_812
          |                       | |     |     |         + 0.40% __lll_lock_wait
          |                       | |     |     + 0.40% ceph::logging::Log::submit_entry
          |                       | |     |     | + 0.20% pthread_mutex_lock
          |                       | |     |     | | + 0.20% _L_lock_812
          |                       | |     |     | |   + 0.20% __lll_lock_wait
          |                       | |     |     | + 0.20% pthread_cond_signal@@GLIBC_2.3.2
          |                       | |     |     + 0.20% operator<<
          |                       | |     |     | + 0.20% MOSDRepOp::print
          |                       | |     |     |   + 0.20% operator<<
          |                       | |     |     |     + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          |                       | |     |     + 0.20% AsyncConnection::prepare_send_message
          |                       | |     |       + 0.20% Message::encode
          |                       | |     |         + 0.20% calc_data_crc
          |                       | |     |           + 0.20% ceph::buffer::list::crc32c
          |                       | |     |             + 0.20% ceph_crc32c
          |                       | |     |               + 0.20% ceph_crc32c_intel_fast
          |                       | |     |                 + 0.20% None
          |                       | |     |                   + 0.20% None
          |                       | |     |                     + 0.20% crc32_iscsi_00
          |                       | |     + 0.80% PrimaryLogPG::queue_transactions
          |                       | |     | + 0.80% queue_transactions
          |                       | |     |   + 0.80% BlueStore::queue_transactions
          |                       | |     |     + 0.60% BlueStore::_txc_add_transaction
          |                       | |     |     | + 0.40% BlueStore::_write
          |                       | |     |     | | + 0.40% BlueStore::_do_write
          |                       | |     |     | |   + 0.40% BlueStore::_do_write_data
          |                       | |     |     | |     + 0.40% BlueStore::_do_write_small
          |                       | |     |     | |       + 0.40% BlueStore::ExtentMap::seek_lextent
          |                       | |     |     | |         + 0.40% lower_bound
          |                       | |     |     | |           + 0.40% lower_bound<BlueStore::Extent, std::less<BlueStore::Extent> >
          |                       | |     |     | |             + 0.40% lower_bound<BlueStore::Extent, boost::intrusive::detail::key_nodeptr_comp<std::less<BlueStore::Extent>, boost::intrusive::bhtraits<BlueStore::Extent, boost::intrusive::rbtree_node_traits<void*, true>, (boost::intrusive::link_mode_type)1, boost::intrusive::dft_tag, 3u>, boost::move_detail::identity<BlueStore::Extent> > >
          |                       | |     |     | |               + 0.40% lower_bound_loop<BlueStore::Extent, boost::intrusive::detail::key_nodeptr_comp<std::less<BlueStore::Extent>, boost::intrusive::bhtraits<BlueStore::Extent, boost::intrusive::rbtree_node_traits<void*, true>, (boost::intrusive::link_mode_type)1, boost::intrusive::dft_tag, 3u>, boost::move_detail::identity<BlueStore::Extent> > >
          |                       | |     |     | |                 + 0.20% get_right
          |                       | |     |     | + 0.20% decode_attrset
          |                       | |     |     |   + 0.20% decode<std::map<std::string, ceph::buffer::ptr, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >, denc_traits<std::map<std::string, ceph::buffer::ptr, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::ptr> > >, void> >
          |                       | |     |     |     + 0.20% decode<std::pair<std::basic_string<char>, ceph::buffer::ptr> >
          |                       | |     |     |       + 0.20% decode_nohead<std::pair<std::basic_string<char>, ceph::buffer::ptr> >
          |                       | |     |     |         + 0.20% denc<std::pair<std::basic_string<char>, ceph::buffer::ptr>, denc_traits<std::pair<std::basic_string<char>, ceph::buffer::ptr>, void>, _denc::has_legacy_denc<std::pair<std::basic_string<char>, ceph::buffer::ptr>, void> >
          |                       | |     |     |           + 0.20% decode
          |                       | |     |     |             + 0.20% decode<std::basic_string<char> >
          |                       | |     |     |               + 0.20% denc<std::basic_string<char>, denc_traits<std::basic_string<char>, void>, _denc::has_legacy_denc<std::basic_string<char>, void> >
          |                       | |     |     |                 + 0.20% decode
          |                       | |     |     |                   + 0.20% decode
          |                       | |     |     |                     + 0.20% ceph::buffer::list::iterator::copy
          |                       | |     |     |                       + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          |                       | |     |     |                         + 0.20% std::string::append(char const*, unsigned long)
          |                       | |     |     |                           + 0.20% std::string::reserve(unsigned long)
          |                       | |     |     |                             + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          |                       | |     |     |                               + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          |                       | |     |     |                                 + 0.20% tc_new
          |                       | |     |     + 0.20% BlueStore::_txc_write_nodes
          |                       | |     |       + 0.20% denc<bluestore_onode_t, denc_traits<bluestore_onode_t> >
          |                       | |     |         + 0.20% encode
          |                       | |     |           + 0.20% encode
          |                       | |     |             + 0.20% _denc_friend<bluestore_onode_t const, ceph::buffer::list::contiguous_appender>
          |                       | |     |               + 0.20% denc<std::map<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr>, denc_traits<std::map<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr>, void> >
          |                       | |     |                 + 0.20% encode<std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr> >
          |                       | |     |                   + 0.20% encode_nohead<std::pair<std::basic_string<char, std::char_traits<char>, mempool::pool_allocator<(mempool::pool_index_t)4, char> >, ceph::buffer::ptr> >
          |                       | |     |                     + 0.20% ~pair
          |                       | |     |                       + 0.20% ~ptr
          |                       | |     |                         + 0.20% ceph::buffer::ptr::release
          |                       | |     + 0.80% PrimaryLogPG::log_operation
          |                       | |     | + 0.80% PG::append_log
          |                       | |     |   + 0.40% PG::write_if_dirty
          |                       | |     |   | + 0.40% PGLog::write_log_and_missing
          |                       | |     |   |   + 0.20% ceph::logging::Log::submit_entry
          |                       | |     |   |   | + 0.20% pthread_mutex_lock
          |                       | |     |   |   |   + 0.20% _L_lock_812
          |                       | |     |   |   |     + 0.20% __lll_lock_wait
          |                       | |     |   |   + 0.20% PGLog::_write_log_and_missing
          |                       | |     |   |     + 0.20% pg_log_dup_t::get_key_name
          |                       | |     |   |       + 0.20% operator+<char, std::char_traits<char>, std::allocator<char> >
          |                       | |     |   |         + 0.20% insert
          |                       | |     |   |           + 0.20% std::string::_M_replace_safe(unsigned long, unsigned long, char const*, unsigned long)
          |                       | |     |   |             + 0.20% std::string::_M_mutate(unsigned long, unsigned long, unsigned long)
          |                       | |     |   |               + 0.20% None
          |                       | |     |   + 0.20% PGLog::IndexedLog::trim
          |                       | |     |   + 0.20% PG::add_log_entry
          |                       | |     + 0.20% generate_transaction
          |                       | |       + 0.20% PGTransaction::safe_create_traverse<generate_transaction(PGTransactionUPtr&, const coll_t&, bool, std::vector<pg_log_entry_t>&, ObjectStore::Transaction*, std::set<hobject_t>*, std::set<hobject_t>*)::__lambda34>(<unknown type in /usr/lib/debug/usr/bin/ceph-osd.debug, CU 0x32c78ac, DIE 0x35f8ee9>)
          |                       | |         + 0.20% operator()
          |                       | |           + 0.20% std::map<std::string, ceph::buffer::list, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::operator[]
          |                       | + 0.20% PrimaryLogPG::find_object_context
          |                       |   + 0.20% PrimaryLogPG::get_object_context
          |                       |     + 0.20% SharedLRU<hobject_t, ObjectContext, std::less<hobject_t>, std::hash<hobject_t> >::lookup_or_create
          |                       |       + 0.20% ~list
          |                       |         + 0.20% ~_List_base
          |                       |           + 0.20% std::_List_base<std::shared_ptr<ObjectContext>, std::allocator<std::shared_ptr<ObjectContext> > >::_M_clear
          |                       |             + 0.20% destroy<std::_List_node<std::shared_ptr<ObjectContext> > >
          |                       |               + 0.20% ~_List_node
          |                       |                 + 0.20% ~shared_ptr
          |                       |                   + 0.20% ~__shared_ptr
          |                       |                     + 0.20% ~__shared_count
          |                       |                       + 0.20% std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release
          |                       |                         + 0.20% std::_Sp_counted_deleter<ObjectContext*, SharedLRU<hobject_t, ObjectContext, std::less<hobject_t>, std::hash<hobject_t> >::Cleanup, std::allocator<int>, (__gnu_cxx::_Lock_policy)2>::_M_dispose
          |                       |                           + 0.20% operator()
          |                       |                             + 0.20% remove
          |                       |                               + 0.20% find
          |                       |                                 + 0.20% std::_Rb_tree<hobject_t, std::pair<hobject_t const, std::pair<std::weak_ptr<ObjectContext>, ObjectContext*> >, std::_Select1st<std::pair<hobject_t const, std::pair<std::weak_ptr<ObjectContext>, ObjectContext*> > >, std::less<hobject_t>, std::allocator<std::pair<hobject_t const, std::pair<std::weak_ptr<ObjectContext>, ObjectContext*> > > >::find
          |                       |                                   + 0.20% _M_lower_bound
          |                       |                                     + 0.20% operator()
          |                       |                                       + 0.20% operator<
          |                       |                                         + 0.20% cmp
          |                       |                                           + 0.20% operator< <char, std::char_traits<char>, std::allocator<char> >
          |                       |                                             + 0.20% compare
          |                       |                                               + 0.20% size
          |                       |                                                 + 0.20% _M_rep
          |                       |                                                   + 0.20% _M_data
          |                       + 1.60% PGBackend::handle_message
          |                         + 1.60% ReplicatedBackend::_handle_message
          |                           + 1.40% ReplicatedBackend::do_repop
          |                           | + 1.00% PrimaryLogPG::log_operation
          |                           | | + 1.00% PG::append_log
          |                           | |   + 0.60% PG::write_if_dirty
          |                           | |   | + 0.60% PGLog::write_log_and_missing
          |                           | |   |   + 0.40% PGLog::_write_log_and_missing
          |                           | |   |   | + 0.40% std::map<std::string, ceph::buffer::list, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::operator[](std::string&&)
          |                           | |   |   |   + 0.40% std::_Rb_tree<std::string, std::pair<std::string const, ceph::buffer::list>, std::_Select1st<std::pair<std::string const, ceph::buffer::list> >, std::less<std::string>, std::allocator<std::pair<std::string const, ceph::buffer::list> > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::string&&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::string const, ceph::buffer::list> >, std::piecewise_construct_t const&, std::tuple<std::string&&>&&, std::tuple<>&&)
          |                           | |   |   |     + 0.20% _M_create_node<const std::piecewise_construct_t&, std::tuple<std::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >
          |                           | |   |   |       + 0.20% _M_get_node
          |                           | |   |   |         + 0.20% allocate
          |                           | |   |   |           + 0.20% tc_new
          |                           | |   |   + 0.20% operator<< <eversion_t, std::less<eversion_t>, std::allocator<eversion_t> >
          |                           | |   |     + 0.20% operator++
          |                           | |   |       + 0.20% std::_Rb_tree_increment(std::_Rb_tree_node_base const*)
          |                           | |   + 0.20% PGLog::trim
          |                           | |   | + 0.20% PGLog::IndexedLog::trim
          |                           | |   |   + 0.20% PGLog::IndexedLog::unindex
          |                           | |   + 0.20% PGLog::roll_forward_to
          |                           | |     + 0.20% roll_forward_to
          |                           | |       + 0.20% advance_can_rollback_to<PGLog::IndexedLog::roll_forward_to(eversion_t, PGLog::LogEntryHandler*)::__lambda8>
          |                           | |         + 0.20% operator()
          |                           | |           + 0.20% PGBackend::rollforward
          |                           | + 0.20% finish_decode
          |                           | | + 0.20% decode
          |                           | |   + 0.20% pg_stat_t::decode
          |                           | |     + 0.20% decode<std::vector<int, std::allocator<int> >, denc_traits<std::vector<int, std::allocator<int> >, void> >
          |                           | |       + 0.20% decode
          |                           | |         + 0.20% decode_nohead
          |                           | |           + 0.20% insert<int>
          |                           | |             + 0.20% std::vector<int, std::allocator<int> >::emplace_back<int>(int&&)
          |                           | |               + 0.20% std::vector<int, std::allocator<int> >::_M_emplace_back_aux<int>(int&&)
          |                           | |                 + 0.20% __uninitialized_move_if_noexcept_a<int*, int*, std::allocator<int> >
          |                           | |                   + 0.20% __uninitialized_copy_a<std::move_iterator<int*>, int*, int>
          |                           | |                     + 0.20% uninitialized_copy<std::move_iterator<int*>, int*>
          |                           | |                       + 0.20% __uninit_copy<std::move_iterator<int*>, int*>
          |                           | |                         + 0.20% copy<std::move_iterator<int*>, int*>
          |                           | |                           + 0.20% __copy_move_a2<true, int*, int*>
          |                           | |                             + 0.20% __copy_move_a<true, int*, int*>
          |                           | |                               + 0.20% __copy_m<int>
          |                           | |                                 + 0.20% __memmove_ssse3_back
          |                           | + 0.20% PrimaryLogPG::queue_transactions
          |                           |   + 0.20% queue_transactions
          |                           |     + 0.20% BlueStore::queue_transactions
          |                           |       + 0.20% BlueStore::_txc_add_transaction
          |                           |         + 0.20% BlueStore::_omap_rmkeys
          |                           |           + 0.20% decode
          |                           |             + 0.20% ceph::buffer::list::iterator::copy
          |                           |               + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          |                           |                 + 0.20% std::string::append(char const*, unsigned long)
          |                           |                   + 0.20% __memcpy_ssse3_back
          |                           + 0.20% ReplicatedBackend::do_repop_reply
          |                             + 0.20% Context::complete
          |                               + 0.20% PrimaryLogPG::repop_all_committed
          |                                 + 0.20% PrimaryLogPG::eval_repop
          |                                   + 0.20% PrimaryLogPG::__lambda34::operator()
          |                                     + 0.20% send_message_osd_client
          |                                       + 0.20% AsyncConnection::send_message
          |                                         + 0.20% ceph::logging::Log::submit_entry
          |                                           + 0.20% pthread_mutex_lock
          |                                             + 0.20% _L_lock_812
          |                                               + 0.20% __lll_lock_wait
          + 0.20% Mutex::Lock
            + 0.20% pthread_mutex_lock
              + 0.20% _L_lock_812
                + 0.20% __lll_lock_wait

Thread: 31===8106===tp_peering

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ThreadPool::WorkThread::entry
      + 100.00% ThreadPool::worker
        + 100.00% WaitInterval
          + 100.00% WaitUntil
            + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 32===8105===tp_peering

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ThreadPool::WorkThread::entry
      + 100.00% ThreadPool::worker
        + 100.00% WaitInterval
          + 100.00% WaitUntil
            + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 33===8104===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 34===8103===fn_anonymous

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% Finisher::finisher_thread_entry
      + 100.00% Wait
        + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 35===8102===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 36===8101===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 37===8100===ms_dispatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 38===8099===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 39===8098===ms_dispatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 40===8097===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 41===8096===ms_dispatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 42===8095===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 43===8094===ms_dispatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 44===8093===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 45===8092===ms_diapatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 46===8091===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 47===8090===ms_dispatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 48===8089===ms_local

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::LocalDeliveryThread::entry
      + 100.00% DispatchQueue::run_local_delivery
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 49===8088===ms_dispatch

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% DispatchQueue::DispatchThread::entry
      + 100.00% DispatchQueue::entry
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 50===7974===bstore_mempool

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% BlueStore::MempoolThread::entry
      + 100.00% WaitInterval
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 51===7973===bstore_kv_final

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% BlueStore::KVFinalizeThread::entry
      + 100.00% BlueStore::_kv_finalize_thread
        + 76.60% std::condition_variable::wait(std::unique_lock<std::mutex>&)
        | + 76.60% pthread_cond_wait@@GLIBC_2.3.2
        + 11.00% BlueStore::deferred_try_submit
        | + 11.00% BlueStore::_deferred_submit_unlock
        |   + 10.00% KernelDevice::aio_submit
        |   | + 9.80% aio_queue_t::submit_batch
        |   |   + 9.80% io_submit
        |   + 0.60% KernelDevice::aio_write
        |   | + 0.20% ~aio_t
        |   | | + 0.20% ~small_vector
        |   | |   + 0.20% ~small_vector_base
        |   | |     + 0.20% ~vector
        |   | |       + 0.20% ~vector_alloc_holder
        |   | + 0.20% push_back
        |   |   + 0.20% _M_insert<aio_t>
        |   |     + 0.20% _M_create_node<aio_t>
        |   |       + 0.20% construct<std::_List_node<aio_t>, aio_t>
        |   |         + 0.20% _List_node<aio_t>
        |   |           + 0.20% aio_t
        |   |             + 0.20% ceph::buffer::list::list(ceph::buffer::list&&)
        |   |               + 0.20% ceph::buffer::list::iterator::iterator
        |   + 0.20% clear
        |   + 0.20% ceph::buffer::list::claim_append
        |     + 0.20% make_shareable
        |       + 0.20% ceph::buffer::ptr::make_shareable
        + 10.00% BlueStore::_txc_state_proc
        | + 6.60% BlueStore::_txc_finish
        | | + 2.80% BlueStore::BufferSpace::finish_write
        | | | + 2.00% erase
        | | | | + 2.00% std::_Rb_tree<unsigned int, std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > >, std::_Select1st<std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > >, std::less<unsigned int>, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > > >::erase
        | | | |   + 1.60% erase
        | | | |   | + 1.60% _M_erase_aux
        | | | |   |   + 1.60% clear
        | | | |   |     + 1.60% std::_Rb_tree<unsigned int, std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > >, std::_Select1st<std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > >, std::less<unsigned int>, mempool::pool_allocator<(mempool::pool_index_t)4, std::pair<unsigned int const, std::unique_ptr<BlueStore::Buffer, std::default_delete<BlueStore::Buffer> > > > >::_M_erase
        | | | |   |       + 1.60% _M_destroy_node
        | | | |   |         + 1.00% destroy
        | | | |   |         | + 1.00% ~_Rb_tree_node
        | | | |   |         |   + 1.00% ~pair
        | | | |   |         |     + 1.00% ~unique_ptr
        | | | |   |         |       + 1.00% operator()
        | | | |   |         |         + 0.60% BlueStore::Buffer::operator delete
        | | | |   |         |         | + 0.60% deallocate
        | | | |   |         |         |   + 0.60% tc_deletearray
        | | | |   |         |         |     + 0.60% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
        | | | |   |         |         |       + 0.60% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
        | | | |   |         |         + 0.40% ~Buffer
        | | | |   |         |           + 0.40% ~list
        | | | |   |         |             + 0.40% ~list
        | | | |   |         |               + 0.40% ~_List_base
        | | | |   |         |                 + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
        | | | |   |         |                   + 0.40% destroy<std::_List_node<ceph::buffer::ptr> >
        | | | |   |         |                     + 0.40% ~_List_node
        | | | |   |         |                       + 0.40% ~ptr
        | | | |   |         |                         + 0.40% ceph::buffer::ptr::release
        | | | |   |         + 0.60% _M_put_node
        | | | |   |           + 0.60% deallocate
        | | | |   |             + 0.40% tc_deletearray
        | | | |   |             | + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
        | | | |   |             |   + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
        | | | |   |             + 0.20% operator-=
        | | | |   + 0.40% equal_range
        | | | + 0.60% lock_guard
        | | | | + 0.60% lock
        | | | |   + 0.60% __gthread_recursive_mutex_lock
        | | | |     + 0.60% __gthread_mutex_lock
        | | | |       + 0.60% pthread_mutex_lock
        | | | |         + 0.20% _L_lock_870
        | | | |           + 0.20% __lll_lock_wait
        | | | + 0.20% operator++
        | | |   + 0.20% get_next
        | | + 2.60% BlueStore::TransContext::~TransContext
        | | | + 2.60% ~TransContext
        | | |   + 1.00% ~bluestore_deferred_transaction_t
        | | |   | + 1.00% ~list
        | | |   |   + 1.00% ~_List_base
        | | |   |     + 1.00% std::_List_base<bluestore_deferred_op_t, std::allocator<bluestore_deferred_op_t> >::_M_clear
        | | |   |       + 0.80% destroy<std::_List_node<bluestore_deferred_op_t> >
        | | |   |       | + 0.80% ~_List_node
        | | |   |       |   + 0.80% ~bluestore_deferred_op_t
        | | |   |       |     + 0.40% ~vector
        | | |   |       |     | + 0.40% ~_Vector_base
        | | |   |       |     |   + 0.40% _M_deallocate
        | | |   |       |     |     + 0.40% deallocate
        | | |   |       |     |       + 0.40% tc_deletearray
        | | |   |       |     |         + 0.40% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
        | | |   |       |     |           + 0.40% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
        | | |   |       |     + 0.40% ~list
        | | |   |       |       + 0.40% ~ptr
        | | |   |       + 0.20% _M_put_node
        | | |   |         + 0.20% deallocate
        | | |   |           + 0.20% tc_delete
        | | |   |             + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
        | | |   |               + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
        | | |   + 0.80% ~shared_ptr
        | | |   | + 0.80% ~__shared_ptr
        | | |   |   + 0.80% ~__shared_count
        | | |   |     + 0.40% tc_delete
        | | |   |     + 0.40% std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release
        | | |   |       + 0.20% __exchange_and_add_dispatch
        | | |   |       | + 0.20% __exchange_and_add
        | | |   |       + 0.20% RocksDBStore::RocksDBTransactionImpl::~RocksDBTransactionImpl
        | | |   |         + 0.20% rocksdb::WriteBatch::~WriteBatch
        | | |   |           + 0.20% ~basic_string
        | | |   |             + 0.20% _M_dispose
        | | |   + 0.60% ~set
        | | |   | + 0.60% ~_Rb_tree
        | | |   |   + 0.60% std::_Rb_tree<boost::intrusive_ptr<BlueStore::Onode>, boost::intrusive_ptr<BlueStore::Onode>, std::_Identity<boost::intrusive_ptr<BlueStore::Onode> >, std::less<boost::intrusive_ptr<BlueStore::Onode> >, std::allocator<boost::intrusive_ptr<BlueStore::Onode> > >::_M_erase
        | | |   |     + 0.40% _M_destroy_node
        | | |   |       + 0.20% destroy<std::_Rb_tree_node<boost::intrusive_ptr<BlueStore::Onode> > >
        | | |   |       | + 0.20% ~_Rb_tree_node
        | | |   |       |   + 0.20% ~intrusive_ptr
        | | |   |       |     + 0.20% intrusive_ptr_release
        | | |   |       |       + 0.20% BlueStore::Onode::put
        | | |   |       + 0.20% _M_put_node
        | | |   |         + 0.20% deallocate
        | | |   |           + 0.20% tc_delete
        | | |   + 0.20% ~intrusive_ptr
        | | |     + 0.20% intrusive_ptr_release
        | | |       + 0.20% RefCountedObject::put
        | | |         + 0.20% operator--
        | | + 0.20% ~intrusive_ptr
        | | | + 0.20% intrusive_ptr_release
        | | |   + 0.20% RefCountedObject::put
        | | |     + 0.20% operator--
        | | + 0.20% tc_deletearray
        | | + 0.20% intrusive_ptr
        | | | + 0.20% intrusive_ptr_add_ref
        | | |   + 0.20% RefCountedObject::get
        | | + 0.20% end
        | |   + 0.20% end
        | + 1.20% log_state_latency
        | | + 0.80% ceph_clock_now
        | | | + 0.80% clock_gettime
        | | |   + 0.60% clock_gettime
        | | + 0.40% PerfCounters::tinc
        | + 1.20% BlueStore::_deferred_queue
        | | + 1.00% BlueStore::DeferredBatch::prepare_write
        | | | + 0.60% insert<std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io>, void>
        | | | | + 0.60% std::_Rb_tree<unsigned long, std::pair<unsigned long const, BlueStore::DeferredBatch::deferred_io>, std::_Select1st<std::pair<unsigned long const, BlueStore::DeferredBatch::deferred_io> >, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, BlueStore::DeferredBatch::deferred_io> > >::_M_insert_unique<std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >(std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io>&&)
        | | | |   + 0.60% _M_insert_<std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >
        | | | |     + 0.40% _M_create_node<std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >
        | | | |     | + 0.20% construct<std::_Rb_tree_node<std::pair<unsigned long const, BlueStore::DeferredBatch::deferred_io> >, std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >
        | | | |     | | + 0.20% _S_construct<std::_Rb_tree_node<std::pair<unsigned long const, BlueStore::DeferredBatch::deferred_io> >, std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >
        | | | |     | |   + 0.20% construct<std::_Rb_tree_node<std::pair<unsigned long const, BlueStore::DeferredBatch::deferred_io> >, std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >
        | | | |     | |     + 0.20% _Rb_tree_node<std::pair<unsigned long, BlueStore::DeferredBatch::deferred_io> >
        | | | |     | |       + 0.20% pair<unsigned long, BlueStore::DeferredBatch::deferred_io, void>
        | | | |     | |         + 0.20% deferred_io
        | | | |     | |           + 0.20% ceph::buffer::list::list(ceph::buffer::list&&)
        | | | |     | |             + 0.20% clear
        | | | |     | + 0.20% _M_get_node
        | | | |     |   + 0.20% allocate
        | | | |     |     + 0.20% tc_new
        | | | |     + 0.20% std::_Rb_tree_insert_and_rebalance(bool, std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::_Rb_tree_node_base&)
        | | | + 0.40% ceph::buffer::list::iterator_impl<true>::copy
        | | |   + 0.40% ceph::buffer::list::append
        | | |     + 0.40% ceph::buffer::ptr::ptr
        | | + 0.20% end
        | + 0.80% BlueStore::_txc_committed_kv
        |   + 0.60% queue
        |   | + 0.60% Mutex::Lock
        |   |   + 0.60% pthread_mutex_lock
        |   |     + 0.20% _L_lock_812
        |   |       + 0.20% __lll_lock_wait
        |   + 0.20% hash_to_shard
        + 1.60% BlueStore::DeferredBatch::~DeferredBatch
        | + 1.60% ~DeferredBatch
        |   + 1.40% ~IOContext
        |   | + 1.40% ~list
        |   |   + 1.40% ~_List_base
        |   |     + 1.40% std::_List_base<aio_t, std::allocator<aio_t> >::_M_clear
        |   |       + 1.20% destroy<std::_List_node<aio_t> >
        |   |       | + 1.20% ~_List_node
        |   |       |   + 1.20% ~aio_t
        |   |       |     + 1.20% ~list
        |   |       |       + 0.80% ~list
        |   |       |       | + 0.80% ~_List_base
        |   |       |       |   + 0.80% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
        |   |       |       |     + 0.60% destroy<std::_List_node<ceph::buffer::ptr> >
        |   |       |       |     | + 0.60% ~_List_node
        |   |       |       |     |   + 0.60% ~ptr
        |   |       |       |     |     + 0.60% ceph::buffer::ptr::release
        |   |       |       |     |       + 0.40% tc_deletearray
        |   |       |       |     |       | + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
        |   |       |       |     |       |   + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
        |   |       |       |     |       + 0.20% ceph::buffer::raw_posix_aligned::~raw_posix_aligned
        |   |       |       |     |         + 0.20% ~raw_posix_aligned
        |   |       |       |     |           + 0.20% tc_free
        |   |       |       |     + 0.20% _M_put_node
        |   |       |       |       + 0.20% deallocate
        |   |       |       |         + 0.20% tc_delete
        |   |       |       |           + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
        |   |       |       |             + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
        |   |       |       + 0.40% ~ptr
        |   |       + 0.20% _M_put_node
        |   |         + 0.20% deallocate
        |   |           + 0.20% tc_delete
        |   + 0.20% ~map
        |     + 0.20% ~_Rb_tree
        |       + 0.20% std::_Rb_tree<unsigned long, std::pair<unsigned long const, int>, std::_Select1st<std::pair<unsigned long const, int> >, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, int> > >::_M_erase
        |         + 0.20% _M_destroy_node
        |           + 0.20% _M_put_node
        |             + 0.20% deallocate
        |               + 0.20% tc_delete
        + 0.60% erase
        | + 0.60% erase_and_dispose<boost::intrusive::detail::null_disposer>
        |   + 0.20% unlink
        |   | + 0.20% get_previous
        |   + 0.20% operator++
        |   | + 0.20% get_next
        |   + 0.20% init
        |     + 0.20% set_next
        + 0.20% begin
          + 0.20% get_next

Thread: 52===7972===bstore_kv_sync

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% BlueStore::KVSyncThread::entry
      + 100.00% BlueStore::_kv_sync_thread
        + 46.00% RocksDBStore::submit_transaction_sync
        | + 46.00% rocksdb::DBImpl::Write
        |   + 46.00% rocksdb::DBImpl::WriteImpl
        |     + 44.60% rocksdb::DBImpl::WriteToWAL
        |     | + 44.40% rocksdb::WritableFileWriter::Sync
        |     | | + 44.40% rocksdb::WritableFileWriter::SyncInternal
        |     | |   + 44.40% BlueRocksWritableFile::Sync
        |     | |     + 44.40% fsync
        |     | |       + 44.40% BlueFS::_fsync
        |     | |         + 25.40% BlueFS::_flush_bdev_safely
        |     | |         | + 12.20% BlueFS::wait_for_aio
        |     | |         | | + 12.20% IOContext::aio_wait
        |     | |         | |   + 12.20% std::condition_variable::wait(std::unique_lock<std::mutex>&)
        |     | |         | |     + 12.20% pthread_cond_wait@@GLIBC_2.3.2
        |     | |         | + 12.00% BlueFS::flush_bdev
        |     | |         | | + 12.00% KernelDevice::flush
        |     | |         | |   + 12.00% fdatasync
        |     | |         | + 0.80% clear
        |     | |         | | + 0.80% std::_List_base<aio_t, std::allocator<aio_t> >::_M_clear
        |     | |         | |   + 0.80% destroy<std::_List_node<aio_t> >
        |     | |         | |     + 0.80% ~_List_node
        |     | |         | |       + 0.80% ~aio_t
        |     | |         | |         + 0.80% ~list
        |     | |         | |           + 0.80% ~list
        |     | |         | |             + 0.80% ~_List_base
        |     | |         | |               + 0.80% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
        |     | |         | |                 + 0.80% destroy<std::_List_node<ceph::buffer::ptr> >
        |     | |         | |                   + 0.80% ~_List_node
        |     | |         | |                     + 0.80% ~ptr
        |     | |         | |                       + 0.80% ceph::buffer::ptr::release
        |     | |         | |                         + 0.80% ceph::buffer::raw_posix_aligned::~raw_posix_aligned
        |     | |         | |                           + 0.80% ~raw_posix_aligned
        |     | |         | |                             + 0.80% tc_free
        |     | |         | |                               + 0.80% tcmalloc::PageHeap::Delete(tcmalloc::Span*)
        |     | |         | |                                 + 0.80% tcmalloc::PageHeap::MergeIntoFreeList(tcmalloc::Span*)
        |     | |         | |                                   + 0.80% tcmalloc::PageHeap::DecommitSpan(tcmalloc::Span*)
        |     | |         | |                                     + 0.80% TCMalloc_SystemRelease(void*, unsigned long)
        |     | |         | |                                       + 0.80% madvise
        |     | |         | + 0.40% lock
        |     | |         |   + 0.40% __gthread_mutex_lock
        |     | |         |     + 0.40% pthread_mutex_lock
        |     | |         |       + 0.40% _L_lock_812
        |     | |         |         + 0.40% __lll_lock_wait
        |     | |         + 17.00% BlueFS::_flush_and_sync_log
        |     | |         | + 16.40% BlueFS::_flush_bdev_safely
        |     | |         | | + 13.00% BlueFS::flush_bdev
        |     | |         | | | + 13.00% KernelDevice::flush
        |     | |         | | |   + 13.00% fdatasync
        |     | |         | | + 3.00% BlueFS::wait_for_aio
        |     | |         | | | + 3.00% IOContext::aio_wait
        |     | |         | | |   + 3.00% std::condition_variable::wait(std::unique_lock<std::mutex>&)
        |     | |         | | |     + 3.00% pthread_cond_wait@@GLIBC_2.3.2
        |     | |         | | + 0.20% unlock
        |     | |         | | | + 0.20% __gthread_mutex_unlock
        |     | |         | | |   + 0.20% pthread_mutex_unlock
        |     | |         | | |     + 0.20% _L_unlock_713
        |     | |         | | |       + 0.20% __lll_unlock_wake
        |     | |         | | + 0.20% lock
        |     | |         | |   + 0.20% __gthread_mutex_lock
        |     | |         | |     + 0.20% pthread_mutex_lock
        |     | |         | |       + 0.20% _L_lock_812
        |     | |         | |         + 0.20% __lll_lock_wait
        |     | |         | + 0.40% BlueFS::_flush
        |     | |         | | + 0.40% BlueFS::_flush_range
        |     | |         | |   + 0.40% KernelDevice::aio_submit
        |     | |         | |     + 0.40% aio_queue_t::submit_batch
        |     | |         | |       + 0.40% io_submit
        |     | |         | + 0.20% erase
        |     | |         |   + 0.20% erase
        |     | |         |     + 0.20% _M_erase_aux
        |     | |         |       + 0.20% _M_destroy_node
        |     | |         |         + 0.20% _M_put_node
        |     | |         |           + 0.20% deallocate
        |     | |         |             + 0.20% tc_delete
        |     | |         + 2.00% BlueFS::_flush
        |     | |           + 2.00% BlueFS::_flush_range
        |     | |             + 1.00% KernelDevice::aio_submit
        |     | |             | + 1.00% aio_queue_t::submit_batch
        |     | |             |   + 1.00% io_submit
        |     | |             + 0.40% IOContext::aio_wait
        |     | |             | + 0.40% std::condition_variable::wait(std::unique_lock<std::mutex>&)
        |     | |             |   + 0.40% pthread_cond_wait@@GLIBC_2.3.2
        |     | |             + 0.20% ceph::buffer::list::claim_append_piecewise
        |     | |             | + 0.20% clear
        |     | |             |   + 0.20% clear
        |     | |             |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
        |     | |             |       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
        |     | |             |         + 0.20% ~_List_node
        |     | |             |           + 0.20% ~ptr
        |     | |             |             + 0.20% ceph::buffer::ptr::release
        |     | |             + 0.20% BlueFS::_allocate
        |     | |               + 0.20% BlueFS::_allocate
        |     | |                 + 0.20% ceph::logging::Log::create_entry
        |     | |                   + 0.20% tc_new
        |     | + 0.20% rocksdb::log::Writer::AddRecord
        |     |   + 0.20% rocksdb::log::Writer::EmitPhysicalRecord
        |     |     + 0.20% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
        |     |       + 0.20% Fast_CRC32
        |     |         + 0.20% Slow_CRC32
        |     + 1.40% rocksdb::WriteBatchInternal::InsertInto
        |       + 1.40% rocksdb::WriteBatch::Iterate
        |         + 1.40% rocksdb::MemTableInserter::SingleDeleteCF
        |           + 1.40% DeleteImpl
        |             + 1.40% rocksdb::MemTable::Add
        |               + 0.80% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::Insert<false>
        |               | + 0.60% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::RecomputeSpliceLevels
        |               |   + 0.60% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::FindSpliceForLevel
        |               |     + 0.60% KeyIsAfterNode
        |               |       + 0.60% rocksdb::MemTable::KeyComparator::operator()
        |               |         + 0.40% rocksdb::InternalKeyComparator::Compare
        |               |         | + 0.40% b::(anonymous namespace)::BytewiseComparatorImpl::Compare
        |               |         |   + 0.40% compare
        |               |         |     + 0.40% __memcmp_sse4_1
        |               |         + 0.20% GetLengthPrefixedSlice
        |               + 0.40% b::(anonymous namespace)::SkipListRep::Allocate
        |                 + 0.40% AllocateKey
        |                   + 0.20% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::AllocateNode
        |                   | + 0.20% StashHeight
        |                   |   + 0.20% memcpy
        |                   + 0.20% RandomHeight
        |                     + 0.20% rocksdb::Random::GetTLSInstance
        + 36.60% RocksDBStore::submit_transaction
        | + 36.60% rocksdb::DBImpl::Write
        |   + 36.60% rocksdb::DBImpl::WriteImpl
        |     + 22.20% rocksdb::WriteBatchInternal::InsertInto
        |     | + 22.20% rocksdb::WriteBatch::Iterate
        |     |   + 20.60% rocksdb::MemTableInserter::PutCF
        |     |   | + 20.40% rocksdb::MemTable::Add
        |     |   | | + 14.40% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::Insert<false>
        |     |   | | | + 13.20% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::RecomputeSpliceLevels
        |     |   | | | | + 12.80% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::FindSpliceForLevel
        |     |   | | | |   + 11.20% KeyIsAfterNode
        |     |   | | | |     + 11.00% rocksdb::MemTable::KeyComparator::operator()
        |     |   | | | |       + 6.00% rocksdb::InternalKeyComparator::Compare
        |     |   | | | |       | + 4.20% b::(anonymous namespace)::BytewiseComparatorImpl::Compare
        |     |   | | | |       | | + 4.00% compare
        |     |   | | | |       | |   + 4.00% __memcmp_sse4_1
        |     |   | | | |       | + 0.20% ExtractUserKey
        |     |   | | | |       + 3.60% GetLengthPrefixedSlice
        |     |   | | | |         + 0.60% GetVarint32Ptr
        |     |   | | | + 0.60% KeyIsAfterNode
        |     |   | | |   + 0.60% rocksdb::MemTable::KeyComparator::operator()
        |     |   | | + 4.20% memcpy
        |     |   | | | + 4.20% __memcpy_ssse3_back
        |     |   | | + 1.20% b::(anonymous namespace)::SkipListRep::Allocate
        |     |   | | | + 1.00% AllocateKey
        |     |   | | |   + 0.60% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::AllocateNode
        |     |   | | |   | + 0.20% rocksdb::MemTableAllocator::AllocateAligned
        |     |   | | |   | + 0.20% StashHeight
        |     |   | | |   |   + 0.20% memcpy
        |     |   | | |   + 0.20% RandomHeight
        |     |   | | |     + 0.20% Next
        |     |   | | + 0.60% rocksdb::MemTable::UpdateFlushState
        |     |   | |   + 0.40% rocksdb::MemTable::ShouldFlushNow
        |     |   | |     + 0.20% AllocatedAndUnused
        |     |   | |       + 0.20% ShardAllocatedAndUnused
        |     |   | |         + 0.20% load
        |     |   | + 0.20% SeekToColumnFamily
        |     |   |   + 0.20% rocksdb::ColumnFamilyMemTablesImpl::Seek
        |     |   + 0.80% rocksdb::ReadRecordFromWriteBatch
        |     |   | + 0.40% GetLengthPrefixedSlice
        |     |   |   + 0.20% remove_prefix
        |     |   |   + 0.20% GetVarint32
        |     |   |     + 0.20% GetVarint32Ptr
        |     |   + 0.80% rocksdb::MemTableInserter::DeleteCF
        |     |     + 0.80% DeleteImpl
        |     |       + 0.80% rocksdb::MemTable::Add
        |     |         + 0.60% rocksdb::InlineSkipList<rocksdb::MemTableRep::KeyComparator const&>::Insert<false>
        |     |         | + 0.40% KeyIsAfterNode
        |     |         |   + 0.40% rocksdb::MemTable::KeyComparator::operator()
        |     |         |     + 0.20% rocksdb::InternalKeyComparator::Compare
        |     |         |     | + 0.20% b::(anonymous namespace)::BytewiseComparatorImpl::Compare
        |     |         |     |   + 0.20% compare
        |     |         |     |     + 0.20% __memcmp_sse4_1
        |     |         |     + 0.20% GetLengthPrefixedSlice
        |     |         |       + 0.20% GetVarint32Ptr
        |     |         + 0.20% memcpy
        |     |           + 0.20% __memcpy_ssse3_back
        |     + 13.40% rocksdb::DBImpl::WriteToWAL
        |     | + 13.40% rocksdb::log::Writer::AddRecord
        |     |   + 13.40% rocksdb::log::Writer::EmitPhysicalRecord
        |     |     + 7.40% b::crc32c::ExtendImpl<rocksdb::crc32c::Fast_CRC32>
        |     |     | + 7.00% Fast_CRC32
        |     |     |   + 7.00% Slow_CRC32
        |     |     + 5.60% rocksdb::WritableFileWriter::Flush
        |     |     | + 4.80% rocksdb::WritableFileWriter::WriteBuffered
        |     |     | | + 4.80% BlueRocksWritableFile::Append
        |     |     | |   + 4.80% append
        |     |     | |     + 4.80% append
        |     |     | |       + 4.60% memcpy
        |     |     | |         + 4.60% __memcpy_ssse3_back
        |     |     | + 0.80% BlueRocksWritableFile::Flush
        |     |     |   + 0.80% flush
        |     |     |     + 0.80% lock_guard
        |     |     |       + 0.80% lock
        |     |     |         + 0.80% __gthread_mutex_lock
        |     |     |           + 0.80% pthread_mutex_lock
        |     |     |             + 0.60% _L_lock_812
        |     |     |               + 0.60% __lll_lock_wait
        |     |     + 0.40% rocksdb::WritableFileWriter::Append
        |     |       + 0.40% Append
        |     |         + 0.40% memcpy
        |     |           + 0.40% __memcpy_ssse3_back
        |     + 0.20% rocksdb::WriteThread::JoinBatchGroup
        |     + 0.20% rocksdb::WriteThread::ExitAsBatchGroupLeader
        |     + 0.20% rocksdb::WriteThread::EnterAsBatchGroupLeader
        |     | + 0.20% push_back
        |     + 0.20% rocksdb::DBImpl::PreprocessWrite
        + 11.20% KernelDevice::flush
        | + 11.20% fdatasync
        + 3.00% std::condition_variable::wait(std::unique_lock<std::mutex>&)
        | + 3.00% pthread_cond_wait@@GLIBC_2.3.2
        + 1.20% BlueStore::_txc_applied_kv
        | + 0.20% end
        |   + 0.20% end
        + 0.40% ~basic_string
        | + 0.20% tc_delete
        | + 0.20% None
        + 0.40% RocksDBStore::RocksDBTransactionImpl::rm_single_key
        | + 0.20% combine_strings
        | | + 0.20% push_back
        | |   + 0.20% std::string::reserve(unsigned long)
        | |     + 0.20% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
        | |       + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
        | |         + 0.20% tc_new
        | + 0.20% SingleDelete
        |   + 0.20% rocksdb::WriteBatch::SingleDelete
        |     + 0.20% rocksdb::WriteBatchInternal::SingleDelete
        |       + 0.20% PutLengthPrefixedSlice
        |         + 0.20% PutVarint32
        |           + 0.20% std::string::append(char const*, unsigned long)
        + 0.20% shared_ptr
        | + 0.20% __shared_ptr
        |   + 0.20% __shared_count
        |     + 0.20% _M_add_ref_copy
        |       + 0.20% __atomic_add_dispatch
        |         + 0.20% __atomic_add
        + 0.20% end
          + 0.20% list_iterator
            + 0.20% iiterator_members

Thread: 53===7971===finisher

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% Finisher::finisher_thread_entry
      + 74.40% Wait
      | + 74.20% pthread_cond_wait@@GLIBC_2.3.2
      | + 0.20% _post_lock
      + 15.00% Context::complete
      | + 15.00% PrimaryLogPG::BlessedContext::finish
      |   + 12.00% Context::complete
      |   | + 11.60% ReplicatedBackend::C_OSD_RepModifyCommit::finish
      |   | | + 11.40% ReplicatedBackend::repop_commit
      |   | |   + 10.40% OSDService::send_message_osd_cluster
      |   | |   | + 9.80% AsyncConnection::send_message
      |   | |   | | + 3.40% operator<<
      |   | |   | | | + 2.00% operator<<
      |   | |   | | | | + 1.20% getnameinfo
      |   | |   | | | | | + 0.80% inet_ntop
      |   | |   | | | | | | + 0.80% sprintf
      |   | |   | | | | | |   + 0.80% vsprintf
      |   | |   | | | | | |     + 0.80% vfprintf
      |   | |   | | | | | + 0.40% snprintf
      |   | |   | | | | |   + 0.40% vsnprintf
      |   | |   | | | | + 0.60% operator<< <std::char_traits<char> >
      |   | |   | | | | | + 0.60% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
      |   | |   | | | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
      |   | |   | | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
      |   | |   | | | |   + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
      |   | |   | | | |     + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
      |   | |   | | | + 1.20% MOSDRepOpReply::print
      |   | |   | | | | + 0.80% operator<<
      |   | |   | | | | | + 0.20% std::ostream::operator<<(int)
      |   | |   | | | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
      |   | |   | | | | | | + 0.20% __strlen_sse2_pminub
      |   | |   | | | | | + 0.20% pg_t::calc_name
      |   | |   | | | | | | + 0.20% ritoa<unsigned long, 10u, 1u>
      |   | |   | | | | | + 0.20% operator<<
      |   | |   | | | | |   + 0.20% operator<<
      |   | |   | | | | |     + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
      |   | |   | | | | + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
      |   | |   | | | | | + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
      |   | |   | | | | |   + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
      |   | |   | | | | |     + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
      |   | |   | | | | + 0.20% operator<< <std::char_traits<char> >
      |   | |   | | | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
      |   | |   | | | + 0.20% std::ostream& std::ostream::_M_insert<void const*>(void const*)
      |   | |   | | |   + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, void const*) const
      |   | |   | | |     + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
      |   | |   | | |       + 0.20% None
      |   | |   | | + 2.00% lock_guard
      |   | |   | | | + 2.00% lock
      |   | |   | | |   + 2.00% __gthread_mutex_lock
      |   | |   | | |     + 2.00% pthread_mutex_lock
      |   | |   | | |       + 2.00% _L_lock_812
      |   | |   | | |         + 2.00% __lll_lock_wait
      |   | |   | | + 1.20% std::basic_ostream<char, std::char_traits<char> >::basic_ostream(std::basic_streambuf<char, std::char_traits<char> >*)
      |   | |   | | | + 1.00% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
      |   | |   | | | | + 0.80% std::basic_ios<char, std::char_traits<char> >::_M_cache_locale(std::locale const&)
      |   | |   | | | | | + 0.40% bool std::has_facet<std::ctype<char> >(std::locale const&)
      |   | |   | | | | | | + 0.20% std::locale::id::_M_id() const
      |   | |   | | | | | | + 0.20% __dynamic_cast
      |   | |   | | | | | |   + 0.20% __cxxabiv1::__vmi_class_type_info::__do_dyncast(long, __cxxabiv1::__class_type_info::__sub_kind, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info::__dyncast_result&) const
      |   | |   | | | | | + 0.20% std::ctype<char> const& std::use_facet<std::ctype<char> >(std::locale const&)
      |   | |   | | | | | | + 0.20% __dynamic_cast
      |   | |   | | | | | |   + 0.20% __cxxabiv1::__vmi_class_type_info::__do_dyncast(long, __cxxabiv1::__class_type_info::__sub_kind, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info::__dyncast_result&) const
      |   | |   | | | | | + 0.20% bool std::has_facet<std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > > >(std::locale const&)
      |   | |   | | | | |   + 0.20% __dynamic_cast
      |   | |   | | | | |     + 0.20% __cxxabiv1::__si_class_type_info::__do_dyncast(long, __cxxabiv1::__class_type_info::__sub_kind, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info::__dyncast_result&) const
      |   | |   | | | | + 0.20% std::ios_base::_M_init()
      |   | |   | | | |   + 0.20% std::locale::operator=(std::locale const&)
      |   | |   | | | + 0.20% std::ios_base::ios_base()
      |   | |   | | + 1.20% AsyncConnection::prepare_send_message
      |   | |   | | | + 1.00% Message::encode
      |   | |   | | |   + 0.80% MOSDRepOpReply::encode_payload
      |   | |   | | |   | + 0.80% encode
      |   | |   | | |   |   + 0.40% spg_t::encode
      |   | |   | | |   |   | + 0.40% encode
      |   | |   | | |   |   |   + 0.40% encode_raw<unsigned char>
      |   | |   | | |   |   |     + 0.40% ceph::buffer::list::append
      |   | |   | | |   |   |       + 0.20% ceph::buffer::ptr::append
      |   | |   | | |   |   |         + 0.20% maybe_inline_memcpy
      |   | |   | | |   |   + 0.20% pg_shard_t::encode
      |   | |   | | |   |   | + 0.20% encode
      |   | |   | | |   |   |   + 0.20% encode
      |   | |   | | |   |   |     + 0.20% encode
      |   | |   | | |   |   |       + 0.20% encode_raw<signed char>
      |   | |   | | |   |   |         + 0.20% ceph::buffer::list::append
      |   | |   | | |   |   + 0.20% encode_raw<ceph_le<unsigned int> >
      |   | |   | | |   |     + 0.20% ceph::buffer::list::append
      |   | |   | | |   |       + 0.20% create
      |   | |   | | |   |         + 0.20% tc_posix_memalign
      |   | |   | | |   |           + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
      |   | |   | | |   + 0.20% calc_front_crc
      |   | |   | | |     + 0.20% ceph::buffer::list::crc32c
      |   | |   | | |       + 0.20% ceph_crc32c
      |   | |   | | |         + 0.20% ceph_crc32c_intel_baseline
      |   | |   | | + 0.60% emplace_back<ceph::buffer::list, Message*&>
      |   | |   | | | + 0.60% _M_insert<ceph::buffer::list, Message*&>
      |   | |   | | |   + 0.60% _M_create_node<ceph::buffer::list, Message*&>
      |   | |   | | |     + 0.40% construct<std::_List_node<std::pair<ceph::buffer::list, Message*> >, ceph::buffer::list, Message*&>
      |   | |   | | |     | + 0.40% _List_node<ceph::buffer::list, Message*&>
      |   | |   | | |     |   + 0.40% pair<ceph::buffer::list, Message*&, void>
      |   | |   | | |     |     + 0.40% ceph::buffer::list::list(ceph::buffer::list&&)
      |   | |   | | |     |       + 0.20% ptr
      |   | |   | | |     |       + 0.20% clear
      |   | |   | | |     |         + 0.20% clear
      |   | |   | | |     |           + 0.20% _M_init
      |   | |   | | |     + 0.20% _M_get_node
      |   | |   | | |       + 0.20% allocate
      |   | |   | | |         + 0.20% tc_new
      |   | |   | | + 0.40% operator<< <std::char_traits<char> >
      |   | |   | | | + 0.40% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
      |   | |   | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
      |   | |   | | + 0.20% ~intrusive_ptr
      |   | |   | | | + 0.20% RefCountedObject::put
      |   | |   | | + 0.20% ceph::logging::SubsystemMap::should_gather
      |   | |   | | | + 0.20% size
      |   | |   | | + 0.20% ceph::logging::Log::submit_entry
      |   | |   | | | + 0.20% pthread_mutex_lock
      |   | |   | | |   + 0.20% _L_lock_812
      |   | |   | | |     + 0.20% __lll_lock_wait
      |   | |   | | + 0.20% ceph::logging::Log::create_entry
      |   | |   | | | + 0.20% Entry
      |   | |   | | |   + 0.20% PrebufferedStreambuf::PrebufferedStreambuf
      |   | |   | | |     + 0.20% basic_streambuf
      |   | |   | | |       + 0.20% std::locale::locale()
      |   | |   | | + 0.20% PerfCounters::inc
      |   | |   | + 0.40% AsyncMessenger::get_connection
      |   | |   | | + 0.20% ~Locker
      |   | |   | | | + 0.20% Mutex::Unlock
      |   | |   | | |   + 0.20% _pre_unlock
      |   | |   | | |     + 0.20% pthread_self@plt
      |   | |   | | + 0.20% operator==
      |   | |   | |   + 0.20% __memcmp_sse4_1
      |   | |   | + 0.20% get_nextmap_reserved
      |   | |   |   + 0.20% insert<std::pair<unsigned int, int>, void>
      |   | |   |     + 0.20% _M_insert_unique<std::pair<unsigned int, int> >
      |   | |   |       + 0.20% _M_insert_<std::pair<unsigned int, int> >
      |   | |   |         + 0.20% std::_Rb_tree_insert_and_rebalance(bool, std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::_Rb_tree_node_base&)
      |   | |   + 0.40% MOSDRepOpReply
      |   | |   | + 0.40% MOSDFastDispatchOp
      |   | |   |   + 0.40% Message::Message
      |   | |   |     + 0.20% memset
      |   | |   |     + 0.20% list
      |   | |   |       + 0.20% ceph::buffer::list::iterator_impl<false>::iterator_impl
      |   | |   + 0.20% ~shared_ptr
      |   | |   | + 0.20% ~__shared_ptr
      |   | |   |   + 0.20% ~__shared_count
      |   | |   |     + 0.20% std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release
      |   | |   |       + 0.20% __exchange_and_add_dispatch
      |   | |   |         + 0.20% __exchange_and_add
      |   | |   + 0.20% mark_commit_sent
      |   | |   | + 0.20% OpRequest::mark_flag_point
      |   | |   |   + 0.20% TrackedOp::mark_event
      |   | |   + 0.20% get_osdmap
      |   | |     + 0.20% PrimaryLogPG::pgb_get_osdmap
      |   | + 0.40% ReplicatedBackend::op_commit
      |   |   + 0.40% Context::complete
      |   |     + 0.40% PrimaryLogPG::repop_all_committed
      |   |       + 0.20% PrimaryLogPG::eval_repop
      |   |         + 0.20% PrimaryLogPG::__lambda34::operator()
      |   |           + 0.20% send_message_osd_client
      |   |             + 0.20% AsyncConnection::send_message
      |   |               + 0.20% EventCenter::dispatch_event_external
      |   |                 + 0.20% operator++
      |   + 2.80% PG::lock
      |   | + 2.80% Mutex::Lock
      |   |   + 2.60% pthread_mutex_lock
      |   |     + 2.40% _L_lock_812
      |   |       + 2.40% __lll_lock_wait
      |   + 0.20% tc_delete
      + 10.00% C_ContextsBase<Context, Context>::complete
      | + 10.00% complete
      |   + 10.00% finish_contexts<Context>
      |     + 8.80% Context::complete
      |     | + 8.80% PrimaryLogPG::BlessedContext::finish
      |     |   + 7.40% ReplicatedBackend::C_OSD_RepModifyApply::~C_OSD_RepModifyApply
      |     |   | + 7.40% ~C_OSD_RepModifyApply
      |     |   |   + 7.40% ~shared_ptr
      |     |   |     + 7.40% ~__shared_ptr
      |     |   |       + 7.40% ~__shared_count
      |     |   |         + 7.40% std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release
      |     |   |           + 6.60% OpTracker::unregister_inflight_op
      |     |   |           | + 2.60% OpRequest::_unregistered
      |     |   |           | | + 2.00% clear_data
      |     |   |           | | | + 2.00% clear
      |     |   |           | | |   + 1.80% clear
      |     |   |           | | |     + 1.80% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
      |     |   |           | | |       + 1.40% destroy<std::_List_node<ceph::buffer::ptr> >
      |     |   |           | | |       | + 1.40% ~_List_node
      |     |   |           | | |       |   + 1.20% ~ptr
      |     |   |           | | |       |     + 1.20% ceph::buffer::ptr::release
      |     |   |           | | |       |       + 0.60% ceph::buffer::raw_combined::~raw_combined
      |     |   |           | | |       |       | + 0.60% ~raw_combined
      |     |   |           | | |       |       |   + 0.60% ~raw
      |     |   |           | | |       |       |     + 0.40% mempool::pool_t::adjust_count
      |     |   |           | | |       |       |     | + 0.40% operator+=
      |     |   |           | | |       |       |     + 0.20% ~map
      |     |   |           | | |       |       |       + 0.20% ~_Rb_tree
      |     |   |           | | |       |       |         + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_erase
      |     |   |           | | |       |       |           + 0.20% _M_destroy_node
      |     |   |           | | |       |       |             + 0.20% _M_put_node
      |     |   |           | | |       |       |               + 0.20% deallocate
      |     |   |           | | |       |       |                 + 0.20% tc_delete
      |     |   |           | | |       |       |                   + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |   |           | | |       |       |                     + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |   |           | | |       |       + 0.20% tc_free
      |     |   |           | | |       + 0.40% _M_put_node
      |     |   |           | | |         + 0.40% deallocate
      |     |   |           | | |           + 0.40% tc_delete
      |     |   |           | | |             + 0.40% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |   |           | | |               + 0.40% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |   |           | | + 0.60% clear_payload
      |     |   |           | |   + 0.60% clear
      |     |   |           | |     + 0.40% clear
      |     |   |           | |     | + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
      |     |   |           | |     |   + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
      |     |   |           | |     |     + 0.20% ~_List_node
      |     |   |           | |     + 0.20% ceph::buffer::ptr::operator=(ceph::buffer::ptr&&)
      |     |   |           | |       + 0.20% ceph::buffer::ptr::release
      |     |   |           | + 2.40% ~intrusive_ptr
      |     |   |           | | + 2.40% intrusive_ptr_release
      |     |   |           | |   + 2.40% put
      |     |   |           | |     + 2.40% OpRequest::~OpRequest
      |     |   |           | |       + 2.20% ~OpRequest
      |     |   |           | |       | + 1.60% RefCountedObject::put
      |     |   |           | |       | | + 1.60% MOSDRepOp::~MOSDRepOp
      |     |   |           | |       | |   + 1.40% ~MOSDRepOp
      |     |   |           | |       | |     + 0.80% ~list
      |     |   |           | |       | |     | + 0.80% ~list
      |     |   |           | |       | |     |   + 0.80% ~_List_base
      |     |   |           | |       | |     |     + 0.80% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
      |     |   |           | |       | |     |       + 0.60% destroy<std::_List_node<ceph::buffer::ptr> >
      |     |   |           | |       | |     |       | + 0.60% ~_List_node
      |     |   |           | |       | |     |       |   + 0.60% ~ptr
      |     |   |           | |       | |     |       |     + 0.60% ceph::buffer::ptr::release
      |     |   |           | |       | |     |       |       + 0.40% ceph::buffer::raw_combined::~raw_combined
      |     |   |           | |       | |     |       |       | + 0.40% ~raw_combined
      |     |   |           | |       | |     |       |       |   + 0.40% ~raw
      |     |   |           | |       | |     |       |       |     + 0.40% ~map
      |     |   |           | |       | |     |       |       |       + 0.40% ~_Rb_tree
      |     |   |           | |       | |     |       |       |         + 0.40% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_erase
      |     |   |           | |       | |     |       |       |           + 0.20% _M_destroy_node
      |     |   |           | |       | |     |       |       |             + 0.20% _M_put_node
      |     |   |           | |       | |     |       |       |               + 0.20% deallocate
      |     |   |           | |       | |     |       |       |                 + 0.20% tc_delete
      |     |   |           | |       | |     |       |       |                   + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |   |           | |       | |     |       |       |                     + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |   |           | |       | |     |       |       + 0.20% tc_free
      |     |   |           | |       | |     |       + 0.20% _M_put_node
      |     |   |           | |       | |     |         + 0.20% deallocate
      |     |   |           | |       | |     |           + 0.20% tc_delete
      |     |   |           | |       | |     |             + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |   |           | |       | |     |               + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |   |           | |       | |     + 0.60% ~pg_stat_t
      |     |   |           | |       | |       + 0.60% ~vector
      |     |   |           | |       | |         + 0.60% ~_Vector_base
      |     |   |           | |       | |           + 0.60% _M_deallocate
      |     |   |           | |       | |             + 0.60% deallocate
      |     |   |           | |       | |               + 0.60% tc_delete
      |     |   |           | |       | + 0.60% ~TrackedOp
      |     |   |           | |       |   + 0.60% Mutex::~Mutex
      |     |   |           | |       |     + 0.60% ~basic_string
      |     |   |           | |       |       + 0.60% _M_dispose
      |     |   |           | |       |         + 0.20% tc_delete
      |     |   |           | |       |           + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |   |           | |       |             + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |   |           | |       + 0.20% tc_delete
      |     |   |           | |         + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |   |           | |           + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |   |           | + 1.20% OpHistory::insert
      |     |   |           | | + 0.40% insert
      |     |   |           | | | + 0.20% std::_Rb_tree<std::pair<utime_t, boost::intrusive_ptr<TrackedOp> >, std::pair<utime_t, boost::intrusive_ptr<TrackedOp> >, std::_Identity<std::pair<utime_t, boost::intrusive_ptr<TrackedOp> > >, std::less<std::pair<utime_t, boost::intrusive_ptr<TrackedOp> > >, std::allocator<std::pair<utime_t, boost::intrusive_ptr<TrackedOp> > > >::_M_insert_unique<std::pair<utime_t, boost::intrusive_ptr<TrackedOp> > >(std::pair<utime_t, boost::intrusive_ptr<TrackedOp> >&&)
      |     |   |           | | | | + 0.20% _M_get_insert_unique_pos
      |     |   |           | | | |   + 0.20% operator()
      |     |   |           | | | |     + 0.20% operator< <utime_t, boost::intrusive_ptr<TrackedOp> >
      |     |   |           | | | |       + 0.20% operator<
      |     |   |           | | | |         + 0.20% sec
      |     |   |           | | | + 0.20% std::_Rb_tree<std::pair<double, boost::intrusive_ptr<TrackedOp> >, std::pair<double, boost::intrusive_ptr<TrackedOp> >, std::_Identity<std::pair<double, boost::intrusive_ptr<TrackedOp> > >, std::less<std::pair<double, boost::intrusive_ptr<TrackedOp> > >, std::allocator<std::pair<double, boost::intrusive_ptr<TrackedOp> > > >::_M_insert_unique<std::pair<double, boost::intrusive_ptr<TrackedOp> > >(std::pair<double, boost::intrusive_ptr<TrackedOp> >&&)
      |     |   |           | | |   + 0.20% _M_get_insert_unique_pos
      |     |   |           | | + 0.40% get_duration
      |     |   |           | | | + 0.20% ~Locker
      |     |   |           | | | | + 0.20% Mutex::Unlock
      |     |   |           | | | |   + 0.20% pthread_mutex_unlock
      |     |   |           | | | + 0.20% operator double
      |     |   |           | | + 0.20% OpHistory::cleanup
      |     |   |           | | + 0.20% Locker
      |     |   |           | |   + 0.20% Mutex::Lock
      |     |   |           | |     + 0.20% pthread_mutex_lock
      |     |   |           | |       + 0.20% _L_lock_812
      |     |   |           | |         + 0.20% __lll_lock_wait
      |     |   |           | + 0.40% ~RLocker
      |     |   |           |   + 0.40% unlock
      |     |   |           |     + 0.20% operator--
      |     |   |           |     | + 0.20% fetch_sub
      |     |   |           |     + 0.20% operator std::__atomic_base<unsigned int>::__int_type
      |     |   |           |       + 0.20% load
      |     |   |           + 0.60% TrackedOp::put
      |     |   |           | + 0.40% TrackedOp::mark_event
      |     |   |           | | + 0.20% ~Locker
      |     |   |           | | | + 0.20% Mutex::Unlock
      |     |   |           | | |   + 0.20% pthread_mutex_unlock
      |     |   |           | | + 0.20% push_back
      |     |   |           | |   + 0.20% std::vector<TrackedOp::Event, std::allocator<TrackedOp::Event> >::emplace_back<TrackedOp::Event>(TrackedOp::Event&&)
      |     |   |           | |     + 0.20% construct<TrackedOp::Event, TrackedOp::Event>
      |     |   |           | |       + 0.20% _S_construct<TrackedOp::Event, TrackedOp::Event>
      |     |   |           | |         + 0.20% construct<TrackedOp::Event, TrackedOp::Event>
      |     |   |           | |           + 0.20% Event
      |     |   |           | + 0.20% ceph_clock_now
      |     |   |           |   + 0.20% clock_gettime
      |     |   |           |     + 0.20% clock_gettime
      |     |   |           + 0.20% std::_Sp_counted_ptr_inplace<ReplicatedBackend::RepModify, std::allocator<ReplicatedBackend::RepModify>, (__gnu_cxx::_Lock_policy)2>::_M_dispose
      |     |   |             + 0.20% destroy<ReplicatedBackend::RepModify>
      |     |   |               + 0.20% _S_destroy<ReplicatedBackend::RepModify>
      |     |   |                 + 0.20% destroy<ReplicatedBackend::RepModify>
      |     |   |                   + 0.20% ~RepModify
      |     |   |                     + 0.20% ObjectStore::Transaction::~Transaction
      |     |   |                       + 0.20% ~list
      |     |   |                         + 0.20% ~ptr
      |     |   |                           + 0.20% ceph::buffer::ptr::release
      |     |   + 1.20% Context::complete
      |     |     + 1.00% ReplicatedBackend::op_applied
      |     |     | + 1.00% Context::complete
      |     |     |   + 1.00% PrimaryLogPG::repop_all_applied
      |     |     |     + 1.00% PrimaryLogPG::eval_repop
      |     |     |       + 0.40% PrimaryLogPG::remove_repop
      |     |     |       | + 0.20% tc_delete
      |     |     |       | | + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |     |       | |   + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |     |       | + 0.20% std::_Function_handler<void(), PrimaryLogPG::execute_ctx(PrimaryLogPG::OpContext*)::__lambda36>::_M_invoke(const std::_Any_data &)
      |     |     |       |   + 0.20% operator()
      |     |     |       |     + 0.20% PrimaryLogPG::OpContext::~OpContext
      |     |     |       |       + 0.20% ~interval_set
      |     |     |       |         + 0.20% ~map
      |     |     |       |           + 0.20% ~_Rb_tree
      |     |     |       |             + 0.20% std::_Rb_tree<unsigned long, std::pair<unsigned long const, unsigned long>, std::_Select1st<std::pair<unsigned long const, unsigned long> >, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, unsigned long> > >::_M_erase
      |     |     |       |               + 0.20% _M_destroy_node
      |     |     |       |                 + 0.20% _M_put_node
      |     |     |       |                   + 0.20% deallocate
      |     |     |       |                     + 0.20% tc_delete
      |     |     |       |                       + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |     |       |                         + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     |     |       + 0.40% PG::publish_stats_to_osd
      |     |     |       | + 0.20% pg_stat_t
      |     |     |       | | + 0.20% vector
      |     |     |       | |   + 0.20% __uninitialized_copy_a<__gnu_cxx::__normal_iterator<int const*, std::vector<int> >, int*, int>
      |     |     |       | |     + 0.20% uninitialized_copy<__gnu_cxx::__normal_iterator<int const*, std::vector<int> >, int*>
      |     |     |       | |       + 0.20% __uninit_copy<__gnu_cxx::__normal_iterator<int const*, std::vector<int> >, int*>
      |     |     |       | |         + 0.20% copy<__gnu_cxx::__normal_iterator<int const*, std::vector<int> >, int*>
      |     |     |       | |           + 0.20% __copy_move_a2<false, __gnu_cxx::__normal_iterator<int const*, std::vector<int> >, int*>
      |     |     |       | |             + 0.20% __copy_move_a<false, int const*, int*>
      |     |     |       | |               + 0.20% __copy_m<int>
      |     |     |       | |                 + 0.20% __memmove_ssse3_back
      |     |     |       | + 0.20% PG::_update_calc_stats
      |     |     |       |   + 0.20% PG::get_osdmap
      |     |     |       + 0.20% std::_Function_handler<void(), PrimaryLogPG::execute_ctx(PrimaryLogPG::OpContext*)::__lambda35>::_M_invoke(const std::_Any_data &)
      |     |     |         + 0.20% operator()
      |     |     |           + 0.20% PrimaryLogPG::do_osd_op_effects
      |     |     |             + 0.20% end
      |     |     + 0.20% ReplicatedBackend::C_OSD_RepModifyApply::finish
      |     |       + 0.20% ReplicatedBackend::repop_applied
      |     |         + 0.20% PrimaryLogPG::op_applied
      |     + 0.60% ~list
      |     | + 0.60% ~_List_base
      |     |   + 0.60% _M_clear
      |     |     + 0.40% _M_put_node
      |     |       + 0.40% deallocate
      |     |         + 0.40% tc_delete
      |     |           + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      |     |             + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      |     + 0.20% swap
      |     | + 0.20% std::__detail::_List_node_base::swap(std::__detail::_List_node_base&, std::__detail::_List_node_base&)
      |     + 0.20% PrimaryLogPG::BlessedContext::~BlessedContext
      |       + 0.20% ~BlessedContext
      |         + 0.20% ~intrusive_ptr
      |           + 0.20% intrusive_ptr_release
      |             + 0.20% PG::put
      + 0.20% tc_delete

Thread: 54===7970===dfin

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% Finisher::finisher_thread_entry
      + 100.00% Wait
        + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 55===7942===bstore_aio

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% KernelDevice::AioCompletionThread::entry
      + 100.00% KernelDevice::_aio_thread
        + 100.00% aio_queue_t::get_next_completed
          + 100.00% __io_getevents_0_4

Thread: 56===7941===bstore_aio

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% KernelDevice::AioCompletionThread::entry
      + 100.00% KernelDevice::_aio_thread
        + 100.00% aio_queue_t::get_next_completed
          + 100.00% __io_getevents_0_4

Thread: 57===7940===bstore_aio

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% KernelDevice::AioCompletionThread::entry
      + 100.00% KernelDevice::_aio_thread
        + 100.00% aio_queue_t::get_next_completed
          + 100.00% __io_getevents_0_4

Thread: 58===7939===bstore_aio

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% KernelDevice::AioCompletionThread::entry
      + 100.00% KernelDevice::_aio_thread
        + 99.20% aio_queue_t::get_next_completed
        | + 99.20% __io_getevents_0_4
        + 0.60% BlueStore::_deferred_aio_finish
          + 0.20% ~lock_guard
          | + 0.20% unlock
          |   + 0.20% __gthread_mutex_unlock
          |     + 0.20% pthread_mutex_unlock
          + 0.20% lock_guard
          | + 0.20% lock
          |   + 0.20% __gthread_mutex_lock
          |     + 0.20% pthread_mutex_lock
          |       + 0.20% _L_lock_812
          |         + 0.20% __lll_lock_wait
          + 0.20% Throttle::put
            + 0.20% PerfCounters::inc

Thread: 59===7937===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 60===7936===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% Wait
          + 100.00% pthread_cond_wait@@GLIBC_2.3.2

Thread: 61===7935===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 62===7934===safe_timer

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% SafeTimerThread::entry
      + 100.00% SafeTimer::timer_thread
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 63===7932===ceph-osd

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% None
      + 100.00% ceph::timer_detail::timer<ceph::time_detail::mono_clock>::timer_thread
        + 100.00% wait_until<ceph::time_detail::mono_clock, std::chrono::duration<unsigned long, std::ratio<1l, 1000000000l> > >
          + 100.00% __wait_until_impl<std::chrono::duration<unsigned long, std::ratio<1l, 1000000000l> > >
            + 100.00% __gthread_cond_timedwait
              + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 64===7930===admin-socket

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% AdminSocket::entry
      + 100.00% poll
        + 100.00% poll

Thread: 65===7929===service

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% CephContextServiceThread::entry
      + 100.00% WaitInterval
        + 100.00% WaitUntil
          + 100.00% pthread_cond_timedwait@@GLIBC_2.3.2

Thread: 66===7928===msgr_worker-2

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% None
      + 100.00% NetworkStack::__lambda4::operator()
        + 100.00% EventCenter::process_events
          + 100.00% EpollDriver::event_wait
            + 100.00% epoll_wait

Thread: 67===7927===msgr_worker-1

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% None
      + 100.00% NetworkStack::__lambda4::operator()
        + 100.00% EventCenter::process_events
          + 57.60% EpollDriver::event_wait
          | + 57.40% epoll_wait
          | + 0.20% resize
          |   + 0.20% std::vector<FiredFileEvent, std::allocator<FiredFileEvent> >::_M_default_append
          |     + 0.20% _M_allocate
          |       + 0.20% allocate
          |         + 0.20% tc_new
          + 33.00% AsyncConnection::process
          | + 11.60% DispatchQueue::fast_dispatch
          | | + 6.40% ms_fast_dispatch
          | | | + 6.40% OSD::ms_fast_dispatch
          | | |   + 3.60% OSD::enqueue_op
          | | |   | + 3.00% queue
          | | |   | | + 3.00% OSD::ShardedOpWQ::_enqueue
          | | |   | |   + 2.20% SignalOne
          | | |   | |   | + 2.20% pthread_cond_signal@@GLIBC_2.3.2
          | | |   | |   + 0.40% Mutex::Lock
          | | |   | |   | + 0.20% pthread_mutex_lock
          | | |   | |   |   + 0.20% _L_lock_812
          | | |   | |   |     + 0.20% __lll_lock_wait
          | | |   | |   + 0.20% WeightedPriorityQueue<std::pair<spg_t, PGQueueable>, entity_inst_t>::Queue::insert
          | | |   | |   | + 0.20% tc_new
          | | |   | |   + 0.20% Mutex::Unlock
          | | |   | |     + 0.20% pthread_mutex_unlock
          | | |   | |       + 0.20% _L_unlock_713
          | | |   | |         + 0.20% __lll_unlock_wake
          | | |   | + 0.40% mark_queued_for_pg
          | | |   | | + 0.40% OpRequest::mark_flag_point
          | | |   | |   + 0.20% TrackedOp::mark_event
          | | |   | |     + 0.20% ~Locker
          | | |   | |       + 0.20% Mutex::Unlock
          | | |   | |         + 0.20% pthread_mutex_unlock
          | | |   | + 0.20% ceph::logging::SubsystemMap::should_gather
          | | |   + 2.80% create_request<OpRequest, Message*>
          | | |     + 1.40% OpRequest::OpRequest
          | | |     | + 1.00% TrackedOp
          | | |     |   + 0.60% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&)
          | | |     |   | + 0.40% char* std::string::_S_construct<char const*>(char const*, char const*, std::allocator<char> const&, std::forward_iterator_tag)
          | | |     |   |   + 0.40% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          | | |     |   |     + 0.40% tc_new
          | | |     |   + 0.20% ~basic_string
          | | |     |   | + 0.20% None
          | | |     |   + 0.20% Mutex::Mutex
          | | |     |     + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
          | | |     + 1.20% tracking_start
          | | |     | + 1.20% OpTracker::register_inflight_op
          | | |     |   + 0.60% ~Locker
          | | |     |   | + 0.60% Mutex::Unlock
          | | |     |   |   + 0.60% pthread_mutex_unlock
          | | |     |   + 0.20% ~RLocker
          | | |     |   | + 0.20% unlock
          | | |     |   |   + 0.20% pthread_rwlock_unlock
          | | |     |   + 0.20% RLocker
          | | |     |   | + 0.20% get_read
          | | |     |   |   + 0.20% pthread_rwlock_rdlock
          | | |     |   + 0.20% Locker
          | | |     |     + 0.20% Mutex::Lock
          | | |     + 0.20% tc_new
          | | + 5.20% DispatchQueue::pre_dispatch
          | |   + 3.40% operator<<
          | |   | + 2.20% operator<<
          | |   | | + 0.80% getnameinfo
          | |   | | | + 0.60% inet_ntop
          | |   | | | | + 0.40% sprintf
          | |   | | | | | + 0.40% vsprintf
          | |   | | | | |   + 0.40% vfprintf
          | |   | | | | |     + 0.20% __GI__IO_default_xsputn
          | |   | | | | + 0.20% __strcpy_sse2
          | |   | | | + 0.20% snprintf
          | |   | | |   + 0.20% vsnprintf
          | |   | | |     + 0.20% vfprintf
          | |   | | |       + 0.20% __GI__IO_default_xsputn
          | |   | | + 0.40% operator<< <std::char_traits<char> >
          | |   | | | + 0.40% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |   | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | |   | | + 0.40% operator<<
          | |   | | | + 0.20% operator<< <std::char_traits<char> >
          | |   | | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |   | | | |   + 0.20% std::ostream::sentry::sentry(std::ostream&)
          | |   | | | + 0.20% getnameinfo
          | |   | | |   + 0.20% snprintf
          | |   | | |     + 0.20% vsnprintf
          | |   | | + 0.20% type_str
          | |   | | | + 0.20% ceph_entity_type_name
          | |   | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | |   | + 1.00% MOSDRepOpReply::print
          | |   | | + 0.80% operator<<
          | |   | | | + 0.60% operator<<
          | |   | | | | + 0.40% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
          | |   | | | | | + 0.40% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |   | | | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | |   | | | | |     + 0.20% __memcpy_ssse3_back
          | |   | | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | |   | | | |   + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | |   | | | |     + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | |   | | | |       + 0.20% None
          | |   | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | |   | | |   + 0.20% std::ostream::sentry::sentry(std::ostream&)
          | |   | | + 0.20% operator<< <std::char_traits<char> >
          | |   | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |   | |     + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | |   | + 0.20% MOSDRepOp::print
          | |   |   + 0.20% operator<<
          | |   |     + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | |   |       + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | |   |         + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | |   + 1.00% ceph::logging::Log::submit_entry
          | |   | + 0.80% pthread_mutex_lock
          | |   | | + 0.80% _L_lock_812
          | |   | |   + 0.80% __lll_lock_wait
          | |   | + 0.20% pthread_cond_signal@@GLIBC_2.3.2
          | |   + 0.40% basic_ostream
          | |   | + 0.20% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
          | |   | | + 0.20% std::basic_ios<char, std::char_traits<char> >::_M_cache_locale(std::locale const&)
          | |   | |   + 0.20% bool std::has_facet<std::num_get<char, std::istreambuf_iterator<char, std::char_traits<char> > > >(std::locale const&)
          | |   | + 0.20% basic_ios
          | |   |   + 0.20% std::locale::locale()
          | |   + 0.20% operator<< <std::char_traits<char> >
          | |   | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |   |   + 0.20% std::ostream::sentry::sentry(std::ostream&)
          | |   + 0.20% ceph::logging::Log::create_entry
          | |     + 0.20% tc_new
          | + 3.40% CephxSessionHandler::check_message_signature
          | | + 3.40% CephxSessionHandler::_calc_signature
          | |   + 2.80% encrypt
          | |   | + 2.80% CryptoAESKeyHandler::encrypt
          | |   |   + 2.80% nss_aes_operation
          | |   |     + 1.80% PK11_CreateContextBySymKey
          | |   |     | + 1.60% pk11_CreateNewContextInSlot
          | |   |     | | + 1.00% pk11_context_init
          | |   |     | | | + 1.00% NSC_EncryptInit
          | |   |     | | |   + 1.00% sftk_CryptInit
          | |   |     | | |     + 0.60% sftk_InitGeneric
          | |   |     | | |     | + 0.40% sftk_ObjectFromHandle
          | |   |     | | |     | | + 0.20% PR_Unlock
          | |   |     | | |     | | | + 0.20% pthread_mutex_unlock
          | |   |     | | |     | | + 0.20% PR_Lock
          | |   |     | | |     | |   + 0.20% pthread_mutex_lock
          | |   |     | | |     | + 0.20% PORT_Alloc_Util
          | |   |     | | |     |   + 0.20% tc_malloc
          | |   |     | | |     + 0.20% sftk_SessionFromHandle
          | |   |     | | |     | + 0.20% sftk_SlotFromSessionHandle
          | |   |     | | |     + 0.20% AES_CreateContext
          | |   |     | | |       + 0.20% AES_InitContext
          | |   |     | | + 0.20% pk11_GetNewSession
          | |   |     | | | + 0.20% NSC_OpenSession
          | |   |     | | |   + 0.20% PR_Lock
          | |   |     | | |     + 0.20% pthread_mutex_lock
          | |   |     | | + 0.20% PR_Unlock
          | |   |     | | | + 0.20% pthread_mutex_unlock
          | |   |     | | + 0.20% PK11_ReferenceSymKey
          | |   |     | + 0.20% pk11_ForceSlot
          | |   |     |   + 0.20% pk11_ForceSlotMultiple
          | |   |     |     + 0.20% PK11_DoesMechanism
          | |   |     + 0.40% PK11_DigestFinal
          | |   |     | + 0.40% NSC_EncryptFinal
          | |   |     |   + 0.20% PR_Unlock
          | |   |     |     + 0.20% pthread_mutex_unlock
          | |   |     + 0.40% PK11_CipherOp
          | |   |     | + 0.20% NSC_EncryptUpdate
          | |   |     + 0.20% operator=
          | |   |       + 0.20% std::list<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::operator=
          | |   + 0.40% ~list
          | |   | + 0.40% ~list
          | |   |   + 0.40% ~_List_base
          | |   |     + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |       + 0.40% destroy<std::_List_node<ceph::buffer::ptr> >
          | |   |         + 0.40% ~_List_node
          | |   |           + 0.40% ~ptr
          | |   |             + 0.40% ceph::buffer::ptr::release
          | |   |               + 0.20% tc_deletearray
          | |   |               + 0.20% ceph::buffer::raw_static::operator delete
          | |   |                 + 0.20% deallocate
          | |   |                   + 0.20% operator-=
          | |   + 0.20% ceph::buffer::create_static
          | |     + 0.20% raw_static
          | |       + 0.20% raw
          | |         + 0.20% mempool::pool_t::adjust_count
          | |           + 0.20% operator+=
          | + 3.20% AsyncConnection::handle_ack
          | | + 3.20% RefCountedObject::put
          | |   + 2.60% MOSDRepOp::~MOSDRepOp
          | |   | + 2.60% ~MOSDRepOp
          | |   |   + 1.80% ~MOSDFastDispatchOp
          | |   |   | + 1.80% Message::~Message
          | |   |   |   + 1.80% ~list
          | |   |   |     + 1.60% ~list
          | |   |   |     | + 1.60% ~_List_base
          | |   |   |     |   + 1.60% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |   |     |     + 1.60% destroy<std::_List_node<ceph::buffer::ptr> >
          | |   |   |     |       + 1.60% ~_List_node
          | |   |   |     |         + 1.00% ~ptr
          | |   |   |     |           + 1.00% ceph::buffer::ptr::release
          | |   |   |     |             + 0.60% ceph::buffer::raw_combined::~raw_combined
          | |   |   |     |             | + 0.60% ~raw_combined
          | |   |   |     |             |   + 0.60% ~raw
          | |   |   |     |             |     + 0.20% ~map
          | |   |   |     |             |     | + 0.20% ~_Rb_tree
          | |   |   |     |             |     |   + 0.20% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_erase
          | |   |   |     |             |     + 0.20% mempool::pool_t::adjust_count
          | |   |   |     |             |       + 0.20% operator+=
          | |   |   |     |             + 0.20% tc_free
          | |   |   |     + 0.20% ~ptr
          | |   |   |       + 0.20% ceph::buffer::ptr::release
          | |   |   + 0.40% ~pg_stat_t
          | |   |   | + 0.40% ~vector
          | |   |   |   + 0.40% ~_Vector_base
          | |   |   |     + 0.40% _M_deallocate
          | |   |   |       + 0.40% deallocate
          | |   |   |         + 0.40% tc_delete
          | |   |   |           + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | |   |   |             + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | |   |   + 0.40% hobject_t::~hobject_t
          | |   |     + 0.40% ~object_t
          | |   |       + 0.40% ~basic_string
          | |   |         + 0.20% None
          | |   + 0.40% MOSDRepOpReply::~MOSDRepOpReply
          | |   | + 0.40% ~MOSDRepOpReply
          | |   |   + 0.40% ~MOSDFastDispatchOp
          | |   |     + 0.40% Message::~Message
          | |   |       + 0.40% ~list
          | |   |         + 0.20% ~ptr
          | |   |         | + 0.20% ceph::buffer::ptr::release
          | |   |         + 0.20% ~list
          | |   |           + 0.20% ~_List_base
          | |   |             + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |               + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          | |   |                 + 0.20% ~_List_node
          | |   |                   + 0.20% ~ptr
          | |   |                     + 0.20% ceph::buffer::ptr::release
          | |   + 0.20% tc_delete
          | + 2.60% decode_message
          | | + 0.60% ceph::buffer::list::crc32c
          | | | + 0.40% ceph_crc32c
          | | |   + 0.40% ceph_crc32c_intel_fast
          | | |     + 0.40% None
          | | |       + 0.40% None
          | | |         + 0.40% crc32_iscsi_00
          | | + 0.40% pg_stat_t
          | | | + 0.20% utime_t
          | | | + 0.20% eversion_t
          | | + 0.40% intrusive_ptr
          | | | + 0.40% intrusive_ptr_add_ref
          | | |   + 0.40% RefCountedObject::get
          | | + 0.40% MOSDFastDispatchOp
          | | | + 0.40% Message::Message
          | | |   + 0.40% list
          | | |     + 0.20% ptr
          | | |     + 0.20% ceph::buffer::list::iterator_impl<false>::iterator_impl
          | | + 0.20% set_payload
          | | | + 0.20% ceph::buffer::list::claim
          | | |   + 0.20% ceph::buffer::list::claim_append
          | | + 0.20% _Znwm@plt
          | | + 0.20% MOSDRepOpReply::decode_payload
          | | | + 0.20% decode
          | | |   + 0.20% spg_t::decode
          | | |     + 0.20% decode
          | | |       + 0.20% decode
          | | |         + 0.20% decode
          | | |           + 0.20% decode_raw<signed char>
          | | |             + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          | | + 0.20% MOSDRepOp::decode_payload
          | |   + 0.20% Message::decode_trace
          | |     + 0.20% decode
          | |       + 0.20% decode
          | |         + 0.20% decode_raw<ceph_le<unsigned long long> >
          | |           + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          | |             + 0.20% ceph::buffer::list::iterator_impl<false>::advance
          | + 2.60% AsyncConnection::read_until
          | | + 1.80% AsyncConnection::read_bulk
          | | | + 1.80% read
          | | |   + 1.80% PosixConnectedSocketImpl::read
          | | |     + 1.80% read
          | | |       + 1.80% read
          | | + 0.60% memcpy
          | |   + 0.60% __memcpy_ssse3_back
          | + 2.40% AsyncConnection::_conn_prefix
          | | + 2.00% operator<<
          | | | + 1.40% operator<<
          | | | | + 1.00% getnameinfo
          | | | | | + 0.60% inet_ntop
          | | | | | | + 0.60% sprintf
          | | | | | |   + 0.60% vsprintf
          | | | | | |     + 0.40% vfprintf
          | | | | | |       + 0.20% _itoa_word
          | | | | | + 0.40% snprintf
          | | | | |   + 0.20% vsnprintf
          | | | | |     + 0.20% _IO_str_init_static_internal
          | | | | + 0.40% operator<< <std::char_traits<char> >
          | | | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | |   + 0.20% length
          | | | + 0.20% std::ostream& std::ostream::_M_insert<void const*>(void const*)
          | | | + 0.20% std::ostream& std::ostream::_M_insert<bool>(bool)
          | | + 0.40% operator<< <std::char_traits<char> >
          | |   + 0.40% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |     + 0.40% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | |       + 0.20% __memcpy_ssse3_back
          | + 1.80% operator<<
          | | + 0.60% MOSDRepOp::print
          | | | + 0.60% operator<<
          | | |   + 0.40% operator<<
          | | |   | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | |   | | + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | |   | |   + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | |   | |     + 0.20% None
          | | |   | + 0.20% operator<<
          | | |   |   + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | | |   |     + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |   |       + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |   + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | | |     + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |       + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |         + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | |           + 0.20% __memcpy_ssse3_back
          | | + 0.40% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | + 0.20% std::ostream::sentry::sentry(std::ostream&)
          | | + 0.40% operator<<
          | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | | + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | |   + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | | |   + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |     + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | + 0.40% MOSDRepOpReply::print
          | |   + 0.20% operator<< <std::char_traits<char> >
          | |   | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | |   |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | |   |     + 0.20% __memcpy_ssse3_back
          | |   + 0.20% operator<<
          | |     + 0.20% operator<<
          | |       + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
          | |         + 0.20% __strlen_sse2_pminub
          | + 1.40% ceph::logging::Log::submit_entry
          | | + 1.20% pthread_cond_signal@@GLIBC_2.3.2
          | | + 0.20% pthread_mutex_lock
          | |   + 0.20% _L_lock_812
          | |     + 0.20% __lll_lock_wait
          | + 0.80% std::basic_ostream<char, std::char_traits<char> >::basic_ostream(std::basic_streambuf<char, std::char_traits<char> >*)
          | | + 0.80% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
          | |   + 0.40% std::ios_base::_M_init()
          | |   + 0.40% std::basic_ios<char, std::char_traits<char> >::_M_cache_locale(std::locale const&)
          | |     + 0.40% bool std::has_facet<std::ctype<char> >(std::locale const&)
          | |       + 0.20% __dynamic_cast
          | + 0.60% ceph::buffer::list::clear
          | | + 0.40% ~ptr
          | | | + 0.20% ceph::buffer::ptr::release
          | | + 0.20% clear
          | |   + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |     + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          | |       + 0.20% ~_List_node
          | |         + 0.20% ~ptr
          | |           + 0.20% ceph::buffer::ptr::release
          | + 0.60% alloc_aligned_buffer
          | | + 0.20% push_back
          | | | + 0.20% push_back
          | | |   + 0.20% push_back
          | | |     + 0.20% _M_insert<ceph::buffer::ptr>
          | | |       + 0.20% _M_create_node<ceph::buffer::ptr>
          | | |         + 0.20% construct<std::_List_node<ceph::buffer::ptr>, ceph::buffer::ptr>
          | | |           + 0.20% _List_node<ceph::buffer::ptr>
          | | + 0.20% ceph::buffer::create_page_aligned
          | | | + 0.20% ceph::buffer::create_aligned
          | | |   + 0.20% ceph::buffer::create_aligned_in_mempool
          | | |     + 0.20% ceph::buffer::raw_posix_aligned::operator new
          | | |       + 0.20% allocate
          | | |         + 0.20% operator+=
          | | + 0.20% ceph::buffer::create
          | |   + 0.20% ceph::buffer::create_aligned
          | |     + 0.20% ceph::buffer::create_aligned_in_mempool
          | |       + 0.20% create
          | |         + 0.20% raw_combined
          | |           + 0.20% raw
          | |             + 0.20% mempool::pool_t::adjust_count
          | |               + 0.20% operator+=
          | + 0.40% ceph_crc32c
          | | + 0.40% ceph_crc32c_intel_baseline
          | + 0.40% ceph::logging::Log::create_entry
          | | + 0.20% ceph_clock_now
          | | | + 0.20% clock_gettime
          | | |   + 0.20% clock_gettime
          | | + 0.20% Entry
          | |   + 0.20% PrebufferedStreambuf::PrebufferedStreambuf
          | |     + 0.20% basic_streambuf
          | |       + 0.20% std::locale::locale()
          | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
          | | + 0.20% __strlen_sse2_pminub
          | + 0.20% ms_fast_preprocess
          | + 0.20% ceph::buffer::list::iterator_impl<false>::advance
          | + 0.20% ceph::buffer::create
          |   + 0.20% ceph::buffer::create_aligned
          |     + 0.20% ceph::buffer::create_aligned_in_mempool
          |       + 0.20% create
          |         + 0.20% tc_posix_memalign
          |           + 0.20% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          + 8.80% AsyncConnection::handle_write
          | + 7.60% AsyncConnection::write_message
          | | + 3.80% AsyncConnection::_try_send
          | | | + 3.80% send
          | | |   + 3.80% PosixConnectedSocketImpl::send
          | | |     + 3.00% do_sendmsg
          | | |     | + 3.00% sendmsg
          | | |     + 0.60% clear
          | | |     | + 0.40% clear
          | | |     |   + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | | |     |     + 0.40% _M_put_node
          | | |     |       + 0.40% deallocate
          | | |     |         + 0.40% tc_delete
          | | |     |           + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | | |     |             + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | | |     + 0.20% ceph::buffer::ptr::c_str
          | | + 3.20% CephxSessionHandler::sign_message
          | | | + 3.20% CephxSessionHandler::_calc_signature
          | | |   + 2.80% encrypt
          | | |   | + 2.80% CryptoAESKeyHandler::encrypt
          | | |   |   + 2.60% nss_aes_operation
          | | |   |     + 1.40% PK11_CreateContextBySymKey
          | | |   |     | + 1.20% pk11_CreateNewContextInSlot
          | | |   |     | | + 0.60% pk11_context_init
          | | |   |     | | | + 0.60% NSC_EncryptInit
          | | |   |     | | |   + 0.60% sftk_CryptInit
          | | |   |     | | |     + 0.40% AES_CreateContext
          | | |   |     | | |     | + 0.20% PORT_ZAlloc_stub
          | | |   |     | | |     | + 0.20% AES_InitContext
          | | |   |     | | |     + 0.20% sftk_FreeAttribute
          | | |   |     | | + 0.20% PR_NewLock
          | | |   |     | | | + 0.20% tc_calloc
          | | |   |     | | + 0.20% PORT_Alloc_Util
          | | |   |     | | | + 0.20% PR_Malloc
          | | |   |     | | + 0.20% PK11_ReferenceSlot
          | | |   |     | + 0.20% PK11_FreeSymKey
          | | |   |     + 0.40% PK11_DestroyContext
          | | |   |     | + 0.40% pk11_CloseSession
          | | |   |     |   + 0.40% NSC_CloseSession
          | | |   |     |     + 0.20% sftk_getKeyDB
          | | |   |     |     + 0.20% PR_Lock
          | | |   |     |       + 0.20% pthread_mutex_lock
          | | |   |     + 0.40% PK11_CipherOp
          | | |   |     | + 0.40% NSC_EncryptUpdate
          | | |   |     |   + 0.40% sftk_GetContext
          | | |   |     |     + 0.40% sftk_SessionFromHandle
          | | |   |     |       + 0.20% sftk_SlotFromSessionHandle
          | | |   |     |       + 0.20% PR_Lock
          | | |   |     |         + 0.20% pthread_self@plt
          | | |   |     + 0.20% PK11_DigestFinal
          | | |   |       + 0.20% NSC_EncryptFinal
          | | |   |         + 0.20% AES_Encrypt
          | | |   + 0.40% ~list
          | | |     + 0.40% ~list
          | | |       + 0.40% ~_List_base
          | | |         + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | | |           + 0.40% destroy<std::_List_node<ceph::buffer::ptr> >
          | | |             + 0.40% ~_List_node
          | | |               + 0.40% ~ptr
          | | |                 + 0.40% ceph::buffer::ptr::release
          | | |                   + 0.20% tc_free
          | | |                   + 0.20% ceph::buffer::raw_combined::~raw_combined
          | | |                     + 0.20% ~raw_combined
          | | |                       + 0.20% ~raw
          | | |                         + 0.20% mempool::pool_t::adjust_count
          | | + 0.20% ceph::buffer::list::append
          | | + 0.20% calc_header_crc
          | |   + 0.20% ceph_crc32c
          | |     + 0.20% ceph_crc32c_intel_baseline
          | + 0.40% unlock
          | | + 0.40% __gthread_mutex_unlock
          | |   + 0.40% pthread_mutex_unlock
          | |     + 0.40% _L_unlock_713
          | |       + 0.40% __lll_unlock_wake
          | + 0.40% _get_next_outgoing
          | | + 0.20% operator->
          | |   + 0.20% operator*
          | |     + 0.20% operator--
          | |       + 0.20% None
          | + 0.20% lock
          | | + 0.20% __gthread_mutex_lock
          | |   + 0.20% pthread_mutex_lock
          | |     + 0.20% _L_lock_812
          | |       + 0.20% __lll_lock_wait
          | + 0.20% get
          |   + 0.20% get
          + 0.40% C_handle_notify::do_request
          | + 0.40% read
          |   + 0.40% read
          + 0.20% unlock
            + 0.20% __gthread_mutex_unlock
              + 0.20% pthread_mutex_unlock

Thread: 68===7926===msgr_worker_0

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% None
      + 100.00% NetworkStack::__lambda4::operator()
        + 100.00% EventCenter::process_events
          + 48.20% AsyncConnection::process
          | + 12.20% DispatchQueue::fast_dispatch
          | | + 7.00% DispatchQueue::pre_dispatch
          | | | + 4.60% operator<<
          | | | | + 2.80% operator<<
          | | | | | + 1.20% operator<<
          | | | | | | + 0.80% getnameinfo
          | | | | | | | + 0.40% snprintf
          | | | | | | | | + 0.40% vsnprintf
          | | | | | | | |   + 0.40% vfprintf
          | | | | | | | |     + 0.20% tc_free
          | | | | | | | |     | + 0.20% (anonymous namespace)::do_free_helper(void*, void (*)(void*), tcmalloc::ThreadCache*, bool) [clone .part.20] [clone .constprop.46]
          | | | | | | | |     + 0.20% _itoa_word
          | | | | | | | + 0.40% inet_ntop
          | | | | | | |   + 0.40% sprintf
          | | | | | | |     + 0.40% vsprintf
          | | | | | | |       + 0.40% vfprintf
          | | | | | | |         + 0.20% __GI__IO_default_xsputn
          | | | | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | | | | + 0.20% operator<< <std::char_traits<char> >
          | | | | | |   + 0.20% length
          | | | | | + 0.80% operator<< <std::char_traits<char> >
          | | | | | | + 0.80% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | | | |   + 0.60% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | | | | |     + 0.20% __memcpy_ssse3_back
          | | | | | + 0.60% getnameinfo
          | | | | | | + 0.40% snprintf
          | | | | | | | + 0.40% vsnprintf
          | | | | | | |   + 0.40% vfprintf
          | | | | | | + 0.20% inet_ntop
          | | | | | |   + 0.20% sprintf
          | | | | | |     + 0.20% vsprintf
          | | | | | |       + 0.20% vfprintf
          | | | | | |         + 0.20% _itoa_word
          | | | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | | |   + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | | |     + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | | + 0.60% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | | | + 0.20% std::ostream::sentry::sentry(std::ostream&)
          | | | | | + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | | |   + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | | |     + 0.20% None
          | | | | + 0.60% MOSDRepOpReply::print
          | | | | | + 0.40% operator<<
          | | | | | | + 0.20% operator<< <std::char_traits<char> >
          | | | | | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | | | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | | | | | |     + 0.20% __memcpy_ssse3_back
          | | | | | | + 0.20% operator<<
          | | | | | |   + 0.20% operator<<
          | | | | | |     + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | | | | | |       + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | | | | |         + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | | | | + 0.20% operator<< <std::char_traits<char> >
          | | | | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | | + 0.20% operator<< <std::char_traits<char> >
          | | | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | | | + 0.20% MOSDRepOp::print
          | | | | | + 0.20% operator<< <std::char_traits<char> >
          | | | | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | | |     + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | | | |       + 0.20% __memcpy_ssse3_back
          | | | | + 0.20% MOSDOp::print
          | | | |   + 0.20% operator<<
          | | | |     + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | | | |       + 0.20% std::ostream::sentry::sentry(std::ostream&)
          | | | + 1.40% ceph::logging::Log::submit_entry
          | | | | + 0.80% pthread_cond_signal@@GLIBC_2.3.2
          | | | | + 0.60% pthread_mutex_lock
          | | | |   + 0.40% _L_lock_812
          | | | |     + 0.40% __lll_lock_wait
          | | | + 0.40% pthread_mutex_unlock
          | | | | + 0.40% _L_unlock_713
          | | | |   + 0.40% __lll_unlock_wake
          | | | + 0.40% basic_ostream
          | | | | + 0.20% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
          | | | | | + 0.20% std::basic_ios<char, std::char_traits<char> >::_M_cache_locale(std::locale const&)
          | | | | |   + 0.20% std::ctype<char> const& std::use_facet<std::ctype<char> >(std::locale const&)
          | | | | |     + 0.20% __dynamic_cast
          | | | | + 0.20% basic_ios
          | | | + 0.20% operator<< <std::char_traits<char> >
          | | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | |     + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | + 5.20% ms_fast_dispatch
          | |   + 5.00% OSD::ms_fast_dispatch
          | |   | + 3.20% OSD::enqueue_op
          | |   | | + 3.00% queue
          | |   | | | + 3.00% OSD::ShardedOpWQ::_enqueue
          | |   | | |   + 1.20% SignalOne
          | |   | | |   | + 1.20% pthread_cond_signal@@GLIBC_2.3.2
          | |   | | |   + 0.60% Mutex::Lock
          | |   | | |   | + 0.20% pthread_mutex_lock
          | |   | | |   |   + 0.20% _L_lock_812
          | |   | | |   |     + 0.20% __lll_lock_wait
          | |   | | |   + 0.40% Mutex::Unlock
          | |   | | |   | + 0.40% pthread_mutex_unlock
          | |   | | |   |   + 0.40% _L_unlock_713
          | |   | | |   |     + 0.40% __lll_unlock_wake
          | |   | | |   + 0.20% ~pair
          | |   | | |   | + 0.20% ~PGQueueable
          | |   | | |   |   + 0.20% ~variant
          | |   | | |   |     + 0.20% destroy_content
          | |   | | |   |       + 0.20% boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::internal_apply_visitor<boost::detail::variant::destroyer>
          | |   | | |   |         + 0.20% internal_apply_visitor_impl<boost::detail::variant::destroyer, void*>
          | |   | | |   |           + 0.20% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::destroyer, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          | |   | | |   + 0.20% WeightedPriorityQueue<std::pair<spg_t, PGQueueable>, entity_inst_t>::enqueue_strict
          | |   | | |   + 0.20% WeightedPriorityQueue<std::pair<spg_t, PGQueueable>, entity_inst_t>::Queue::insert
          | |   | | |     + 0.20% tc_new
          | |   | | + 0.20% make_pair<spg_t&, PGQueueable>
          | |   | |   + 0.20% pair<spg_t&, PGQueueable, void>
          | |   | |     + 0.20% PGQueueable::PGQueueable(PGQueueable&&)
          | |   | |       + 0.20% variant
          | |   | |         + 0.20% internal_apply_visitor<boost::detail::variant::move_into>
          | |   | |           + 0.20% internal_apply_visitor_impl<boost::detail::variant::move_into, void*>
          | |   | |             + 0.20% visitation_impl<mpl_::int_<0>, boost::detail::variant::visitation_impl_step<boost::mpl::l_iter<boost::mpl::l_item<mpl_::long_<4l>, boost::intrusive_ptr<OpRequest>, boost::mpl::l_item<mpl_::long_<3l>, PGSnapTrim, boost::mpl::l_item<mpl_::long_<2l>, PGScrub, boost::mpl::l_item<mpl_::long_<1l>, PGRecovery, boost::mpl::l_end> > > > >, boost::mpl::l_iter<boost::mpl::l_end> >, boost::detail::variant::move_into, void*, boost::variant<boost::intrusive_ptr<OpRequest>, PGSnapTrim, PGScrub, PGRecovery>::has_fallback_type_>
          | |   | + 1.60% create_request<OpRequest, Message*>
          | |   |   + 1.20% OpRequest::OpRequest
          | |   |   | + 0.80% TrackedOp
          | |   |   |   + 0.60% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&)
          | |   |   |   | + 0.60% char* std::string::_S_construct<char const*>(char const*, char const*, std::allocator<char> const&, std::forward_iterator_tag)
          | |   |   |   |   + 0.20% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          | |   |   |   |   | + 0.20% tc_new
          | |   |   |   |   + 0.20% __memcpy_ssse3_back
          | |   |   |   + 0.20% Mutex::Mutex
          | |   |   |     + 0.20% std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&)
          | |   |   + 0.40% tracking_start
          | |   |     + 0.40% OpTracker::register_inflight_op
          | |   |       + 0.40% Locker
          | |   |         + 0.40% Mutex::Lock
          | |   + 0.20% ceph_clock_now
          | |     + 0.20% clock_gettime
          | |       + 0.20% clock_gettime
          | + 7.00% CephxSessionHandler::check_message_signature
          | | + 6.80% CephxSessionHandler::_calc_signature
          | |   + 5.60% encrypt
          | |   | + 5.60% CryptoAESKeyHandler::encrypt
          | |   |   + 5.60% nss_aes_operation
          | |   |     + 2.60% PK11_CreateContextBySymKey
          | |   |     | + 2.40% pk11_CreateNewContextInSlot
          | |   |     | | + 1.80% pk11_context_init
          | |   |     | | | + 1.80% NSC_EncryptInit
          | |   |     | | |   + 1.40% sftk_CryptInit
          | |   |     | | |     + 0.40% sftk_InitGeneric
          | |   |     | | |     | + 0.20% sftk_FindAttribute
          | |   |     | | |     | + 0.20% PORT_Alloc_Util
          | |   |     | | |     |   + 0.20% tc_malloc
          | |   |     | | |     + 0.40% sftk_FindAttribute
          | |   |     | | |     | + 0.40% PR_Lock
          | |   |     | | |     |   + 0.40% pthread_mutex_lock
          | |   |     | | |     + 0.20% sftk_MechAllowsOperation
          | |   |     | | |     + 0.20% PR_Unlock
          | |   |     | | |     | + 0.20% pthread_mutex_unlock
          | |   |     | | |     + 0.20% AES_CreateContext
          | |   |     | | |       + 0.20% PORT_ZAlloc_Util
          | |   |     | | |         + 0.20% tc_calloc
          | |   |     | | + 0.40% pk11_GetNewSession
          | |   |     | | | + 0.40% NSC_OpenSession
          | |   |     | | |   + 0.20% sftk_NewSession
          | |   |     | | |     + 0.20% PR_NewLock
          | |   |     | | |       + 0.20% tc_calloc
          | |   |     | | + 0.20% SECITEM_ArenaDupItem_Util
          | |   |     | |   + 0.20% PORT_Alloc_Util
          | |   |     | |     + 0.20% tc_malloc
          | |   |     | + 0.20% pk11_ForceSlot
          | |   |     |   + 0.20% pk11_ForceSlotMultiple
          | |   |     |     + 0.20% PK11_DoesMechanism
          | |   |     + 1.20% PK11_DestroyContext
          | |   |     | + 1.20% pk11_CloseSession
          | |   |     |   + 1.00% NSC_CloseSession
          | |   |     |     + 0.60% sftk_FreeSession
          | |   |     |     | + 0.40% PR_Lock
          | |   |     |     | | + 0.40% pthread_mutex_lock
          | |   |     |     | + 0.20% tc_free
          | |   |     |     + 0.20% sftk_SessionFromHandle
          | |   |     |     | + 0.20% sftk_SlotFromSessionHandle
          | |   |     |     + 0.20% PR_Lock
          | |   |     |       + 0.20% pthread_mutex_lock
          | |   |     + 1.00% PK11_DigestFinal
          | |   |     | + 1.00% NSC_EncryptFinal
          | |   |     |   + 0.40% sftk_GetContext
          | |   |     |   | + 0.40% sftk_SessionFromHandle
          | |   |     |   |   + 0.40% PR_Lock
          | |   |     |   |     + 0.40% pthread_mutex_lock
          | |   |     |   + 0.20% tc_free
          | |   |     |   + 0.20% sftk_FreeContext
          | |   |     |   | + 0.20% sftk_FreeObject
          | |   |     |   |   + 0.20% PR_Unlock
          | |   |     |   |     + 0.20% pthread_mutex_unlock
          | |   |     |   + 0.20% AES_Encrypt
          | |   |     |     + 0.20% intel_aes_encrypt_cbc_128
          | |   |     + 0.20% operator=
          | |   |     | + 0.20% make_shareable
          | |   |     |   + 0.20% ceph::buffer::ptr::make_shareable
          | |   |     |     + 0.20% ceph::buffer::raw::is_shareable
          | |   |     + 0.20% list
          | |   |     | + 0.20% ceph::buffer::list::iterator_impl<false>::advance
          | |   |     + 0.20% ceph::buffer::ptr::ptr
          | |   |     | + 0.20% ceph::buffer::create
          | |   |     |   + 0.20% ceph::buffer::create_aligned
          | |   |     |     + 0.20% ceph::buffer::create_aligned_in_mempool
          | |   |     + 0.20% PK11_CipherOp
          | |   |       + 0.20% NSC_EncryptUpdate
          | |   + 1.00% ~list
          | |   | + 1.00% ~list
          | |   |   + 1.00% ~_List_base
          | |   |     + 1.00% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |       + 0.80% destroy<std::_List_node<ceph::buffer::ptr> >
          | |   |         + 0.80% ~_List_node
          | |   |           + 0.80% ~ptr
          | |   |             + 0.80% ceph::buffer::ptr::release
          | |   |               + 0.40% ceph::buffer::raw_combined::~raw_combined
          | |   |               | + 0.20% ~raw_combined
          | |   |               |   + 0.20% ~raw
          | |   |               |     + 0.20% mempool::pool_t::adjust_count
          | |   |               |       + 0.20% operator+=
          | |   |               + 0.20% ceph::buffer::raw_static::~raw_static
          | |   |               | + 0.20% ~raw_static
          | |   |               |   + 0.20% ~raw
          | |   |               |     + 0.20% mempool::pool_t::adjust_count
          | |   |               |       + 0.20% operator+=
          | |   |               + 0.20% ceph::buffer::raw_static::operator delete
          | |   |                 + 0.20% deallocate
          | |   + 0.20% ceph::buffer::create_static
          | |     + 0.20% raw_static
          | |       + 0.20% raw
          | |         + 0.20% mempool::pool_t::adjust_count
          | |           + 0.20% operator+=
          | + 5.80% AsyncConnection::_conn_prefix
          | | + 5.40% operator<<
          | | | + 4.20% operator<<
          | | | | + 3.40% getnameinfo
          | | | | | + 2.60% inet_ntop
          | | | | | | + 2.20% sprintf
          | | | | | | | + 2.20% vsprintf
          | | | | | | |   + 2.00% vfprintf
          | | | | | | |   | + 0.40% tc_free
          | | | | | | |   | + 0.40% __GI__IO_default_xsputn
          | | | | | | |   + 0.20% _IO_str_init_static_internal
          | | | | | | |     + 0.20% __GI__IO_setb
          | | | | | | + 0.20% __strcpy_sse2
          | | | | | + 0.80% snprintf
          | | | | |   + 0.80% vsnprintf
          | | | | |     + 0.20% vfprintf
          | | | | |     | + 0.20% tc_free
          | | | | |     + 0.20% _IO_str_init_static_internal
          | | | | |     + 0.20% _IO_no_init
          | | | | + 0.40% operator<< <std::char_traits<char> >
          | | | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | | | + 0.20% length
          | | | | + 0.20% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | |   + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | |     + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | |       + 0.20% None
          | | | + 0.60% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | | | + 0.40% std::ostream::sentry::sentry(std::ostream&)
          | | | | + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | |   + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | | |     + 0.20% None
          | | | + 0.60% std::ostream& std::ostream::_M_insert<bool>(bool)
          | | |   + 0.40% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, bool) const
          | | |     + 0.40% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | + 0.20% operator<< <std::char_traits<char> >
          | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | |   + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | + 0.20% AsyncConnection::get_state_name
          | + 4.60% AsyncConnection::read_until
          | | + 3.40% AsyncConnection::read_bulk
          | | | + 3.20% read
          | | |   + 3.20% PosixConnectedSocketImpl::read
          | | |     + 3.20% read
          | | |       + 3.20% read
          | | |         + 0.20% __pthread_enable_asynccancel
          | | + 1.20% memcpy
          | |   + 1.20% __memcpy_ssse3_back
          | + 3.60% decode_message
          | | + 1.20% ceph::buffer::list::crc32c
          | | | + 0.60% ceph_crc32c
          | | | | + 0.40% ceph_crc32c_intel_fast
          | | | | | + 0.20% None
          | | | | |   + 0.20% None
          | | | | |     + 0.20% crc32_iscsi_00
          | | | | + 0.20% ceph_crc32c_intel_baseline
          | | | + 0.40% set_crc
          | | | | + 0.40% operator[]
          | | | |   + 0.40% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::piecewise_construct_t const&, std::tuple<std::pair<unsigned long, unsigned long> const&>&&, std::tuple<>&&)
          | | | |     + 0.20% _M_insert_node
          | | | |     | + 0.20% std::_Rb_tree_insert_and_rebalance(bool, std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::_Rb_tree_node_base&)
          | | | |     + 0.20% _M_create_node<const std::piecewise_construct_t&, std::tuple<const std::pair<long unsigned int, long unsigned int>&>, std::tuple<> >
          | | | |       + 0.20% _M_get_node
          | | | |         + 0.20% allocate
          | | | |           + 0.20% tc_new
          | | | + 0.20% ceph::buffer::ptr::c_str
          | | + 0.40% MOSDRepOp::decode_payload
          | | | + 0.20% decode
          | | |   + 0.20% spg_t::decode
          | | |     + 0.20% decode
          | | |       + 0.20% decode
          | | |         + 0.20% decode
          | | |           + 0.20% decode_raw<signed char>
          | | |             + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          | | + 0.40% MOSDOp::decode_payload
          | | | + 0.20% decode
          | | | | + 0.20% decode_raw<ceph_le<unsigned int> >
          | | | |   + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          | | | + 0.20% Message::decode_trace
          | | |   + 0.20% decode
          | | |     + 0.20% decode
          | | |       + 0.20% decode_raw<ceph_le<unsigned long long> >
          | | |         + 0.20% ceph::buffer::list::iterator_impl<false>::copy
          | | + 0.40% MOSDFastDispatchOp
          | | | + 0.40% Message::Message
          | | |   + 0.20% memset
          | | |   + 0.20% list
          | | + 0.20% ~intrusive_ptr
          | | | + 0.20% RefCountedObject::put
          | | + 0.20% tc_new
          | | + 0.20% spg_t
          | | + 0.20% set_middle
          | | | + 0.20% ceph::buffer::list::claim
          | | |   + 0.20% clear
          | | + 0.20% pg_shard_t
          | | + 0.20% MOSDRepOpReply::MOSDRepOpReply
          | |   + 0.20% MOSDFastDispatchOp
          | |     + 0.20% Message::Message
          | |       + 0.20% memset
          | + 3.40% AsyncConnection::handle_ack
          | | + 3.40% RefCountedObject::put
          | |   + 2.60% MOSDRepOp::~MOSDRepOp
          | |   | + 2.60% ~MOSDRepOp
          | |   |   + 2.20% ~MOSDFastDispatchOp
          | |   |   | + 2.20% Message::~Message
          | |   |   |   + 2.20% ~list
          | |   |   |     + 2.20% ~list
          | |   |   |       + 2.20% ~_List_base
          | |   |   |         + 2.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |   |           + 1.40% destroy<std::_List_node<ceph::buffer::ptr> >
          | |   |   |           | + 1.40% ~_List_node
          | |   |   |           |   + 1.00% ~ptr
          | |   |   |           |     + 1.00% ceph::buffer::ptr::release
          | |   |   |           |       + 0.80% ceph::buffer::raw_combined::~raw_combined
          | |   |   |           |         + 0.80% ~raw_combined
          | |   |   |           |           + 0.80% ~raw
          | |   |   |           |             + 0.60% ~map
          | |   |   |           |             | + 0.60% ~_Rb_tree
          | |   |   |           |             |   + 0.60% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_erase
          | |   |   |           |             |     + 0.40% std::_Rb_tree<std::pair<unsigned long, unsigned long>, std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> >, std::_Select1st<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > >, std::less<std::pair<unsigned long, unsigned long> >, std::allocator<std::pair<std::pair<unsigned long, unsigned long> const, std::pair<unsigned int, unsigned int> > > >::_M_erase
          | |   |   |           |             |       + 0.40% _M_destroy_node
          | |   |   |           |             |         + 0.40% _M_put_node
          | |   |   |           |             |           + 0.40% deallocate
          | |   |   |           |             |             + 0.40% tc_delete
          | |   |   |           |             |               + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | |   |   |           |             |                 + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | |   |   |           |             + 0.20% mempool::pool_t::adjust_count
          | |   |   |           + 0.80% _M_put_node
          | |   |   |             + 0.80% deallocate
          | |   |   |               + 0.80% tc_delete
          | |   |   |                 + 0.60% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | |   |   |                   + 0.60% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | |   |   + 0.20% ~list
          | |   |   | + 0.20% ~list
          | |   |   |   + 0.20% ~_List_base
          | |   |   |     + 0.20% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |   |       + 0.20% _M_put_node
          | |   |   |         + 0.20% deallocate
          | |   |   |           + 0.20% tc_delete
          | |   |   + 0.20% hobject_t::~hobject_t
          | |   |     + 0.20% ~object_t
          | |   |       + 0.20% ~basic_string
          | |   + 0.60% MOSDRepOpReply::~MOSDRepOpReply
          | |   | + 0.60% ~MOSDRepOpReply
          | |   |   + 0.60% ~MOSDFastDispatchOp
          | |   |     + 0.60% Message::~Message
          | |   |       + 0.60% ~list
          | |   |         + 0.60% ~list
          | |   |           + 0.60% ~_List_base
          | |   |             + 0.60% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | |   |               + 0.40% destroy<std::_List_node<ceph::buffer::ptr> >
          | |   |                 + 0.40% ~_List_node
          | |   |                   + 0.40% ~ptr
          | |   |                     + 0.40% ceph::buffer::ptr::release
          | |   |                       + 0.20% tc_free
          | |   |                       + 0.20% ceph::buffer::raw_combined::~raw_combined
          | |   |                         + 0.20% ~raw_combined
          | |   |                           + 0.20% ~raw
          | |   |                             + 0.20% mempool::pool_t::adjust_count
          | |   |                               + 0.20% operator+=
          | |   + 0.20% tc_delete
          | + 2.60% operator<<
          | | + 1.20% MOSDOp::print
          | | | + 0.80% ceph_osd_flag_string
          | | | | + 0.80% operator+=
          | | | |   + 0.80% append
          | | | |     + 0.60% std::string::append(char const*, unsigned long)
          | | | |     | + 0.40% std::string::reserve(unsigned long)
          | | | |     |   + 0.40% std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long)
          | | | |     |     + 0.40% std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&)
          | | | |     |       + 0.40% tc_new
          | | | |     + 0.20% _ZNSs6appendEPKcm@plt
          | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
          | | | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | | |   + 0.20% _ZNSo6sentryC1ERSo@plt
          | | | + 0.20% operator<<
          | | |   + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | | |     + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |       + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | | |         + 0.20% None
          | | + 0.80% MOSDRepOpReply::print
          | | | + 0.80% operator<<
          | | |   + 0.40% std::ostream& std::ostream::_M_insert<unsigned long>(unsigned long)
          | | |   | + 0.40% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | |   |   + 0.40% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | |   |     + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | |   |     + 0.20% None
          | | |   + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
          | | |   | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | |   + 0.20% spg_t::calc_name
          | | + 0.20% std::ostream& std::ostream::_M_insert<void const*>(void const*)
          | | | + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, void const*) const
          | | |   + 0.20% std::ostreambuf_iterator<char, std::char_traits<char> > std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::_M_insert_int<unsigned long>(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, unsigned long) const
          | | |     + 0.20% std::basic_streambuf<char, std::char_traits<char> >::xsputn(char const*, long)
          | | |       + 0.20% __memcpy_ssse3_back
          | | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*, long)
          | | + 0.20% operator<<
          | |   + 0.20% std::ostream& std::ostream::_M_insert<long>(long)
          | |     + 0.20% std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > >::do_put(std::ostreambuf_iterator<char, std::char_traits<char> >, std::ios_base&, char, long) const
          | + 2.00% ceph::logging::Log::submit_entry
          | | + 1.20% pthread_cond_signal@@GLIBC_2.3.2
          | | + 0.80% pthread_mutex_lock
          | |   + 0.20% _L_lock_812
          | |     + 0.20% __lll_lock_wait
          | + 1.60% ceph::logging::Log::create_entry
          | | + 0.60% Entry
          | | | + 0.60% PrebufferedStreambuf::PrebufferedStreambuf
          | | |   + 0.60% basic_streambuf
          | | |     + 0.60% std::locale::locale()
          | | |       + 0.20% None
          | | |         + 0.20% pthread_once
          | | + 0.40% tc_new
          | | | + 0.20% tcmalloc::ThreadCache::FetchFromCentralCache(unsigned long, unsigned long)
          | | + 0.20% ceph_clock_now
          | |   + 0.20% clock_gettime
          | |     + 0.20% clock_gettime
          | + 1.40% std::basic_ostream<char, std::char_traits<char> >::basic_ostream(std::basic_streambuf<char, std::char_traits<char> >*)
          | | + 1.40% std::basic_ios<char, std::char_traits<char> >::init(std::basic_streambuf<char, std::char_traits<char> >*)
          | |   + 1.20% std::basic_ios<char, std::char_traits<char> >::_M_cache_locale(std::locale const&)
          | |   | + 0.80% bool std::has_facet<std::ctype<char> >(std::locale const&)
          | |   | | + 0.20% __dynamic_cast
          | |   | + 0.20% std::ctype<char> const& std::use_facet<std::ctype<char> >(std::locale const&)
          | |   | | + 0.20% std::locale::id::_M_id() const
          | |   | + 0.20% bool std::has_facet<std::num_put<char, std::ostreambuf_iterator<char, std::char_traits<char> > > >(std::locale const&)
          | |   |   + 0.20% __dynamic_cast
          | |   |     + 0.20% __cxxabiv1::__si_class_type_info::__do_dyncast(long, __cxxabiv1::__class_type_info::__sub_kind, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info const*, void const*, __cxxabiv1::__class_type_info::__dyncast_result&) const
          | |   + 0.20% std::ios_base::_M_init()
          | |     + 0.20% std::locale::locale()
          | + 1.20% alloc_aligned_buffer
          | | + 0.80% ceph::buffer::create_page_aligned
          | | | + 0.80% ceph::buffer::create_aligned
          | | |   + 0.80% ceph::buffer::create_aligned_in_mempool
          | | |     + 0.60% raw_posix_aligned
          | | |     | + 0.60% raw
          | | |     |   + 0.40% mempool::pool_t::adjust_count
          | | |     |   | + 0.40% operator+=
          | | |     |   + 0.20% mempool::get_pool
          | | |     + 0.20% ceph::buffer::raw_posix_aligned::operator new
          | | |       + 0.20% allocate
          | | |         + 0.20% operator+=
          | | + 0.40% ceph::buffer::create
          | |   + 0.40% ceph::buffer::create_aligned
          | |     + 0.40% ceph::buffer::create_aligned_in_mempool
          | |       + 0.40% create
          | |         + 0.40% tc_posix_memalign
          | |           + 0.40% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          | |             + 0.20% tcmalloc::AlignmentForSize(unsigned long)
          | + 0.40% ceph::buffer::ptr::c_str
          | | + 0.40% ceph::buffer::raw::get_data
          | + 0.20% ~basic_ostream
          | | + 0.20% ~basic_ios
          | |   + 0.20% std::ios_base::~ios_base()
          | + 0.20% std::mutex::lock
          | | + 0.20% __gthread_mutex_lock
          | |   + 0.20% pthread_mutex_lock
          | + 0.20% std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
          | | + 0.20% __strlen_sse2_pminub
          | + 0.20% pthread_mutex_unlock
          | | + 0.20% _L_unlock_713
          | |   + 0.20% __lll_unlock_wake
          | + 0.20% ms_fast_preprocess
          | | + 0.20% OSD::ms_fast_preprocess
          | + 0.20% ceph_crc32c
          | | + 0.20% ceph_crc32c_intel_fast
          | |   + 0.20% None
          | |     + 0.20% None
          | |       + 0.20% crc32_iscsi_00
          | + 0.20% ceph::buffer::list::clear
          | + 0.20% ceph::buffer::list::append
          | | + 0.20% ceph::buffer::ptr::ptr
          | + 0.20% ceph::buffer::create
          | | + 0.20% ceph::buffer::create_aligned
          | |   + 0.20% ceph::buffer::create_aligned_in_mempool
          | |     + 0.20% create
          | |       + 0.20% tc_posix_memalign
          | + 0.20% Throttle::get_or_fail
          + 34.40% EpollDriver::event_wait
          | + 34.40% epoll_wait
          + 17.00% AsyncConnection::handle_write
          | + 14.40% AsyncConnection::write_message
          | | + 7.40% AsyncConnection::_try_send
          | | | + 6.60% send
          | | | | + 6.60% PosixConnectedSocketImpl::send
          | | | |   + 5.60% do_sendmsg
          | | | |   | + 5.60% sendmsg
          | | | |   + 0.80% clear
          | | | |   | + 0.80% clear
          | | | |   |   + 0.80% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | | | |   |     + 0.80% _M_put_node
          | | | |   |       + 0.80% deallocate
          | | | |   |         + 0.80% tc_delete
          | | | |   |           + 0.80% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | | | |   |             + 0.80% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | | | |   + 0.20% ceph::buffer::ptr::c_str
          | | | + 0.60% EventCenter::create_file_event
          | | |   + 0.60% EpollDriver::add_event
          | | |     + 0.40% epoll_ctl
          | | + 4.20% CephxSessionHandler::sign_message
          | | | + 4.20% CephxSessionHandler::_calc_signature
          | | |   + 3.60% encrypt
          | | |   | + 3.60% CryptoAESKeyHandler::encrypt
          | | |   |   + 3.60% nss_aes_operation
          | | |   |     + 1.60% PK11_CreateContextBySymKey
          | | |   |     | + 1.40% pk11_CreateNewContextInSlot
          | | |   |     | | + 0.80% pk11_context_init
          | | |   |     | | | + 0.80% NSC_EncryptInit
          | | |   |     | | |   + 0.80% sftk_CryptInit
          | | |   |     | | |     + 0.60% sftk_InitGeneric
          | | |   |     | | |     | + 0.40% sftk_ObjectFromHandle
          | | |   |     | | |     | | + 0.20% sftk_ReferenceObject
          | | |   |     | | |     | |   + 0.20% PR_Lock
          | | |   |     | | |     | |     + 0.20% pthread_mutex_lock
          | | |   |     | | |     | + 0.20% sftk_FindAttribute
          | | |   |     | | |     |   + 0.20% PR_Lock
          | | |   |     | | |     |     + 0.20% pthread_mutex_lock
          | | |   |     | | |     + 0.20% sftk_SessionFromHandle
          | | |   |     | | + 0.60% pk11_GetNewSession
          | | |   |     | |   + 0.60% NSC_OpenSession
          | | |   |     | |     + 0.20% PR_Lock
          | | |   |     | |       + 0.20% pthread_mutex_lock
          | | |   |     | + 0.20% pk11_ForceSlot
          | | |   |     |   + 0.20% pk11_ForceSlotMultiple
          | | |   |     + 1.00% PK11_DestroyContext
          | | |   |     | + 0.80% pk11_CloseSession
          | | |   |     | | + 0.80% NSC_CloseSession
          | | |   |     | |   + 0.20% sftk_getKeyDB
          | | |   |     | |   | + 0.20% PR_Lock
          | | |   |     | |   |   + 0.20% pthread_mutex_lock
          | | |   |     | |   + 0.20% sftk_SessionFromHandle
          | | |   |     | |   | + 0.20% PR_Unlock
          | | |   |     | |   |   + 0.20% pthread_mutex_unlock
          | | |   |     | |   + 0.20% sftk_FreeSession
          | | |   |     | |   | + 0.20% PR_DestroyLock
          | | |   |     | |   + 0.20% PR_Unlock
          | | |   |     | |     + 0.20% pthread_mutex_unlock
          | | |   |     | + 0.20% SECITEM_FreeItem_Util
          | | |   |     |   + 0.20% tc_free
          | | |   |     + 0.80% PK11_DigestFinal
          | | |   |     | + 0.60% NSC_EncryptFinal
          | | |   |     | | + 0.40% AES_Encrypt
          | | |   |     | | | + 0.40% intel_aes_encrypt_cbc_128
          | | |   |     | | + 0.20% PR_Unlock
          | | |   |     | |   + 0.20% pthread_mutex_unlock
          | | |   |     | + 0.20% PR_Unlock
          | | |   |     |   + 0.20% pthread_mutex_unlock
          | | |   |     + 0.20% PK11_CipherOp
          | | |   |       + 0.20% NSC_EncryptUpdate
          | | |   |         + 0.20% AES_Encrypt
          | | |   |           + 0.20% intel_aes_encrypt_cbc_128
          | | |   + 0.40% ~list
          | | |   | + 0.40% ~list
          | | |   |   + 0.40% ~_List_base
          | | |   |     + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | | |   |       + 0.20% destroy<std::_List_node<ceph::buffer::ptr> >
          | | |   |       | + 0.20% ~_List_node
          | | |   |       |   + 0.20% ~ptr
          | | |   |       |     + 0.20% ceph::buffer::ptr::release
          | | |   |       |       + 0.20% ceph::buffer::raw_static::operator delete
          | | |   |       |         + 0.20% deallocate
          | | |   |       + 0.20% _M_put_node
          | | |   |         + 0.20% deallocate
          | | |   |           + 0.20% tc_delete
          | | |   + 0.20% decode
          | | |     + 0.20% decode_raw<ceph_le<unsigned long long> >
          | | + 1.00% RefCountedObject::put
          | | | + 1.00% MOSDOpReply::~MOSDOpReply
          | | |   + 1.00% ~MOSDOpReply
          | | |     + 0.80% ~vector
          | | |     | + 0.40% ~_Vector_base
          | | |     | | + 0.40% _M_deallocate
          | | |     | |   + 0.40% deallocate
          | | |     | |     + 0.40% tc_delete
          | | |     | |       + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | | |     | |         + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | | |     | + 0.40% _Destroy<OSDOp*, OSDOp>
          | | |     |   + 0.40% _Destroy<OSDOp*>
          | | |     |     + 0.40% __destroy<OSDOp*>
          | | |     |       + 0.40% _Destroy<OSDOp>
          | | |     |         + 0.40% ~OSDOp
          | | |     |           + 0.40% ~list
          | | |     |             + 0.40% ~list
          | | |     |               + 0.40% ~_List_base
          | | |     |                 + 0.40% std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear
          | | |     |                   + 0.40% _M_put_node
          | | |     |                     + 0.40% deallocate
          | | |     |                       + 0.40% tc_delete
          | | |     |                         + 0.20% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
          | | |     |                           + 0.20% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
          | | |     + 0.20% ~object_t
          | | |       + 0.20% ~basic_string
          | | |         + 0.20% None
          | | + 0.80% ceph::buffer::list::claim_append
          | | | + 0.80% make_shareable
          | | |   + 0.80% ceph::buffer::ptr::make_shareable
          | | + 0.80% ceph::buffer::list::append
          | | | + 0.40% create
          | | | | + 0.40% tc_posix_memalign
          | | | |   + 0.40% (anonymous namespace)::do_memalign(unsigned long, unsigned long)
          | | | |     + 0.40% tcmalloc::AlignmentForSize(unsigned long)
          | | | + 0.20% ceph::buffer::ptr::ptr
          | | | | + 0.20% operator++
          | | | |   + 0.20% fetch_add
          | | | + 0.20% ceph::buffer::list::append
          | | |   + 0.20% push_back
          | | |     + 0.20% push_back
          | | |       + 0.20% _M_insert<ceph::buffer::ptr>
          | | |         + 0.20% _M_create_node<ceph::buffer::ptr>
          | | |           + 0.20% _M_get_node
          | | |             + 0.20% allocate
          | | |               + 0.20% tc_new
          | | + 0.20% operator++
          | + 0.80% _get_next_outgoing
          | | + 0.80% erase
          | |   + 0.80% _M_erase
          | |     + 0.80% _M_put_node
          | |       + 0.80% deallocate
          | |         + 0.80% tc_delete
          | + 0.80% AsyncConnection::prepare_send_message
          | | + 0.60% Message::encode
          | |   + 0.40% MOSDOpReply::encode_payload
          | |     + 0.40% encode
          | |       + 0.40% encode
          | |         + 0.40% encode
          | |           + 0.20% encode_raw<ceph_le<unsigned int> >
          | |           | + 0.20% ceph::buffer::list::append
          | |           + 0.20% encode
          | |             + 0.20% encode_raw<ceph_le<unsigned int> >
          | |               + 0.20% ceph::buffer::list::append
          | |                 + 0.20% create
          | |                   + 0.20% raw_combined
          | |                     + 0.20% raw
          | |                       + 0.20% mempool::pool_t::adjust_count
          | + 0.20% unlock
          | | + 0.20% __gthread_mutex_unlock
          | |   + 0.20% pthread_mutex_unlock
          | + 0.20% lock
          | | + 0.20% __gthread_mutex_lock
          | |   + 0.20% pthread_mutex_lock
          | |     + 0.20% _L_lock_812
          | |       + 0.20% __lll_lock_wait
          | + 0.20% PerfCounters::tinc
          | + 0.20% AsyncConnection::_try_send
          |   + 0.20% send
          |     + 0.20% PosixConnectedSocketImpl::send
          |       + 0.20% do_sendmsg
          |         + 0.20% sendmsg
          + 0.40% C_handle_notify::do_request
            + 0.40% read
              + 0.40% read

Thread: 69===7924===log

+ 100.00% clone
  + 100.00% start_thread
    + 100.00% ceph::logging::Log::entry
      + 95.00% pthread_cond_wait@@GLIBC_2.3.2
      | + 0.20% __pthread_mutex_cond_lock
      |   + 0.20% _L_cond_lock_789
      |     + 0.20% __lll_lock_wait
      + 3.40% ceph::logging::Log::flush
      | + 1.60% tc_delete
      | | + 1.00% tcmalloc::ThreadCache::ListTooLong(tcmalloc::ThreadCache::FreeList*, unsigned long)
      | |   + 1.00% tcmalloc::ThreadCache::ReleaseToCentralCache(tcmalloc::ThreadCache::FreeList*, unsigned long, int)
      | + 0.60% ~Entry
      | | + 0.60% ~PrebufferedStreambuf
      | |   + 0.40% ~basic_streambuf
      | |   | + 0.40% std::locale::~locale()
      | |   + 0.20% ~basic_string
      | + 0.60% dequeue
      | + 0.40% pthread_mutex_lock
      | | + 0.40% _L_lock_812
      | |   + 0.40% __lll_lock_wait
      | + 0.20% ceph::logging::Log::_flush
      |   + 0.20% safe_write
      |     + 0.20% write
      + 1.40% pthread_mutex_unlock
      | + 1.40% _L_unlock_713
      |   + 1.40% __lll_unlock_wake
      + 0.20% pthread_mutex_lock
        + 0.20% _L_lock_812
          + 0.20% __lll_lock_wait
A debugging session is active.

        Inferior 1 [process 7922] will be detached.
